<!DOCTYPE html>
<html lang="fr">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MYTHOS — Cahier des Charges Complet</title>
  <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap"
    rel="stylesheet">
  <style>
    :root {
      --primary: #6366f1;
      --primary-light: #818cf8;
      --accent: #f59e0b;
      --danger: #ef4444;
      --success: #22c55e;
      --bg: #ffffff;
      --text: #1e293b;
      --text-light: #64748b;
      --border: #e2e8f0;
      --card-bg: #f8fafc;
      --code-bg: #f1f5f9;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      color: var(--text);
      background: var(--bg);
      line-height: 1.7;
      font-size: 11pt;
    }

    /* ---- COVER PAGE ---- */
    .cover {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      background: linear-gradient(135deg, #1e1b4b 0%, #312e81 50%, #4338ca 100%);
      color: #fff;
      padding: 60px 40px;
      page-break-after: always;
    }

    .cover h1 {
      font-size: 4em;
      font-weight: 900;
      letter-spacing: 0.15em;
      margin-bottom: 12px;
      background: linear-gradient(135deg, #c7d2fe, #fbbf24);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .cover .subtitle {
      font-size: 1.3em;
      font-weight: 300;
      color: #c7d2fe;
      margin-bottom: 40px;
    }

    .cover .meta-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 16px;
      max-width: 500px;
      width: 100%;
      margin-bottom: 40px;
    }

    .cover .meta-item {
      background: rgba(255, 255, 255, 0.08);
      border: 1px solid rgba(255, 255, 255, 0.15);
      border-radius: 10px;
      padding: 14px 16px;
      text-align: left;
    }

    .cover .meta-item .label {
      font-size: 0.7em;
      color: #a5b4fc;
      text-transform: uppercase;
      letter-spacing: 0.1em;
    }

    .cover .meta-item .value {
      font-size: 1em;
      font-weight: 600;
      color: #fff;
      margin-top: 4px;
    }

    .cover .team {
      display: flex;
      gap: 20px;
      flex-wrap: wrap;
      justify-content: center;
      margin-top: 20px;
    }

    .cover .team-member {
      background: rgba(255, 255, 255, 0.06);
      border: 1px solid rgba(255, 255, 255, 0.12);
      border-radius: 10px;
      padding: 12px 18px;
      text-align: center;
    }

    .cover .team-member .name {
      font-weight: 600;
      font-size: 0.95em;
    }

    .cover .team-member .role {
      font-size: 0.75em;
      color: #a5b4fc;
    }

    .cover .go-badge {
      display: inline-block;
      background: rgba(251, 191, 36, 0.2);
      border: 2px solid #fbbf24;
      color: #fbbf24;
      font-weight: 700;
      font-size: 1.1em;
      padding: 10px 30px;
      border-radius: 50px;
      margin-top: 30px;
      letter-spacing: 0.05em;
    }

    /* ---- TOC ---- */
    .toc {
      padding: 60px 80px;
      page-break-after: always;
    }

    .toc h2 {
      font-size: 1.8em;
      margin-bottom: 30px;
      color: var(--primary);
    }

    .toc-list {
      list-style: none;
      counter-reset: toc-section;
    }

    .toc-list>li {
      padding: 10px 0;
      border-bottom: 1px solid var(--border);
      font-size: 1em;
    }

    .toc-list>li>a {
      text-decoration: none;
      color: var(--text);
      font-weight: 600;
      font-size: 1.05em;
      display: block;
      margin-bottom: 4px;
    }

    .toc-list>li>a:hover {
      color: var(--primary);
    }

    .toc-sub {
      list-style: none;
      padding-left: 18px;
      margin: 6px 0 2px 0;
      font-size: 0.85em;
      columns: 2;
      column-gap: 16px;
      line-height: 1.6;
    }

    .toc-sub li {
      break-inside: avoid;
      margin-bottom: 1px;
      padding: 1px 0;
      position: relative;
      padding-left: 10px;
    }

    .toc-sub li::before {
      content: "—";
      position: absolute;
      left: 0;
      color: var(--border);
      font-size: 0.8em;
    }

    .toc-sub li a {
      text-decoration: none;
      color: var(--text-light);
      font-weight: 400;
    }

    .toc-sub li a:hover {
      color: var(--primary);
    }

    /* ---- MAIN CONTENT ---- */
    .content {
      padding: 40px 80px;
      max-width: 1100px;
      margin: 0 auto;
    }

    h2 {
      font-size: 1.6em;
      font-weight: 800;
      color: var(--primary);
      margin-top: 50px;
      margin-bottom: 16px;
      padding-bottom: 8px;
      border-bottom: 3px solid var(--primary);
      page-break-after: avoid;
    }

    h3 {
      font-size: 1.2em;
      font-weight: 700;
      color: var(--text);
      margin-top: 30px;
      margin-bottom: 10px;
      page-break-after: avoid;
    }

    h4 {
      font-size: 1em;
      font-weight: 600;
      color: var(--text-light);
      margin-top: 20px;
      margin-bottom: 8px;
    }

    p {
      margin-bottom: 12px;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin: 14px 0 20px;
      font-size: 0.88em;
      page-break-inside: auto;
    }

    thead {
      background: var(--primary);
      color: #fff;
    }

    th {
      padding: 8px 12px;
      text-align: left;
      font-weight: 600;
    }

    td {
      padding: 7px 12px;
      border-bottom: 1px solid var(--border);
    }

    tbody tr:nth-child(even) {
      background: var(--card-bg);
    }

    tbody tr:hover {
      background: #eef2ff;
    }

    .badge {
      display: inline-block;
      padding: 2px 10px;
      border-radius: 20px;
      font-size: 0.75em;
      font-weight: 600;
    }

    .badge-must {
      background: #fee2e2;
      color: #dc2626;
    }

    .badge-should {
      background: #fef9c3;
      color: #ca8a04;
    }

    .badge-could {
      background: #dbeafe;
      color: #2563eb;
    }

    .badge-wont {
      background: #f1f5f9;
      color: #64748b;
    }

    .badge-critical {
      background: #ef4444;
      color: #fff;
    }

    .badge-high {
      background: #f97316;
      color: #fff;
    }

    .badge-medium {
      background: #eab308;
      color: #fff;
    }

    .badge-low {
      background: #22c55e;
      color: #fff;
    }

    .card {
      background: var(--card-bg);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 20px;
      margin: 14px 0;
    }

    .card-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 16px;
      margin: 16px 0;
    }

    .card-grid .card {
      text-align: center;
    }

    .card-grid .card .number {
      font-size: 2em;
      font-weight: 800;
      color: var(--primary);
    }

    .card-grid .card .desc {
      font-size: 0.85em;
      color: var(--text-light);
      margin-top: 4px;
    }

    .mermaid-container {
      margin: 20px 0;
      padding: 20px;
      background: #fafbff;
      border: 1px solid var(--border);
      border-radius: 12px;
      overflow-x: auto;
      page-break-inside: auto;
    }

    .mermaid-container svg {
      max-width: 100% !important;
      height: auto !important;
    }

    .scenario-card {
      border-left: 4px solid;
      padding: 16px 20px;
      margin: 12px 0;
      border-radius: 0 10px 10px 0;
      background: var(--card-bg);
    }

    .scenario-card.tribunal {
      border-color: #ef4444;
    }

    .scenario-card.deep {
      border-color: #3b82f6;
    }

    .risk-card {
      border-left: 4px solid;
      padding: 14px 18px;
      margin: 10px 0;
      border-radius: 0 10px 10px 0;
      background: var(--card-bg);
    }

    .risk-card.critical {
      border-color: #ef4444;
    }

    .risk-card.high {
      border-color: #f97316;
    }

    .risk-card.medium {
      border-color: #eab308;
    }

    .adr-box {
      background: #fefce8;
      border: 1px solid #fde68a;
      border-radius: 10px;
      padding: 16px 20px;
      margin: 14px 0;
    }

    .adr-box .adr-title {
      font-weight: 700;
      color: #92400e;
      margin-bottom: 6px;
    }

    .adr-box .adr-decision {
      font-weight: 600;
      color: var(--text);
    }

    .phase-flow {
      display: flex;
      gap: 0;
      margin: 20px 0;
      flex-wrap: wrap;
      justify-content: center;
    }

    .phase-item {
      text-align: center;
      padding: 14px 18px;
      min-width: 120px;
      position: relative;
    }

    .phase-item .phase-icon {
      font-size: 2em;
      margin-bottom: 6px;
    }

    .phase-item .phase-name {
      font-weight: 700;
      font-size: 0.85em;
    }

    .phase-item .phase-desc {
      font-size: 0.72em;
      color: var(--text-light);
      margin-top: 4px;
    }

    .phase-arrow {
      display: flex;
      align-items: center;
      font-size: 1.5em;
      color: var(--primary);
      padding: 0 4px;
    }

    .section-break {
      page-break-before: always;
      margin-top: 0;
    }

    blockquote {
      border-left: 4px solid var(--primary-light);
      padding: 10px 16px;
      margin: 14px 0;
      background: #f0f0ff;
      border-radius: 0 8px 8px 0;
      color: var(--text-light);
      font-style: italic;
    }

    ul,
    ol {
      margin: 10px 0 14px 24px;
    }

    li {
      margin-bottom: 4px;
    }

    code {
      background: var(--code-bg);
      padding: 2px 6px;
      border-radius: 4px;
      font-size: 0.88em;
      font-family: 'JetBrains Mono', 'Fira Code', monospace;
    }

    .footer-note {
      text-align: center;
      color: var(--text-light);
      font-size: 0.8em;
      margin-top: 40px;
      padding-top: 20px;
      border-top: 1px solid var(--border);
    }

    /* ---- PRINT STYLES ---- */
    @media print {
      body {
        font-size: 10pt;
      }

      .content {
        padding: 20px 40px;
      }

      .cover {
        min-height: auto;
        padding: 40px 30px;
      }

      .toc {
        padding: 30px 40px;
      }

      h2 {
        page-break-after: avoid;
      }

      h3 {
        page-break-after: avoid;
      }

      /* Allow diagrams to flow across pages instead of creating empty pages */
      .mermaid-container {
        page-break-inside: auto;
        overflow: visible;
      }

      .mermaid-container svg {
        max-width: 100% !important;
        max-height: 900px;
        height: auto !important;
      }

      table {
        page-break-inside: auto;
      }

      thead {
        display: table-header-group;
      }

      tr {
        page-break-inside: avoid;
      }

      .card {
        page-break-inside: avoid;
      }

      /* Avoid orphan/widow lines */
      p,
      li {
        orphans: 3;
        widows: 3;
      }

      .no-print {
        display: none !important;
      }

      /* Page number footer fixed at bottom of every printed page */
      .print-page-number {
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        text-align: center;
        font-size: 8pt;
        color: #64748b;
        font-family: 'Inter', sans-serif;
        padding: 8px 0;
      }
    }

    @page {
      margin: 1.5cm 1.5cm 2.2cm 1.5cm;
      size: A4;

      @bottom-center {
        content: "MYTHOS — Cahier des Charges  |  Page " counter(page);
        font-size: 8pt;
        color: #64748b;
        font-family: 'Inter', sans-serif;
      }
    }

    /* Hide cover page number */
    @page :first {
      @bottom-center {
        content: none;
      }
    }
  </style>
</head>

<body>

  <!-- ================= COVER PAGE ================= -->
  <div class="cover">
    <h1>MYTHOS</h1>
    <p class="subtitle">Plateforme de jeux narratifs multijoueurs avec IA Game Master</p>

    <div class="meta-grid">
      <div class="meta-item">
        <div class="label">Duree</div>
        <div class="value">14 semaines (7 sprints)</div>
      </div>
      <div class="meta-item">
        <div class="label">Budget</div>
        <div class="value">308 EUR</div>
      </div>
      <div class="meta-item">
        <div class="label">Story Points</div>
        <div class="value">196 SP / 47 tickets</div>
      </div>
      <div class="meta-item">
        <div class="label">Scenarios MVP</div>
        <div class="value">TRIBUNAL + DEEP</div>
      </div>
    </div>

    <div class="team">
      <div class="team-member">
        <div class="name">Kays ZAHIDI</div>
        <div class="role">PO / Architecte</div>
      </div>
      <div class="team-member">
        <div class="name">Samy ZEROUALI</div>
        <div class="role">SM / Backend + IA</div>
      </div>
      <div class="team-member">
        <div class="name">Youri EMMANUEL</div>
        <div class="role">Dev Frontend</div>
      </div>
      <div class="team-member">
        <div class="name">Yassir SABBAR</div>
        <div class="role">UX / DevOps</div>
      </div>
    </div>

    <div class="go-badge">GO CONDITIONNEL — 3.80 / 5.00</div>

    <p style="margin-top:30px; font-size:0.85em; color:#a5b4fc;">
      Workshop 5A TL — S1 — Bloc 1 RNCP38822<br>
      Version 1.0 — Fevrier 2026
    </p>
  </div>

  <!-- ================= TABLE OF CONTENTS ================= -->
  <div class="toc">
    <h2>Table des Matieres</h2>
    <ol class="toc-list">
      <li><a href="#sec1">1. Vue d'ensemble du projet</a>
        <ul class="toc-sub">
          <li><a href="#sec1-1">1.1 Proposition de valeur</a></li>
          <li><a href="#sec1-2">1.2 Perimetre MVP</a></li>
          <li><a href="#sec1-3">1.3 Analyse de marche</a></li>
          <li><a href="#sec1-4">1.4 Personas</a></li>
          <li><a href="#sec1-5">1.5 Exigences fonctionnelles (MoSCoW)</a></li>
          <li><a href="#sec1-6">1.6 Analyse SWOT</a></li>
          <li><a href="#sec1-7">1.7 Matrice GO / NO-GO</a></li>
          <li><a href="#sec1-8">1.8 Analyse concurrentielle (synthese)</a></li>
        </ul>
      </li>
      <li><a href="#sec2">2. Architecture technique</a>
        <ul class="toc-sub">
          <li><a href="#sec2-1">2.1 Diagramme d'architecture</a></li>
          <li><a href="#sec2-2">2.2 Stack technique</a></li>
          <li><a href="#sec2-3">2.3 Flux de communication temps reel</a></li>
          <li><a href="#sec2-4">2.4 Endpoints REST API</a></li>
          <li><a href="#sec2-5">2.5 Evenements WebSocket</a></li>
          <li><a href="#sec2-6">2.6 Strategie de cache Redis</a></li>
          <li><a href="#sec2-7">2.7 Integration IA — Claude API</a></li>
        </ul>
      </li>
      <li><a href="#sec3">3. Game Loop — Boucle de jeu en 6 phases</a>
        <ul class="toc-sub">
          <li><a href="#sec3-1">3.1 Diagramme d'etat du cycle de vie</a></li>
          <li><a href="#sec3-2">3.2 Timers par phase</a></li>
          <li><a href="#sec3-3">3.3 Parcours joueur principal</a></li>
          <li><a href="#sec3-4">3.4 Structure du Game State (Redis)</a></li>
          <li><a href="#sec3-5">3.5 Structure d'un Scenario Pack (JSON)</a></li>
          <li><a href="#sec3-6">3.6 Philosophie du moteur</a></li>
        </ul>
      </li>
      <li><a href="#sec4">4. Specifications fonctionnelles</a>
        <ul class="toc-sub">
          <li><a href="#sec4-1">4.1 Acteurs du systeme</a></li>
          <li><a href="#sec4-2">4.2 User Stories (42 stories, priorisees MoSCoW)</a></li>
          <li><a href="#sec4-3">4.3 Regles metier detaillees</a></li>
          <li><a href="#sec4-4">4.4 Dictionnaire de donnees</a></li>
          <li><a href="#sec4-5">4.5 Matrice de tracabilite (Objectifs → User Stories)</a></li>
          <li><a href="#sec4-6">4.6 Contraintes techniques</a></li>
        </ul>
      </li>
      <li><a href="#sec5">5. Scenarios MVP — TRIBUNAL & DEEP</a></li>
      <li><a href="#sec6">6. Modele de donnees</a>
        <ul class="toc-sub">
          <li><a href="#sec6-1">6.1 Diagramme entite-relation</a></li>
          <li><a href="#sec6-2">6.2 Entites principales</a></li>
        </ul>
      </li>
      <li><a href="#sec7">7. Decisions d'architecture (ADR)</a>
        <ul class="toc-sub">
          <li><a href="#sec7-1">7.1 Processus de decision</a></li>
        </ul>
      </li>
      <li><a href="#sec8">8. Equipe et organisation</a>
        <ul class="toc-sub">
          <li><a href="#sec8-1">8.1 Membres de l'equipe</a></li>
          <li><a href="#sec8-2">8.2 Matrice de competences</a></li>
          <li><a href="#sec8-3">8.3 Methodologie Agile</a></li>
          <li><a href="#sec8-4">8.4 Matrice RACI</a></li>
        </ul>
      </li>
      <li><a href="#sec9">9. Planning du projet (Gantt)</a>
        <ul class="toc-sub">
          <li><a href="#sec9-1">9.1 Diagramme de Gantt — 7 sprints</a></li>
          <li><a href="#sec9-2">9.2 Jalons cles</a></li>
          <li><a href="#sec9-3">9.3 Chemin critique</a></li>
          <li><a href="#sec9-4">9.4 Repartition effort par sprint</a></li>
        </ul>
      </li>
      <li><a href="#sec10">10. Budget et ressources</a>
        <ul class="toc-sub">
          <li><a href="#sec10-1">10.1 Budget detaille</a></li>
          <li><a href="#sec10-2">10.2 Valorisation du travail</a></li>
          <li><a href="#sec10-3">10.3 Projection financiere (post-lancement)</a></li>
          <li><a href="#sec10-4">10.4 Trois scenarios budgetaires</a></li>
          <li><a href="#sec10-5">10.5 Plan de charge par membre</a></li>
          <li><a href="#sec10-6">10.6 Comparaison couts API IA</a></li>
        </ul>
      </li>
      <li><a href="#sec11">11. Analyse des risques</a>
        <ul class="toc-sub">
          <li><a href="#sec11-1">11.1 Matrice des risques (Probabilite x Impact)</a></li>
          <li><a href="#sec11-2">11.2 Top 5 des risques critiques</a></li>
          <li><a href="#sec11-3">11.3 Registre complet</a></li>
          <li><a href="#sec11-4">11.4 Plan de gestion de crise</a></li>
          <li><a href="#sec11-5">11.5 Details des risques critiques (mitigations et contingences)</a></li>
          <li><a href="#sec11-6">11.6 Calendrier de revue des risques</a></li>
        </ul>
      </li>
      <li><a href="#sec12">12. Backlog detaille (47 tickets)</a>
        <ul class="toc-sub">
          <li><a href="#sec12-sprint0">Sprint 0 — Cadrage & Setup (23 SP, 7 tickets)</a></li>
          <li><a href="#sec12-sprint1">Sprint 1 — Fondations + POC IA (29 SP, 7 tickets)</a></li>
          <li><a href="#sec12-sprint2">Sprint 2 — Game Engine Core (37 SP, 7 tickets)</a></li>
          <li><a href="#sec12-sprint3">Sprint 3 — Multijoueur + TRIBUNAL (37 SP, 7 tickets)</a></li>
          <li><a href="#sec12-sprint4">Sprint 4 — DEEP + UI complete (29 SP, 7 tickets)</a></li>
          <li><a href="#sec12-sprint5">Sprint 5 — Admin + Deploy (26 SP, 7 tickets)</a></li>
        </ul>
      </li>
      <li><a href="#sec13">13. KPIs et metriques de suivi</a>
        <ul class="toc-sub">
          <li><a href="#sec13-1">13.1 Methodologie</a></li>
          <li><a href="#sec13-2">13.2 KPIs Projet (PRJ-001 a PRJ-009)</a></li>
          <li><a href="#sec13-3">13.3 KPIs Produit (PROD-001 a PROD-008)</a></li>
          <li><a href="#sec13-4">13.4 KPIs Conformite (CONF-001 a CONF-006)</a></li>
          <li><a href="#sec13-5">13.5 Matrice RACI des KPIs</a></li>
          <li><a href="#sec13-6">13.6 Calendrier de mesure</a></li>
        </ul>
      </li>
      <li><a href="#sec14">14. Conformite et standards</a>
        <ul class="toc-sub">
          <li><a href="#sec14-1">14.1 Conformite reglementaire</a></li>
          <li><a href="#sec14-2">14.2 Securite</a></li>
          <li><a href="#sec14-3">14.3 Gestion de deconnexion</a></li>
        </ul>
      </li>
      <li><a href="#sec15">15. Benchmark concurrentiel</a>
        <ul class="toc-sub">
          <li><a href="#sec15-1">15.1 Methodologie</a></li>
          <li><a href="#sec15-2">15.2 Cartographie concurrentielle</a></li>
          <li><a href="#sec15-3">15.3 Matrice comparative des fonctionnalites</a></li>
          <li><a href="#sec15-4">15.4 Positionnement strategique</a></li>
        </ul>
      </li>
      <li><a href="#sec16">16. Veille technologique</a>
        <ul class="toc-sub">
          <li><a href="#sec16-1">16.1 Axes de veille</a></li>
          <li><a href="#sec16-2">16.2 Outils de veille (33 outils identifies)</a></li>
          <li><a href="#sec16-3">16.3 Processus de veille</a></li>
          <li><a href="#sec16-4">16.4 KPIs de veille</a></li>
        </ul>
      </li>
      <li><a href="#sec17">17. Specifications techniques detaillees</a>
        <ul class="toc-sub">
          <li><a href="#sec17-1">17.1 Structure Backend (NestJS)</a></li>
          <li><a href="#sec17-2">17.2 Structure Frontend (Next.js)</a></li>
          <li><a href="#sec17-3">17.3 Schema Prisma (extrait)</a></li>
          <li><a href="#sec17-4">17.4 Plan de securite</a></li>
          <li><a href="#sec17-5">17.5 Plan de tests</a></li>
          <li><a href="#sec17-6">17.6 Diagrammes UML</a></li>
        </ul>
      </li>
      <li><a href="#sec18">18. Gestion du changement</a>
        <ul class="toc-sub">
          <li><a href="#sec18-1">18.1 Philosophie</a></li>
          <li><a href="#sec18-2">18.2 Types de changement</a></li>
          <li><a href="#sec18-3">18.3 Processus d'evaluation d'impact</a></li>
          <li><a href="#sec18-4">18.4 Grille d'impact</a></li>
          <li><a href="#sec18-5">18.5 Registre des changements</a></li>
        </ul>
      </li>
      <li><a href="#sec19">19. Plan qualite et standards de code</a>
        <ul class="toc-sub">
          <li><a href="#sec19-1">19.1 Piliers qualite</a></li>
          <li><a href="#sec19-2">19.2 Conventions TypeScript</a></li>
          <li><a href="#sec19-3">19.3 Processus de code review</a></li>
          <li><a href="#sec19-4">19.4 Checklist de code review</a></li>
          <li><a href="#sec19-5">19.5 Pyramide de tests</a></li>
          <li><a href="#sec19-6">19.6 Criteres de qualite mesurables</a></li>
        </ul>
      </li>
      <li><a href="#sec20">20. Conformite GreenIT</a>
        <ul class="toc-sub">
          <li><a href="#sec20-1">20.1 Referentiel des 115 bonnes pratiques — Bilan MYTHOS</a></li>
          <li><a href="#sec20-2">20.2 Bonnes pratiques IA specifiques MYTHOS</a></li>
          <li><a href="#sec20-3">20.3 Strategie d'optimisation IA</a></li>
          <li><a href="#sec20-4">20.4 KPIs environnementaux</a></li>
        </ul>
      </li>
      <li><a href="#sec21">21. Conformite WCAG 2.1 AA</a>
        <ul class="toc-sub">
          <li><a href="#sec21-1">21.1 Principe 1 — Perceptible</a></li>
          <li><a href="#sec21-2">21.2 Principe 2 — Utilisable</a></li>
          <li><a href="#sec21-3">21.3 Principe 3 — Comprehensible</a></li>
          <li><a href="#sec21-4">21.4 Principe 4 — Robuste</a></li>
          <li><a href="#sec21-5">21.5 Adaptations specifiques</a></li>
          <li><a href="#sec21-6">21.6 Planning des tests d'accessibilite</a></li>
        </ul>
      </li>
      <li><a href="#sec22">22. Conformite RGPD</a>
        <ul class="toc-sub">
          <li><a href="#sec22-1">22.1 Registre de traitement (Article 30)</a></li>
          <li><a href="#sec22-2">22.2 AIPD simplifiee — Traitement T3 (Generation IA)</a></li>
          <li><a href="#sec22-3">22.3 Gestion des sous-traitants</a></li>
          <li><a href="#sec22-4">22.4 Droits des personnes (Articles 15-22)</a></li>
          <li><a href="#sec22-5">22.5 Politique de confidentialite (resume)</a></li>
          <li><a href="#sec22-6">22.6 Actions RGPD par sprint</a></li>
          <li><a href="#sec22-7">22.7 Matrice de tracabilite conformite</a></li>
        </ul>
      </li>
      <li><a href="#sec23">23. Plan d'implementation et deploiement</a>
        <ul class="toc-sub">
          <li><a href="#sec23-1">23.1 Strategie de deploiement progressive</a></li>
          <li><a href="#sec23-2">23.2 Git Flow et conventions</a></li>
          <li><a href="#sec23-3">23.3 Pipeline CI/CD</a></li>
          <li><a href="#sec23-4">23.4 Infrastructure as Code</a></li>
          <li><a href="#sec23-5">23.5 Plan de migration de donnees (Prisma)</a></li>
          <li><a href="#sec23-6">23.6 Feature Flags</a></li>
          <li><a href="#sec23-7">23.7 Procedure de release production</a></li>
          <li><a href="#sec23-8">23.8 Onboarding technique</a></li>
        </ul>
      </li>
      <li><a href="#sec24">24. Tableaux de bord et reporting</a>
        <ul class="toc-sub">
          <li><a href="#sec24-1">24.1 Dashboard Sprint (template)</a></li>
          <li><a href="#sec24-2">24.2 Exemple : Dashboard Sprint 1 (donnees fictives realistes)</a></li>
          <li><a href="#sec24-3">24.3 Dashboard mensuel</a></li>
          <li><a href="#sec24-4">24.4 Rapport de Sprint Review (template)</a></li>
          <li><a href="#sec24-5">24.5 Rapport hebdomadaire (template)</a></li>
          <li><a href="#sec24-6">24.6 Volume de communication prevu</a></li>
        </ul>
      </li>
      <li><a href="#sec25">25. Communication parties prenantes</a>
        <ul class="toc-sub">
          <li><a href="#sec25-1">25.1 Identification des parties prenantes</a></li>
          <li><a href="#sec25-2">25.2 Plan de communication detaille</a></li>
          <li><a href="#sec25-3">25.3 Gestion des conflits</a></li>
          <li><a href="#sec25-4">25.4 Preparation de la soutenance</a></li>
          <li><a href="#sec25-5">25.5 Matrice competences RNCP → Preuves</a></li>
        </ul>
      </li>
      <li><a href="#sec26">26. Supervision et pilotage du projet</a>
        <ul class="toc-sub">
          <li><a href="#sec26-1">26.1 Gouvernance du projet</a></li>
          <li><a href="#sec26-2">26.2 Instances de pilotage</a></li>
          <li><a href="#sec26-3">26.3 Niveaux d'escalade</a></li>
          <li><a href="#sec26-4">26.4 Processus de resolution de problemes</a></li>
          <li><a href="#sec26-5">26.5 Scenarios d'ajustement predifinis</a></li>
          <li><a href="#sec26-6">26.6 Registre des ajustements (exemples)</a></li>
          <li><a href="#sec26-7">26.7 Post-mortem (template)</a></li>
          <li><a href="#sec26-8">26.8 Monitoring production continu</a></li>
          <li><a href="#sec26-9">26.9 Calendrier de pilotage (14 semaines)</a></li>
          <li><a href="#sec26-10">26.10 Canaux Discord</a></li>
        </ul>
      </li>
    </ol>
  </div>

  <!-- ================= MAIN CONTENT ================= -->
  <div class="content">

    <!-- ---- SECTION 1 ---- -->
    <h2 id="sec1">1. Vue d'ensemble du projet</h2>

    <p>MYTHOS est une plateforme web de jeux narratifs multijoueurs en temps reel ou une IA fait office de Maitre du Jeu
      (MJ). Le moteur de jeu repose sur une boucle en 6 phases et des scenarios configurables via des fichiers JSON
      appeles <strong>Scenario Packs</strong>.</p>

    <div class="card-grid">
      <div class="card">
        <div class="number">4</div>
        <div class="desc">Membres de l'equipe</div>
      </div>
      <div class="card">
        <div class="number">14</div>
        <div class="desc">Semaines (7 sprints)</div>
      </div>
      <div class="card">
        <div class="number">308 EUR</div>
        <div class="desc">Budget total</div>
      </div>
      <div class="card">
        <div class="number">196 SP</div>
        <div class="desc">Story Points (47 tickets)</div>
      </div>
    </div>

    <h3 id="sec1-1">1.1 Proposition de valeur</h3>
    <p>MYTHOS se differencie par trois piliers :</p>
    <ol>
      <li><strong>Moteur universel a scenarios modulaires</strong> — Les scenarios (Scenario Packs) sont de simples
        fichiers JSON charges dynamiquement. Le moteur de jeu gere les roles, jauges, tours et evenements de maniere
        generique.</li>
      <li><strong>IA Game Master adaptative</strong> — Le GM IA narre en temps reel, arbitre les actions, gere les PNJ,
        et adapte le rythme en fonction de l'engagement des joueurs.</li>
      <li><strong>Sessions courtes et accessibles</strong> — Format 15-25 minutes, 2-8 joueurs, zero installation,
        jouable sur navigateur.</li>
    </ol>

    <h3 id="sec1-2">1.2 Perimetre MVP</h3>
    <table>
      <thead>
        <tr>
          <th>Inclus dans le MVP</th>
          <th>Post-MVP</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Moteur de jeu universel (6 phases)</td>
          <td>Editeur de Scenario Packs communautaire</td>
        </tr>
        <tr>
          <td>2 Scenario Packs (TRIBUNAL + DEEP)</td>
          <td>Systeme de classement / ELO</td>
        </tr>
        <tr>
          <td>IA Game Master via API LLM (Anthropic Claude)</td>
          <td>Applications mobiles natives</td>
        </tr>
        <tr>
          <td>Matchmaking basique (code salon 6 chars)</td>
          <td>Monetisation / achats in-app</td>
        </tr>
        <tr>
          <td>Interface temps reel (WebSocket)</td>
          <td>Mode spectateur</td>
        </tr>
        <tr>
          <td>Panel administration</td>
          <td>Traduction multilingue (FR uniquement MVP)</td>
        </tr>
      </tbody>
    </table>

    <h3 id="sec1-3">1.3 Analyse de marche</h3>
    <table>
      <thead>
        <tr>
          <th>Marche</th>
          <th>Valeur</th>
          <th>Source</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>TAM</strong> — IA Gaming mondial</td>
          <td>7,2 Mds USD</td>
          <td>Newzoo 2025</td>
        </tr>
        <tr>
          <td><strong>SAM</strong> — Jeux narratifs IA, casual, Europe</td>
          <td>250 M USD</td>
          <td>Estimation</td>
        </tr>
        <tr>
          <td><strong>SOM</strong> — Capturable a M+18</td>
          <td>200k–630k EUR/an</td>
          <td>Projection realiste</td>
        </tr>
      </tbody>
    </table>


    <h3 id="sec1-4">1.4 Personas</h3>

    <div class="card" style="border-left: 4px solid var(--primary);">
      <h4 style="margin-top:0;">Lucas, 22 ans — Le casual social</h4>
      <p><strong>Profil :</strong> Etudiant en communication, joue 3-4h/semaine sur mobile. Habitue d'Among Us, Gartic
        Phone.</p>
      <p><strong>Frustrations :</strong> Les jeux narratifs sont trop longs et complexes. Les jeux sociaux manquent de
        profondeur narrative.</p>
      <p><strong>Attentes :</strong> Sessions courtes (15-25 min), aucune installation, regles simples a comprendre,
        pouvoir jouer avec des amis en 2 clics.</p>
      <p><strong>Scenario typique :</strong> Lucas decouvre MYTHOS via un ami sur Discord. Il rejoint une partie
        TRIBUNAL en 30 secondes via un code salon. Il est immediatement plonge dans l'histoire sans tutoriel.</p>
    </div>

    <div class="card" style="border-left: 4px solid var(--accent);">
      <h4 style="margin-top:0;">Camille, 28 ans — La joueuse narrative</h4>
      <p><strong>Profil :</strong> Game designer indie, joueuse de JDR papier, 8h/semaine de jeu. Habituee d'AI Dungeon,
        D&D Beyond, Disco Elysium.</p>
      <p><strong>Frustrations :</strong> AI Dungeon est solo et incoherent. Le JDR papier demande un MJ humain et 3h de
        dispo. Les jeux narratifs manquent d'impact des choix.</p>
      <p><strong>Attentes :</strong> Narration IA de qualite, choix impactants, multijoueur, personnages credibles,
        coherence narrative sur plusieurs tours.</p>
      <p><strong>Scenario typique :</strong> Camille organise une soiree DEEP avec 4 amis. Elle apprecie que l'IA
        s'adapte en temps reel aux decisions du groupe et que chaque partie soit unique.</p>
    </div>

    <div class="card" style="border-left: 4px solid var(--success);">
      <h4 style="margin-top:0;">La Bande du Jeudi — Groupe de 5 amis (20-30 ans)</h4>
      <p><strong>Profil :</strong> Groupe de collegues qui joue en ligne chaque jeudi soir. Mix de joueurs casual et
        core gamers.</p>
      <p><strong>Frustrations :</strong> Fatigue d'Among Us apres 200 parties. Les alternatives sont payantes ou trop
        complexes. Difficile de trouver un jeu qui plaise a tout le monde.</p>
      <p><strong>Attentes :</strong> Variete de scenarios, facilite d'organisation, histoires renouvelees a chaque
        partie, gameplay social (debats, accusations, strategies).</p>
      <p><strong>Scenario typique :</strong> Le jeudi soir, un membre cree une partie et partage le code sur WhatsApp.
        En 2 minutes, les 5 sont dans le lobby. Ils enchainent 2-3 parties de scenarios differents.</p>
    </div>

    <h3 id="sec1-5">1.5 Exigences fonctionnelles (MoSCoW)</h3>
    <table>
      <thead>
        <tr>
          <th>Priorite</th>
          <th>Exigences</th>
          <th>Nb</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><span class="badge badge-must">MUST HAVE</span></td>
          <td>Moteur de jeu 6 phases, 2 scenarios (TRIBUNAL+DEEP), IA MJ (narration+resolution), auth JWT, WebSocket
            temps reel, matchmaking par code, panel admin basique</td>
          <td>28</td>
        </tr>
        <tr>
          <td><span class="badge badge-should">SHOULD HAVE</span></td>
          <td>OAuth Google/Discord, historique parties, expulsion joueur, mise en pause, streaming IA, historique
            narratif, reconnexion</td>
          <td>10</td>
        </tr>
        <tr>
          <td><span class="badge badge-could">COULD HAVE</span></td>
          <td>Tutoriel interactif, achievements, profil public, stats detaillees</td>
          <td>4</td>
        </tr>
        <tr>
          <td><span class="badge badge-wont">WON'T HAVE (V2)</span></td>
          <td>Editeur de scenarios, mode spectateur, classement ELO, voice chat, app mobile native, replay, monetisation
          </td>
          <td>7</td>
        </tr>
      </tbody>
    </table>

    <h3 id="sec1-6">1.6 Analyse SWOT</h3>
    <table>
      <thead>
        <tr>
          <th style="width:50%; background:#22c55e;">Forces</th>
          <th style="width:50%; background:#ef4444;">Faiblesses</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>
            <ul style="margin:0;">
              <li>Concept innovant (IA MJ + multijoueur + narratif)</li>
              <li>Architecture modulaire (Scenario Packs extensibles)</li>
              <li>Sessions courtes (15-25 min, zero friction)</li>
              <li>Stack technique moderne et maitrises</li>
              <li>Couts d'exploitation tres faibles (free tiers)</li>
              <li>Equipe complementaire (front, back, IA, UX, DevOps)</li>
            </ul>
          </td>
          <td>
            <ul style="margin:0;">
              <li>Dependance a une API tierce (Anthropic)</li>
              <li>Equipe de 4 personnes (bus factor eleve)</li>
              <li>Competences IA a developper (2.0/5 en moyenne)</li>
              <li>Pas de budget marketing</li>
              <li>Cold starts Railway (latence free tier)</li>
              <li>Seul 1 dev backend dedie (Samy)</li>
            </ul>
          </td>
        </tr>
      </tbody>
    </table>
    <table>
      <thead>
        <tr>
          <th style="width:50%; background:#3b82f6; color:#fff;">Opportunites</th>
          <th style="width:50%; background:#f97316; color:#fff;">Menaces</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>
            <ul style="margin:0;">
              <li>Marche IA Gaming en pleine explosion (7,2 Mds USD)</li>
              <li>Aucun concurrent direct (IA + multijoueur + narratif)</li>
              <li>Fatigue des jeux sociaux existants (Among Us)</li>
              <li>Communautes JDR en ligne en croissance</li>
              <li>APIs LLM de plus en plus performantes et moins cheres</li>
              <li>Potentiel educatif (improvisation, argumentation)</li>
              <li>Viralite naturelle (partage de code salon)</li>
            </ul>
          </td>
          <td>
            <ul style="margin:0;">
              <li>Entree de gros studios (Ubisoft, EA) sur le creneau IA</li>
              <li>Augmentation des tarifs API LLM</li>
              <li>Regulation IA (AI Act) pourrait imposer des contraintes</li>
              <li>Qualite IA insuffisante pour fidéliser</li>
              <li>Difficulte a atteindre la masse critique de joueurs</li>
              <li>Obsolescence technologique rapide dans le domaine IA</li>
            </ul>
          </td>
        </tr>
      </tbody>
    </table>

    <h3 id="sec1-7">1.7 Matrice GO / NO-GO</h3>
    <table>
      <thead>
        <tr>
          <th>Critere</th>
          <th>Poids</th>
          <th>Note /5</th>
          <th>Score pondere</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Faisabilite technique</td>
          <td>25%</td>
          <td>4.0</td>
          <td>1.00</td>
        </tr>
        <tr>
          <td>Adequation au marche</td>
          <td>20%</td>
          <td>4.5</td>
          <td>0.90</td>
        </tr>
        <tr>
          <td>Faisabilite organisationnelle</td>
          <td>20%</td>
          <td>3.5</td>
          <td>0.70</td>
        </tr>
        <tr>
          <td>Faisabilite financiere</td>
          <td>15%</td>
          <td>4.0</td>
          <td>0.60</td>
        </tr>
        <tr>
          <td>Niveau de risque</td>
          <td>10%</td>
          <td>3.0</td>
          <td>0.30</td>
        </tr>
        <tr>
          <td>Originalite / Differentiation</td>
          <td>10%</td>
          <td>3.0</td>
          <td>0.30</td>
        </tr>
        <tr style="font-weight:700; background:#eef2ff;">
          <td>TOTAL</td>
          <td>100%</td>
          <td></td>
          <td><strong>3.80 / 5.00</strong></td>
        </tr>
      </tbody>
    </table>
    <blockquote>
      <strong>Decision : GO CONDITIONNEL (score 3.80/5)</strong><br>
      Le projet est viable sous conditions : priorisation stricte du MVP (MoSCoW), sprint Buffer de securite, POC IA
      validant la qualite narrative avant Sprint 2, et plan de mitigation des risques critiques (planning, latence IA,
      qualite narrative).
    </blockquote>

    <h3 id="sec1-8">1.8 Analyse concurrentielle (synthese)</h3>
    <table>
      <thead>
        <tr>
          <th>Concurrent</th>
          <th>Type</th>
          <th>IA</th>
          <th>Multi.</th>
          <th>Narratif</th>
          <th>Score /5</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>AI Dungeon</td>
          <td>IA narrative solo</td>
          <td>Oui</td>
          <td>Non</td>
          <td>Fort</td>
          <td>3.2</td>
        </tr>
        <tr>
          <td>Among Us</td>
          <td>Social deduction</td>
          <td>Non</td>
          <td>Oui</td>
          <td>Faible</td>
          <td>3.0</td>
        </tr>
        <tr>
          <td>D&D Beyond</td>
          <td>JDR papier digital</td>
          <td>Non</td>
          <td>Oui</td>
          <td>Fort</td>
          <td>2.9</td>
        </tr>
        <tr>
          <td>Character.AI</td>
          <td>Chatbot IA</td>
          <td>Oui</td>
          <td>Non</td>
          <td>Moyen</td>
          <td>2.8</td>
        </tr>
        <tr>
          <td>Werewolf Online</td>
          <td>Social deduction</td>
          <td>Non</td>
          <td>Oui</td>
          <td>Faible</td>
          <td>2.7</td>
        </tr>
        <tr>
          <td>Novel AI</td>
          <td>IA ecriture</td>
          <td>Oui</td>
          <td>Non</td>
          <td>Fort</td>
          <td>2.5</td>
        </tr>
        <tr>
          <td>Storium</td>
          <td>Storytelling collab</td>
          <td>Non</td>
          <td>Oui</td>
          <td>Fort</td>
          <td>2.4</td>
        </tr>
        <tr>
          <td>Hidden Agenda</td>
          <td>Choix narratifs</td>
          <td>Non</td>
          <td>Oui</td>
          <td>Moyen</td>
          <td>2.2</td>
        </tr>
        <tr style="font-weight:700; background:#eef2ff;">
          <td>MYTHOS</td>
          <td>IA MJ + Social</td>
          <td>Oui</td>
          <td>Oui</td>
          <td>Fort</td>
          <td>4.2</td>
        </tr>
      </tbody>
    </table>
    <p><strong>USP MYTHOS :</strong> Seule plateforme combinant IA generative comme Maitre du Jeu + multijoueur temps
      reel + scenarios modulaires. Aucun concurrent ne couvre ces 3 piliers simultanement.</p>


    <!-- ---- SECTION 2 ---- -->
    <h2 id="sec2" class="section-break">2. Architecture technique</h2>

    <h3 id="sec2-1">2.1 Diagramme d'architecture</h3>
    <div class="mermaid-container">
      <pre class="mermaid">
graph TB
    subgraph CLIENT["CLIENT (Browser)"]
        direction LR
        NEXT["Next.js 14 + React 18"]
        ZUSTAND["Zustand (State)"]
        SOCKETC["Socket.io Client"]
        TAILWIND["Tailwind CSS + Shadcn/UI"]
    end

    subgraph BACKEND["BACKEND (NestJS 10+)"]
        direction LR
        REST["REST API"]
        WSS["WebSocket Server"]
        AUTH["Auth JWT"]
        RATE["Rate Limiter"]
    end

    subgraph GAMEENGINE["GAME ENGINE"]
        direction TB
        LOADER["Scenario Pack Loader"]
        STATE["Game State Machine"]
        RULES["Rules Engine"]
        TURN["Turn Manager"]
        CHOICE["Choice Engine"]
        RESOURCE["Resource Manager"]
    end

    subgraph AISERVICE["AI SERVICE"]
        direction TB
        LLM["Claude API (Anthropic)"]
        PROMPT["Prompt Engineering"]
        FILTER["Content Filter"]
        CACHE["Response Cache"]
    end

    subgraph DATA["DATA LAYER"]
        direction TB
        PG["PostgreSQL 16 (Prisma)"]
        REDIS["Redis (Sessions/Cache)"]
    end

    CLIENT -->|HTTPS| BACKEND
    CLIENT -->|WSS| BACKEND
    BACKEND --> GAMEENGINE
    BACKEND --> AISERVICE
    BACKEND --> DATA
    AISERVICE -->|API| LLM
</pre>
    </div>

    <h3 id="sec2-2">2.2 Stack technique</h3>
    <table>
      <thead>
        <tr>
          <th>Couche</th>
          <th>Technologie</th>
          <th>Justification</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>Frontend</strong></td>
          <td>Next.js 14 + React 18</td>
          <td>SSR pour le SEO, excellent DX</td>
        </tr>
        <tr>
          <td><strong>UI</strong></td>
          <td>Tailwind CSS + Shadcn/UI</td>
          <td>Prototypage rapide, design system coherent</td>
        </tr>
        <tr>
          <td><strong>State</strong></td>
          <td>Zustand</td>
          <td>State management leger et performant</td>
        </tr>
        <tr>
          <td><strong>Temps reel</strong></td>
          <td>Socket.io 4+</td>
          <td>Rooms, namespaces, reconnexion auto</td>
        </tr>
        <tr>
          <td><strong>Backend</strong></td>
          <td>NestJS 10+ (Node.js)</td>
          <td>Structure modulaire, TypeScript natif, WebSocket integre</td>
        </tr>
        <tr>
          <td><strong>ORM</strong></td>
          <td>Prisma 5+</td>
          <td>Schema-first, typage auto-genere, migrations</td>
        </tr>
        <tr>
          <td><strong>IA</strong></td>
          <td>API Anthropic Claude</td>
          <td>Context window 200k, excellent roleplay</td>
        </tr>
        <tr>
          <td><strong>Base de donnees</strong></td>
          <td>PostgreSQL 16</td>
          <td>JSONB natif, relationnel robuste</td>
        </tr>
        <tr>
          <td><strong>Cache/Sessions</strong></td>
          <td>Redis (Upstash)</td>
          <td>Pub/sub pour WebSocket, sessions temps reel</td>
        </tr>
        <tr>
          <td><strong>Hebergement</strong></td>
          <td>Vercel + Railway</td>
          <td>Free tiers, deploiement auto, zero config</td>
        </tr>
        <tr>
          <td><strong>CI/CD</strong></td>
          <td>GitHub Actions</td>
          <td>Integration native, gratuit</td>
        </tr>
        <tr>
          <td><strong>Monitoring</strong></td>
          <td>Sentry + Vercel Analytics</td>
          <td>Erreurs + performance</td>
        </tr>
      </tbody>
    </table>

    <h3 id="sec2-3">2.3 Flux de communication temps reel</h3>
    <div class="mermaid-container">
      <pre class="mermaid">
sequenceDiagram
    participant H as Hote
    participant S as Serveur (NestJS)
    participant IA as Claude API
    participant J1 as Joueur 1
    participant J2 as Joueur 2

    H->>S: createGame(scenarioPack)
    S->>S: Generer code salon (6 chars)
    S-->>H: gameCreated(code: "ABC123")

    J1->>S: joinGame("ABC123")
    J2->>S: joinGame("ABC123")
    S-->>H: playerJoined(J1)
    S-->>H: playerJoined(J2)

    H->>S: startGame()
    S->>IA: generateNarration(context, scenario)
    IA-->>S: narrationText (streaming)
    S-->>H: phase:NARRATION(text)
    S-->>J1: phase:NARRATION(text)
    S-->>J2: phase:NARRATION(text)

    Note over H,J2: Phase ACTION (timer 60s)
    H->>S: submitAction("Je plaide coupable")
    J1->>S: submitAction("Je temoigne")
    J2->>S: submitAction("J'accuse")

    S->>IA: resolveActions(actions, gameState)
    IA-->>S: resolutionText + updatedState
    S-->>H: phase:RESOLUTION(results)
    S-->>J1: phase:RESOLUTION(results)
    S-->>J2: phase:RESOLUTION(results)
</pre>
    </div>


    <h3 id="sec2-4">2.4 Endpoints REST API</h3>
    <table>
      <thead>
        <tr>
          <th>Methode</th>
          <th>Endpoint</th>
          <th>Description</th>
          <th>Auth</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>POST</td>
          <td><code>/api/auth/register</code></td>
          <td>Inscription (email, password, username)</td>
          <td>Non</td>
        </tr>
        <tr>
          <td>POST</td>
          <td><code>/api/auth/login</code></td>
          <td>Connexion (retourne JWT 24h)</td>
          <td>Non</td>
        </tr>
        <tr>
          <td>GET</td>
          <td><code>/api/users/me</code></td>
          <td>Profil utilisateur courant</td>
          <td>JWT</td>
        </tr>
        <tr>
          <td>GET</td>
          <td><code>/api/scenarios</code></td>
          <td>Liste des scenarios actifs (pagine)</td>
          <td>Optionnel</td>
        </tr>
        <tr>
          <td>GET</td>
          <td><code>/api/scenarios/:slug</code></td>
          <td>Detail d'un scenario + config</td>
          <td>Optionnel</td>
        </tr>
        <tr>
          <td>POST</td>
          <td><code>/api/sessions</code></td>
          <td>Creer une session (scenario, config timers)</td>
          <td>JWT</td>
        </tr>
        <tr>
          <td>GET</td>
          <td><code>/api/sessions/:code</code></td>
          <td>Infos session par code salon</td>
          <td>JWT</td>
        </tr>
        <tr>
          <td>POST</td>
          <td><code>/api/sessions/:code/join</code></td>
          <td>Rejoindre une session</td>
          <td>JWT</td>
        </tr>
        <tr>
          <td>GET</td>
          <td><code>/api/users/me/history</code></td>
          <td>Historique des parties (pagine)</td>
          <td>JWT</td>
        </tr>
        <tr>
          <td>GET</td>
          <td><code>/api/admin/stats</code></td>
          <td>Statistiques globales plateforme</td>
          <td>JWT + Admin</td>
        </tr>
        <tr>
          <td>GET</td>
          <td><code>/api/admin/sessions</code></td>
          <td>Liste des sessions actives</td>
          <td>JWT + Admin</td>
        </tr>
      </tbody>
    </table>

    <h3 id="sec2-5">2.5 Evenements WebSocket</h3>
    <table>
      <thead>
        <tr>
          <th>Direction</th>
          <th>Evenement</th>
          <th>Payload</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td style="color:#3b82f6;">Client → Serveur</td>
          <td><code>game:join</code></td>
          <td><code>{ sessionCode, token }</code></td>
        </tr>
        <tr>
          <td style="color:#3b82f6;">Client → Serveur</td>
          <td><code>game:ready</code></td>
          <td><code>{ sessionCode }</code></td>
        </tr>
        <tr>
          <td style="color:#3b82f6;">Client → Serveur</td>
          <td><code>game:start</code></td>
          <td><code>{ sessionCode }</code> (hote uniquement)</td>
        </tr>
        <tr>
          <td style="color:#3b82f6;">Client → Serveur</td>
          <td><code>game:action</code></td>
          <td><code>{ sessionCode, actionText }</code></td>
        </tr>
        <tr>
          <td style="color:#3b82f6;">Client → Serveur</td>
          <td><code>game:vote</code></td>
          <td><code>{ sessionCode, choice }</code></td>
        </tr>
        <tr>
          <td style="color:#3b82f6;">Client → Serveur</td>
          <td><code>chat:message</code></td>
          <td><code>{ sessionCode, content, recipientId? }</code></td>
        </tr>
        <tr>
          <td style="color:#22c55e;">Serveur → Client</td>
          <td><code>game:player-joined</code></td>
          <td><code>{ player, playerCount }</code></td>
        </tr>
        <tr>
          <td style="color:#22c55e;">Serveur → Client</td>
          <td><code>game:started</code></td>
          <td><code>{ gameState (public) }</code></td>
        </tr>
        <tr>
          <td style="color:#22c55e;">Serveur → Client</td>
          <td><code>game:phase-change</code></td>
          <td><code>{ phase, roundNumber, timer }</code></td>
        </tr>
        <tr>
          <td style="color:#22c55e;">Serveur → Client</td>
          <td><code>game:narration</code></td>
          <td><code>{ text, isStreaming }</code></td>
        </tr>
        <tr>
          <td style="color:#22c55e;">Serveur → Client</td>
          <td><code>game:resolution</code></td>
          <td><code>{ text, updatedGauges, events }</code></td>
        </tr>
        <tr>
          <td style="color:#22c55e;">Serveur → Client</td>
          <td><code>game:vote-results</code></td>
          <td><code>{ results, eliminated? }</code></td>
        </tr>
        <tr>
          <td style="color:#22c55e;">Serveur → Client</td>
          <td><code>game:ended</code></td>
          <td><code>{ epilogue, stats, winner? }</code></td>
        </tr>
        <tr>
          <td style="color:#22c55e;">Serveur → Client</td>
          <td><code>game:private-info</code></td>
          <td><code>{ role, secret, objectives }</code></td>
        </tr>
        <tr>
          <td style="color:#22c55e;">Serveur → Client</td>
          <td><code>game:player-disconnected</code></td>
          <td><code>{ playerId, timeout }</code></td>
        </tr>
        <tr>
          <td style="color:#22c55e;">Serveur → Client</td>
          <td><code>chat:new-message</code></td>
          <td><code>{ senderId, content, timestamp }</code></td>
        </tr>
      </tbody>
    </table>

    <h3 id="sec2-6">2.6 Strategie de cache Redis</h3>
    <table>
      <thead>
        <tr>
          <th>Cle Redis</th>
          <th>Contenu</th>
          <th>TTL</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><code>game:{sessionCode}:state</code></td>
          <td>Game State complet (JSON)</td>
          <td>2h</td>
        </tr>
        <tr>
          <td><code>game:{sessionCode}:players</code></td>
          <td>Liste des joueurs connectes</td>
          <td>2h</td>
        </tr>
        <tr>
          <td><code>scenario:{slug}:pack</code></td>
          <td>Scenario Pack charge</td>
          <td>1h</td>
        </tr>
        <tr>
          <td><code>ai:setup:{scenarioSlug}</code></td>
          <td>Reponse IA de setup (cachee)</td>
          <td>1h</td>
        </tr>
        <tr>
          <td><code>session:{code}:timers</code></td>
          <td>Timers actifs de la session</td>
          <td>30min</td>
        </tr>
        <tr>
          <td><code>user:{userId}:token</code></td>
          <td>Token JWT (blacklist)</td>
          <td>24h</td>
        </tr>
        <tr>
          <td><code>ratelimit:{ip}:{endpoint}</code></td>
          <td>Compteur rate limiting</td>
          <td>1min</td>
        </tr>
      </tbody>
    </table>

    <h3 id="sec2-7">2.7 Integration IA — Claude API</h3>
    <table>
      <thead>
        <tr>
          <th>Parametre</th>
          <th>Valeur</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Modele principal</td>
          <td><code>claude-sonnet-4-20250514</code> (narration, resolution)</td>
        </tr>
        <tr>
          <td>Modele secondaire</td>
          <td><code>claude-haiku</code> (setup, validation)</td>
        </tr>
        <tr>
          <td>Max tokens</td>
          <td>512 (narration), 256 (resolution), 128 (validation)</td>
        </tr>
        <tr>
          <td>Temperature</td>
          <td>0.8 (narration), 0.3 (resolution/validation)</td>
        </tr>
        <tr>
          <td>Streaming</td>
          <td>Actif pour narration (SSE vers WebSocket)</td>
        </tr>
        <tr>
          <td>Retry</td>
          <td>3 tentatives, backoff exponentiel (1s, 2s, 4s)</td>
        </tr>
        <tr>
          <td>Fallback</td>
          <td>Claude Haiku si Sonnet timeout > 10s</td>
        </tr>
        <tr>
          <td>Content filter</td>
          <td>Guardrails dans le prompt systeme + post-processing</td>
        </tr>
      </tbody>
    </table>


    <!-- ---- SECTION 3 ---- -->
    <h2 id="sec3" class="section-break">3. Game Loop — Boucle de jeu en 6 phases</h2>

    <div class="phase-flow">
      <div class="phase-item" style="background:#fef3c7; border-radius:12px;">
        <div class="phase-icon">&#9881;</div>
        <div class="phase-name">SETUP</div>
        <div class="phase-desc">Config roles,<br>params, jauges</div>
      </div>
      <div class="phase-arrow">&#10140;</div>
      <div class="phase-item" style="background:#dbeafe; border-radius:12px;">
        <div class="phase-icon">&#128214;</div>
        <div class="phase-name">NARRATION</div>
        <div class="phase-desc">IA narre<br>la scene</div>
      </div>
      <div class="phase-arrow">&#10140;</div>
      <div class="phase-item" style="background:#dcfce7; border-radius:12px;">
        <div class="phase-icon">&#9889;</div>
        <div class="phase-name">ACTION</div>
        <div class="phase-desc">Joueurs soumettent<br>leurs actions</div>
      </div>
      <div class="phase-arrow">&#10140;</div>
      <div class="phase-item" style="background:#fce7f3; border-radius:12px;">
        <div class="phase-icon">&#9878;</div>
        <div class="phase-name">RESOLUTION</div>
        <div class="phase-desc">IA resout<br>les actions</div>
      </div>
      <div class="phase-arrow">&#10140;</div>
      <div class="phase-item" style="background:#f3e8ff; border-radius:12px;">
        <div class="phase-icon">&#128172;</div>
        <div class="phase-name">DISCUSSION</div>
        <div class="phase-desc">Joueurs debattent<br>et votent</div>
      </div>
      <div class="phase-arrow">&#10140;</div>
      <div class="phase-item" style="background:#fef9c3; border-radius:12px;">
        <div class="phase-icon">&#127942;</div>
        <div class="phase-name">FINALE</div>
        <div class="phase-desc">Epilogue,<br>fin de partie</div>
      </div>
    </div>

    <h3 id="sec3-1">3.1 Diagramme d'etat du cycle de vie</h3>
    <div class="mermaid-container">
      <pre class="mermaid">
stateDiagram-v2
    [*] --> Lobby: Creation partie
    Lobby --> EnCours: Tous les joueurs prets
    Lobby --> Annulee: Timeout / Hote quitte

    state EnCours {
        [*] --> Narration: Debut du round
        Narration --> Action: MJ IA a narre
        Action --> Resolution: Tous les joueurs ont agi
        Resolution --> Vote: Phase de vote requise
        Resolution --> Narration: Round suivant
        Vote --> Narration: Votes comptabilises
    }

    EnCours --> Pause: Joueur deconnecte
    Pause --> EnCours: Reconnexion
    Pause --> Terminee: Timeout reconnexion
    EnCours --> Terminee: Condition de fin atteinte
    Terminee --> [*]
    Annulee --> [*]
</pre>
    </div>

    <h3 id="sec3-2">3.2 Timers par phase</h3>
    <table>
      <thead>
        <tr>
          <th>Phase</th>
          <th>Duree defaut</th>
          <th>Min</th>
          <th>Max</th>
          <th>Timeout</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Narration</td>
          <td>15s (affichage)</td>
          <td>10s</td>
          <td>30s</td>
          <td>Auto-skip</td>
        </tr>
        <tr>
          <td>Action</td>
          <td>60s</td>
          <td>30s</td>
          <td>120s</td>
          <td>Action vide soumise</td>
        </tr>
        <tr>
          <td>Resolution</td>
          <td>20s (affichage)</td>
          <td>10s</td>
          <td>30s</td>
          <td>Auto-skip</td>
        </tr>
        <tr>
          <td>Discussion</td>
          <td>90s</td>
          <td>30s</td>
          <td>180s</td>
          <td>Cloture auto</td>
        </tr>
        <tr>
          <td>Vote (TRIBUNAL)</td>
          <td>30s</td>
          <td>15s</td>
          <td>60s</td>
          <td>Abstention comptee</td>
        </tr>
      </tbody>
    </table>

    <h3 id="sec3-3">3.3 Parcours joueur principal</h3>
    <div class="mermaid-container">
      <pre class="mermaid">
flowchart LR
    A[Inscription] --> B[Connexion]
    B --> C[Dashboard]
    C --> D{Action?}
    D -->|Creer partie| E[Choix scenario + config]
    D -->|Rejoindre| F[Saisie code salon]
    E --> G[Lobby - Attente joueurs]
    F --> G
    G --> H[Partie en cours - 6 phases]
    H --> I[Epilogue + Resultats]
    I --> J{Rejouer?}
    J -->|Oui| G
    J -->|Non| C
</pre>
    </div>


    <h3 id="sec3-4">3.4 Structure du Game State (Redis)</h3>
    <div class="card"
      style="background:var(--code-bg); font-family:'JetBrains Mono','Fira Code',monospace; font-size:0.8em; white-space:pre; overflow-x:auto; line-height:1.5;">
      {
      "session_id": "abc-123",
      "scenario": "TRIBUNAL",
      "status": "IN_PROGRESS",
      "current_round": 3,
      "current_phase": "ACTION",
      "timer_remaining": 45,
      "players": [
      {
      "id": "player-1",
      "username": "Lucas",
      "role": { "name": "Avocat defense", "secret": "Faire acquitter l'accuse", "visible_to": ["player-1"] },
      "is_connected": true,
      "actions_this_round": null
      }
      ],
      "public_state": {
      "narration_history": ["Tour 1: Le juge ouvre la seance...", "Tour 2: Un temoin monte a la barre..."],
      "current_narration": "Le procureur presente ses conclusions...",
      "vote_results": { "round_2": { "coupable": 2, "non_coupable": 3 } }
      },
      "private_states": {
      "player-1": { "secret_info": "Vous savez que l'accuse etait present sur les lieux" }
      },
      "gauges": null,
      "actions_history": [
      { "round": 1, "player_id": "player-1", "action": "J'interroge le temoin", "result": "Le temoin hesite..." }
      ]
      }
    </div>

    <h3 id="sec3-5">3.5 Structure d'un Scenario Pack (JSON)</h3>
    <div class="card"
      style="background:var(--code-bg); font-family:'JetBrains Mono','Fira Code',monospace; font-size:0.8em; white-space:pre; overflow-x:auto; line-height:1.5;">
      {
      "id": "tribunal-v1",
      "slug": "tribunal",
      "name": "TRIBUNAL — Drame judiciaire",
      "description": "Un proces. Des secrets. Un verdict.",
      "min_players": 4,
      "max_players": 8,
      "max_rounds": 5,
      "roles": [
      { "name": "Avocat defense", "count": 1, "secret": "Faire acquitter l'accuse" },
      { "name": "Procureur", "count": 1, "secret": "Faire condamner l'accuse" },
      { "name": "Temoin fiable", "count": "1-2", "secret": "Reveler la verite" },
      { "name": "Temoin corrompu", "count": "1-2", "secret": "Mentir pour un camp" },
      { "name": "Jure", "count": "1-3", "secret": "Voter selon conviction" },
      { "name": "Accuse", "count": 1, "secret": "Survivre au proces" }
      ],
      "resources": null,
      "phases_override": {
      "discussion": { "has_vote": true, "vote_type": "verdict" }
      },
      "end_conditions": {
      "unanimous_verdict": "Fin immediate si verdict unanime",
      "max_rounds_reached": "Verdict a la majorite au round 5"
      },
      "ai_system_prompt": "Tu es le narrateur d'un drame judiciaire..."
      }
    </div>

    <h3 id="sec3-6">3.6 Philosophie du moteur</h3>
    <blockquote>
      <strong>Principe fondamental :</strong> Tous les scenarios suivent la meme boucle de jeu. Seule la configuration
      change.<br>
      Le Game Engine est 100% generique. Les specificites (roles, jauges, votes, conditions de fin) sont definies dans
      les Scenario Packs. Ajouter un nouveau scenario = ajouter un fichier JSON, sans modifier le code du moteur.
    </blockquote>
    <table>
      <thead>
        <tr>
          <th>Composant</th>
          <th>COMMUN (moteur)</th>
          <th>SPECIFIQUE (Scenario Pack)</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Phases</td>
          <td>6 phases fixes (SETUP→FINALE)</td>
          <td>Timers, overrides par phase</td>
        </tr>
        <tr>
          <td>Roles</td>
          <td>Distribution aleatoire, affichage</td>
          <td>Noms, nombre, secrets</td>
        </tr>
        <tr>
          <td>Actions</td>
          <td>Soumission, timer, timeout</td>
          <td>Types d'actions autorisees</td>
        </tr>
        <tr>
          <td>Jauges</td>
          <td>Moteur de decay, affichage</td>
          <td>Liste des jauges, valeurs init, taux</td>
        </tr>
        <tr>
          <td>Vote</td>
          <td>Collecte, comptage</td>
          <td>Type de vote, seuil</td>
        </tr>
        <tr>
          <td>IA</td>
          <td>Appel API, streaming, cache</td>
          <td>Prompt systeme, contexte scenario</td>
        </tr>
        <tr>
          <td>Fin de partie</td>
          <td>Evaluation, epilogue</td>
          <td>Conditions de victoire/defaite</td>
        </tr>
      </tbody>
    </table>


    <!-- ---- SECTION 4 ---- -->
    <h2 id="sec4" class="section-break">4. Specifications fonctionnelles</h2>

    <h3 id="sec4-1">4.1 Acteurs du systeme</h3>
    <table>
      <thead>
        <tr>
          <th>Acteur</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>Joueur</strong></td>
          <td>Participant a une partie, soumet des actions, vote</td>
        </tr>
        <tr>
          <td><strong>Hote</strong></td>
          <td>Joueur createur de la partie, configure et lance</td>
        </tr>
        <tr>
          <td><strong>Admin</strong></td>
          <td>Gestionnaire de la plateforme, moderation</td>
        </tr>
        <tr>
          <td><strong>IA MJ</strong></td>
          <td>Intelligence artificielle, narration et resolution</td>
        </tr>
      </tbody>
    </table>

    <h3 id="sec4-2">4.2 User Stories (42 stories, priorisees MoSCoW)</h3>

    <h4>Authentification & Profil</h4>
    <table>
      <thead>
        <tr>
          <th>ID</th>
          <th>User Story</th>
          <th>SP</th>
          <th>Priorite</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>US-01</td>
          <td>Creer un compte (email unique, mdp 8+ chars)</td>
          <td>3</td>
          <td><span class="badge badge-must">MUST</span></td>
        </tr>
        <tr>
          <td>US-02</td>
          <td>Se connecter (JWT 24h)</td>
          <td>2</td>
          <td><span class="badge badge-must">MUST</span></td>
        </tr>
        <tr>
          <td>US-03</td>
          <td>Choisir un pseudo (3-20 chars, unique par partie)</td>
          <td>2</td>
          <td><span class="badge badge-must">MUST</span></td>
        </tr>
        <tr>
          <td>US-04</td>
          <td>Se connecter via OAuth Google/Discord</td>
          <td>3</td>
          <td><span class="badge badge-should">SHOULD</span></td>
        </tr>
        <tr>
          <td>US-05</td>
          <td>Consulter son historique de parties</td>
          <td>3</td>
          <td><span class="badge badge-should">SHOULD</span></td>
        </tr>
        <tr>
          <td>US-06</td>
          <td>Reinitialiser son mot de passe</td>
          <td>2</td>
          <td><span class="badge badge-must">MUST</span></td>
        </tr>
      </tbody>
    </table>

    <h4>Gestion de Partie</h4>
    <table>
      <thead>
        <tr>
          <th>ID</th>
          <th>User Story</th>
          <th>SP</th>
          <th>Priorite</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>US-07</td>
          <td>Creer une partie (choix scenario, code 6 chars)</td>
          <td>5</td>
          <td><span class="badge badge-must">MUST</span></td>
        </tr>
        <tr>
          <td>US-08</td>
          <td>Configurer les parametres (timer, nb joueurs)</td>
          <td>3</td>
          <td><span class="badge badge-must">MUST</span></td>
        </tr>
        <tr>
          <td>US-09</td>
          <td>Rejoindre via code</td>
          <td>3</td>
          <td><span class="badge badge-must">MUST</span></td>
        </tr>
        <tr>
          <td>US-10</td>
          <td>Lancer la partie (min joueurs)</td>
          <td>3</td>
          <td><span class="badge badge-must">MUST</span></td>
        </tr>
        <tr>
          <td>US-11</td>
          <td>Expulser un joueur</td>
          <td>2</td>
          <td><span class="badge badge-should">SHOULD</span></td>
        </tr>
        <tr>
          <td>US-12</td>
          <td>Mettre en pause</td>
          <td>3</td>
          <td><span class="badge badge-should">SHOULD</span></td>
        </tr>
        <tr>
          <td>US-13</td>
          <td>Voir la liste des joueurs dans le lobby</td>
          <td>2</td>
          <td><span class="badge badge-must">MUST</span></td>
        </tr>
        <tr>
          <td>US-14</td>
          <td>Quitter une partie</td>
          <td>2</td>
          <td><span class="badge badge-must">MUST</span></td>
        </tr>
      </tbody>
    </table>

    <h4>Gameplay — Boucle de Jeu</h4>
    <table>
      <thead>
        <tr>
          <th>ID</th>
          <th>User Story</th>
          <th>SP</th>
          <th>Priorite</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>US-16</td>
          <td>Lire la narration de l'IA</td>
          <td>5</td>
          <td><span class="badge badge-must">MUST</span></td>
        </tr>
        <tr>
          <td>US-17</td>
          <td>Soumettre une action (texte libre, timer)</td>
          <td>5</td>
          <td><span class="badge badge-must">MUST</span></td>
        </tr>
        <tr>
          <td>US-18</td>
          <td>Voir la resolution</td>
          <td>5</td>
          <td><span class="badge badge-must">MUST</span></td>
        </tr>
        <tr>
          <td>US-19</td>
          <td>Discuter avec les autres (chat temps reel)</td>
          <td>5</td>
          <td><span class="badge badge-must">MUST</span></td>
        </tr>
        <tr>
          <td>US-20</td>
          <td>Voter (TRIBUNAL)</td>
          <td>5</td>
          <td><span class="badge badge-must">MUST</span></td>
        </tr>
        <tr>
          <td>US-21</td>
          <td>Voir les jauges (DEEP)</td>
          <td>3</td>
          <td><span class="badge badge-must">MUST</span></td>
        </tr>
        <tr>
          <td>US-22</td>
          <td>Voir le timer</td>
          <td>2</td>
          <td><span class="badge badge-must">MUST</span></td>
        </tr>
        <tr>
          <td>US-23</td>
          <td>Voir son role secret (TRIBUNAL)</td>
          <td>3</td>
          <td><span class="badge badge-must">MUST</span></td>
        </tr>
        <tr>
          <td>US-24</td>
          <td>Voir l'epilogue</td>
          <td>5</td>
          <td><span class="badge badge-must">MUST</span></td>
        </tr>
      </tbody>
    </table>

    <h4>IA MJ</h4>
    <table>
      <thead>
        <tr>
          <th>ID</th>
          <th>User Story</th>
          <th>SP</th>
          <th>Priorite</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>US-35</td>
          <td>Generer la narration (&lt;500 tokens)</td>
          <td>8</td>
          <td><span class="badge badge-must">MUST</span></td>
        </tr>
        <tr>
          <td>US-36</td>
          <td>Resoudre les actions des joueurs</td>
          <td>8</td>
          <td><span class="badge badge-must">MUST</span></td>
        </tr>
        <tr>
          <td>US-37</td>
          <td>Attribuer les roles (distribution aleatoire)</td>
          <td>5</td>
          <td><span class="badge badge-must">MUST</span></td>
        </tr>
        <tr>
          <td>US-38</td>
          <td>Evaluer la condition de fin</td>
          <td>3</td>
          <td><span class="badge badge-must">MUST</span></td>
        </tr>
        <tr>
          <td>US-40</td>
          <td>Generer l'epilogue</td>
          <td>5</td>
          <td><span class="badge badge-must">MUST</span></td>
        </tr>
        <tr>
          <td>US-41</td>
          <td>Gerer les joueurs absents (action par defaut)</td>
          <td>3</td>
          <td><span class="badge badge-must">MUST</span></td>
        </tr>
        <tr>
          <td>US-42</td>
          <td>Maintenir la coherence narrative</td>
          <td>5</td>
          <td><span class="badge badge-should">SHOULD</span></td>
        </tr>
      </tbody>
    </table>

    <h4>Communication</h4>
    <table>
      <thead>
        <tr>
          <th>ID</th>
          <th>User Story</th>
          <th>SP</th>
          <th>Priorite</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>US-25</td>
          <td>Envoyer un message dans le chat public en jeu</td>
          <td>3</td>
          <td><span class="badge badge-must">MUST</span></td>
        </tr>
        <tr>
          <td>US-26</td>
          <td>Envoyer un message prive a un joueur</td>
          <td>3</td>
          <td><span class="badge badge-should">SHOULD</span></td>
        </tr>
        <tr>
          <td>US-27</td>
          <td>Voir l'indicateur de "joueur en train d'ecrire"</td>
          <td>1</td>
          <td><span class="badge badge-could">COULD</span></td>
        </tr>
      </tbody>
    </table>

    <h4>Administration</h4>
    <table>
      <thead>
        <tr>
          <th>ID</th>
          <th>User Story</th>
          <th>SP</th>
          <th>Priorite</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>US-28</td>
          <td>Voir le dashboard admin (stats globales)</td>
          <td>5</td>
          <td><span class="badge badge-must">MUST</span></td>
        </tr>
        <tr>
          <td>US-29</td>
          <td>Voir la liste des sessions actives</td>
          <td>3</td>
          <td><span class="badge badge-must">MUST</span></td>
        </tr>
        <tr>
          <td>US-30</td>
          <td>Bannir un utilisateur</td>
          <td>3</td>
          <td><span class="badge badge-should">SHOULD</span></td>
        </tr>
        <tr>
          <td>US-31</td>
          <td>Voir les logs d'erreurs IA</td>
          <td>2</td>
          <td><span class="badge badge-should">SHOULD</span></td>
        </tr>
        <tr>
          <td>US-32</td>
          <td>Configurer les Scenario Packs (activer/desactiver)</td>
          <td>2</td>
          <td><span class="badge badge-must">MUST</span></td>
        </tr>
        <tr>
          <td>US-33</td>
          <td>Voir les statistiques d'utilisation par scenario</td>
          <td>3</td>
          <td><span class="badge badge-should">SHOULD</span></td>
        </tr>
      </tbody>
    </table>

    <h3 id="sec4-3">4.3 Regles metier detaillees</h3>

    <h4>Regles de deconnexion</h4>
    <table>
      <thead>
        <tr>
          <th>Situation</th>
          <th>Delai</th>
          <th>Comportement</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Deconnexion courte</td>
          <td>&lt; 2 min</td>
          <td>Reconnexion auto, etat preserve, la partie attend si c'est son tour</td>
        </tr>
        <tr>
          <td>Deconnexion moyenne</td>
          <td>2-5 min</td>
          <td>Place reservee, l'IA joue a sa place (action par defaut)</td>
        </tr>
        <tr>
          <td>Deconnexion longue</td>
          <td>&gt; 5 min</td>
          <td>Joueur retire de la partie, l'IA prend le relais definitivement</td>
        </tr>
        <tr>
          <td>Hote deconnecte</td>
          <td>Immediatement</td>
          <td>Transfert automatique du role d'hote au joueur le plus ancien</td>
        </tr>
      </tbody>
    </table>

    <h4>Regles de vote (TRIBUNAL)</h4>
    <ul>
      <li>Le vote a lieu en phase Discussion, une fois par round</li>
      <li>Chaque joueur ayant le role Jure vote : <strong>Coupable</strong> ou <strong>Non coupable</strong></li>
      <li>Les autres roles (Avocat, Procureur, Temoins, Accuse) ne votent pas mais peuvent influencer</li>
      <li><strong>Verdict unanime</strong> des jures = fin immediate de la partie</li>
      <li><strong>Round 5</strong> (dernier) : verdict a la majorite simple (en cas d'egalite, l'accuse est acquitte)
      </li>
      <li>L'abstention est comptee automatiquement en cas de timeout</li>
    </ul>

    <h4>Regles des jauges (DEEP)</h4>
    <ul>
      <li>Les jauges decroissent automatiquement a chaque tour (<strong>decay naturel</strong>)</li>
      <li>Les actions des joueurs peuvent <strong>augmenter ou diminuer</strong> les jauges (decide par l'IA)</li>
      <li><strong>Seuils critiques</strong> : quand une jauge passe sous son seuil, des malus s'appliquent (actions
        limitees, systemes defaillants)</li>
      <li>O2 = 0% ou Coque = 0% → <strong>Defaite immediate</strong></li>
      <li>Profondeur = 0m → <strong>Victoire</strong> (surface atteinte)</li>
      <li>Round 8 atteint sans victoire/defaite → <strong>Defaite</strong> (reserves epuisees)</li>
    </ul>

    <h4>Regles de distribution des roles</h4>
    <ul>
      <li>La distribution est <strong>aleatoire</strong> a chaque partie (pas de choix joueur)</li>
      <li>Le nombre de roles s'adapte au nombre de joueurs presents (selon la config du Scenario Pack)</li>
      <li>Les roles sont <strong>secrets</strong> : chaque joueur voit uniquement son propre role via
        <code>game:private-info</code></li>
      <li>Le serveur ne transmet <strong>jamais</strong> les roles des autres joueurs au client (securite server-side)
      </li>
    </ul>

    <h3 id="sec4-4">4.4 Dictionnaire de donnees</h3>
    <table>
      <thead>
        <tr>
          <th>Entite</th>
          <th>Attributs principaux</th>
          <th>Relations</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>User</strong></td>
          <td>id, email, password_hash, username, role, oauth_provider, created_at, banned_until</td>
          <td>1-N Player, 1-N Game (hote)</td>
        </tr>
        <tr>
          <td><strong>Game</strong></td>
          <td>id, code, scenario_pack_id, host_id, status, current_round, current_phase, max_players, timer_action,
            timer_discussion, created_at, started_at, finished_at</td>
          <td>N-1 User (hote), N-1 ScenarioPack, 1-N Player, 1-N GameRound, 1-N ChatMessage</td>
        </tr>
        <tr>
          <td><strong>Player</strong></td>
          <td>id, game_id, user_id, role_name, role_data (JSON), is_connected, joined_at</td>
          <td>N-1 Game, N-1 User, 1-N Action, 1-N Vote, 1-N ChatMessage</td>
        </tr>
        <tr>
          <td><strong>ScenarioPack</strong></td>
          <td>id, slug, name, description, config (JSON), min_players, max_players, max_rounds, is_active</td>
          <td>1-N Game</td>
        </tr>
        <tr>
          <td><strong>GameRound</strong></td>
          <td>id, game_id, round_number, narration_text, resolution_text, gauges (JSON), vote_results (JSON)</td>
          <td>N-1 Game, 1-N Action, 1-N Vote</td>
        </tr>
        <tr>
          <td><strong>Action</strong></td>
          <td>id, round_id, player_id, action_text, resolution_result, is_timeout</td>
          <td>N-1 GameRound, N-1 Player</td>
        </tr>
        <tr>
          <td><strong>ChatMessage</strong></td>
          <td>id, game_id, player_id, recipient_id, content, round_number, phase</td>
          <td>N-1 Game, N-1 Player</td>
        </tr>
        <tr>
          <td><strong>Vote</strong></td>
          <td>id, round_id, player_id, choice, is_abstention</td>
          <td>N-1 GameRound, N-1 Player</td>
        </tr>
      </tbody>
    </table>

    <h3 id="sec4-5">4.5 Matrice de tracabilite (Objectifs → User Stories)</h3>
    <table>
      <thead>
        <tr>
          <th>Objectif</th>
          <th>User Stories associees</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>O1 — Authentification securisee</td>
          <td>US-01, US-02, US-04, US-06</td>
        </tr>
        <tr>
          <td>O2 — Gestion de parties multi</td>
          <td>US-07, US-08, US-09, US-10, US-13, US-14</td>
        </tr>
        <tr>
          <td>O3 — Boucle de jeu immersive</td>
          <td>US-16, US-17, US-18, US-19, US-22, US-24</td>
        </tr>
        <tr>
          <td>O4 — Roles et secrets (TRIBUNAL)</td>
          <td>US-20, US-23, US-37</td>
        </tr>
        <tr>
          <td>O5 — Gestion de ressources (DEEP)</td>
          <td>US-21, US-38</td>
        </tr>
        <tr>
          <td>O6 — IA Game Master</td>
          <td>US-35, US-36, US-37, US-38, US-40, US-41, US-42</td>
        </tr>
        <tr>
          <td>O7 — Communication en jeu</td>
          <td>US-19, US-25, US-26</td>
        </tr>
        <tr>
          <td>O8 — Administration</td>
          <td>US-28, US-29, US-30, US-31, US-32, US-33</td>
        </tr>
      </tbody>
    </table>

    <h3 id="sec4-6">4.6 Contraintes techniques</h3>
    <table>
      <thead>
        <tr>
          <th>Contrainte</th>
          <th>Specification</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Temps reel</td>
          <td>WebSocket pour toutes les MAJ en jeu</td>
        </tr>
        <tr>
          <td>Latence IA</td>
          <td>Reponse narration &lt; 5s, resolution &lt; 8s</td>
        </tr>
        <tr>
          <td>Concurrence</td>
          <td>Support 100 parties simultanees minimum</td>
        </tr>
        <tr>
          <td>Donnees</td>
          <td>Conservation historique 12 mois</td>
        </tr>
        <tr>
          <td>Securite</td>
          <td>Roles secrets jamais envoyes aux autres clients</td>
        </tr>
        <tr>
          <td>Responsive</td>
          <td>Mobile-first, jouable sur smartphone</td>
        </tr>
      </tbody>
    </table>


    <!-- ---- SECTION 5 ---- -->
    <h2 id="sec5" class="section-break">5. Scenarios MVP — TRIBUNAL & DEEP</h2>

    <div class="scenario-card tribunal">
      <h3 style="margin-top:0; color:#dc2626;">&#9878; TRIBUNAL — Drame judiciaire a roles caches</h3>
      <table>
        <tbody>
          <tr>
            <td><strong>Joueurs</strong></td>
            <td>4-8</td>
          </tr>
          <tr>
            <td><strong>Rounds</strong></td>
            <td>5</td>
          </tr>
          <tr>
            <td><strong>Mecanique cle</strong></td>
            <td>Roles secrets, vote du verdict</td>
          </tr>
          <tr>
            <td><strong>Victoire</strong></td>
            <td>Verdict unanime</td>
          </tr>
          <tr>
            <td><strong>Fin de temps</strong></td>
            <td>Round 5 : verdict a la majorite</td>
          </tr>
        </tbody>
      </table>
      <h4>Roles</h4>
      <table>
        <thead>
          <tr>
            <th>Role</th>
            <th>Nb</th>
            <th>Objectif secret</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Avocat defense</td>
            <td>1</td>
            <td>Faire acquitter l'accuse</td>
          </tr>
          <tr>
            <td>Procureur</td>
            <td>1</td>
            <td>Faire condamner l'accuse</td>
          </tr>
          <tr>
            <td>Temoin fiable</td>
            <td>1-2</td>
            <td>Reveler la verite</td>
          </tr>
          <tr>
            <td>Temoin corrompu</td>
            <td>1-2</td>
            <td>Mentir pour un camp</td>
          </tr>
          <tr>
            <td>Jure</td>
            <td>1-3</td>
            <td>Voter selon conviction</td>
          </tr>
          <tr>
            <td>Accuse</td>
            <td>1</td>
            <td>Survivre au proces</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="scenario-card deep">
      <h3 style="margin-top:0; color:#2563eb;">&#128674; DEEP — Survie sous-marine</h3>
      <table>
        <tbody>
          <tr>
            <td><strong>Joueurs</strong></td>
            <td>3-6</td>
          </tr>
          <tr>
            <td><strong>Rounds</strong></td>
            <td>8</td>
          </tr>
          <tr>
            <td><strong>Mecanique cle</strong></td>
            <td>Jauges O2/Energie/Coque/Profondeur</td>
          </tr>
          <tr>
            <td><strong>Victoire</strong></td>
            <td>Profondeur = 0m (surface atteinte)</td>
          </tr>
          <tr>
            <td><strong>Defaite</strong></td>
            <td>O2 ou Coque = 0%</td>
          </tr>
        </tbody>
      </table>
      <h4>Jauges</h4>
      <table>
        <thead>
          <tr>
            <th>Jauge</th>
            <th>Init</th>
            <th>Decay/tour</th>
            <th>Seuil critique</th>
            <th>0% =</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>O2</td>
            <td>100%</td>
            <td>-8%</td>
            <td>&lt;20% : actions limitees</td>
            <td>Defaite</td>
          </tr>
          <tr>
            <td>Energie</td>
            <td>100%</td>
            <td>-5%</td>
            <td>&lt;15% : systemes defaillants</td>
            <td>Derive</td>
          </tr>
          <tr>
            <td>Coque</td>
            <td>100%</td>
            <td>-3%</td>
            <td>&lt;25% : fuites</td>
            <td>Implosion (defaite)</td>
          </tr>
          <tr>
            <td>Profondeur</td>
            <td>500m</td>
            <td>variable</td>
            <td>1000m : ecrasement</td>
            <td>Victoire (surface)</td>
          </tr>
        </tbody>
      </table>
    </div>


    <!-- ---- SECTION 6 ---- -->
    <h2 id="sec6" class="section-break">6. Modele de donnees</h2>

    <h3 id="sec6-1">6.1 Diagramme entite-relation</h3>
    <div class="mermaid-container">
      <pre class="mermaid">
erDiagram
    USER {
        uuid id PK
        varchar email UK
        varchar password_hash
        varchar username UK
        enum role
        varchar oauth_provider
        timestamp created_at
        timestamp banned_until
    }

    GAME {
        uuid id PK
        char code UK
        uuid scenario_pack_id FK
        uuid host_id FK
        enum status
        int current_round
        enum current_phase
        int max_players
        int timer_action
        int timer_discussion
        timestamp created_at
        timestamp started_at
        timestamp finished_at
    }

    PLAYER {
        uuid id PK
        uuid game_id FK
        uuid user_id FK
        varchar role_name
        json role_data
        boolean is_connected
        timestamp joined_at
    }

    SCENARIO_PACK {
        uuid id PK
        varchar slug UK
        varchar name
        text description
        json config
        int min_players
        int max_players
        int max_rounds
        boolean is_active
    }

    GAME_ROUND {
        uuid id PK
        uuid game_id FK
        int round_number
        text narration_text
        text resolution_text
        json gauges
        json vote_results
    }

    ACTION {
        uuid id PK
        uuid round_id FK
        uuid player_id FK
        text action_text
        text resolution_result
        boolean is_timeout
    }

    CHAT_MESSAGE {
        uuid id PK
        uuid game_id FK
        uuid player_id FK
        uuid recipient_id FK
        text content
        int round_number
        varchar phase
    }

    VOTE {
        uuid id PK
        uuid round_id FK
        uuid player_id FK
        varchar choice
        boolean is_abstention
    }

    USER ||--o{ PLAYER : "participe"
    USER ||--o{ GAME : "heberge"
    GAME ||--o{ PLAYER : "contient"
    GAME ||--o{ GAME_ROUND : "contient"
    GAME }o--|| SCENARIO_PACK : "utilise"
    GAME ||--o{ CHAT_MESSAGE : "contient"
    GAME_ROUND ||--o{ ACTION : "contient"
    GAME_ROUND ||--o{ VOTE : "contient"
    PLAYER ||--o{ ACTION : "soumet"
    PLAYER ||--o{ VOTE : "vote"
    PLAYER ||--o{ CHAT_MESSAGE : "envoie"
</pre>
    </div>

    <h3 id="sec6-2">6.2 Entites principales</h3>
    <p>Le modele comporte <strong>8 entites</strong> : User, Game, Player, ScenarioPack, GameRound, Action, ChatMessage,
      Vote. Les champs <code>JSON</code> (role_data, config, gauges, vote_results) permettent la flexibilite sans
      sacrifier les relations fortes.</p>


    <!-- ---- SECTION 7 ---- -->
    <h2 id="sec7" class="section-break">7. Decisions d'architecture (ADR)</h2>

    <h3 id="sec7-1">7.1 Processus de decision</h3>
    <p>Chaque ADR suit un processus en 5 etapes : <strong>Identification</strong> du besoin → <strong>Recherche</strong>
      des options → <strong>Proposition</strong> documentee → <strong>Discussion</strong> en equipe →
      <strong>Vote</strong>. Les decisions critiques (ADR-001 a ADR-004) ont necessite le vote des 4 membres. Les
      decisions techniques (ADR-005, ADR-006) ont ete prises par Samy et Kays avec consultation des autres.</p>

    <div class="adr-box">
      <div class="adr-title">ADR-001 : Framework backend — NestJS 10+</div>
      <div class="adr-decision">Decision : <strong>NestJS 10+</strong></div>
      <table style="margin-top:8px; font-size:0.88em;">
        <thead>
          <tr>
            <th>Option evaluee</th>
            <th>Avantages</th>
            <th>Inconvenients</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Express.js</td>
            <td>Leger, flexible, enorme ecosysteme</td>
            <td>Pas de structure, DI manuelle, scalabilite limitee</td>
          </tr>
          <tr>
            <td><strong>NestJS</strong></td>
            <td>Modulaire, TypeScript natif, DI integre, decorators, CLI</td>
            <td>Courbe d'apprentissage, overhead pour petits projets</td>
          </tr>
          <tr>
            <td>Fastify</td>
            <td>Tres rapide, schema-based</td>
            <td>Ecosysteme plus petit, moins de ressources d'apprentissage</td>
          </tr>
          <tr>
            <td>Hono</td>
            <td>Ultra-leger, multi-runtime</td>
            <td>Jeune, pas de structure opinionnee, pas de DI</td>
          </tr>
        </tbody>
      </table>
      <p style="margin-top:6px; font-size:0.88em;"><strong>Raisons cles :</strong> Structure modulaire critique pour
        separer GameEngine, AI Service, WebSocket Gateway. Integration Socket.io native via
        <code>@nestjs/websockets</code>. Kays avait de l'experience en stage.</p>
      <p style="font-size:0.88em;"><strong>Consequences :</strong> Architecture propre en modules → facilite le travail
        en parallele. Inconvenient = boilerplate plus important qu'Express.</p>
    </div>

    <div class="adr-box">
      <div class="adr-title">ADR-002 : Gestion d'etat et cache — PostgreSQL 16 + Redis 7</div>
      <div class="adr-decision">Decision : <strong>PostgreSQL 16+ (persistance) + Redis 7 (cache temps reel)</strong>
      </div>
      <table style="margin-top:8px; font-size:0.88em;">
        <thead>
          <tr>
            <th>Option evaluee</th>
            <th>Avantages</th>
            <th>Inconvenients</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>MongoDB</td>
            <td>Schema flexible, JSON natif</td>
            <td>Pas de transactions ACID, joins complexes</td>
          </tr>
          <tr>
            <td><strong>PostgreSQL</strong></td>
            <td>ACID, JSONB, extensions, Prisma support</td>
            <td>Schema rigide pour certains cas</td>
          </tr>
          <tr>
            <td>SQLite</td>
            <td>Zero config, embarque</td>
            <td>Pas de concurrence, pas de reseau</td>
          </tr>
          <tr>
            <td>MySQL</td>
            <td>Populaire, simple</td>
            <td>JSONB limite, fonctions moins avancees</td>
          </tr>
        </tbody>
      </table>
      <p style="margin-top:6px; font-size:0.88em;"><strong>Raisons cles :</strong> JSONB natif pour stocker les etats de
        jeu flexibles. Excellent support Prisma. Hebergement Railway gratuit. Redis pour le cache des sessions de jeu
        actives (TTL, pub/sub pour WebSocket).</p>
      <p style="font-size:0.88em;"><strong>Consequences :</strong> Double-write (PostgreSQL persistant + Redis ephemere)
        = architecture resiliente. Inconvenient = complexite operationnelle accrue.</p>
    </div>

    <div class="adr-box">
      <div class="adr-title">ADR-003 : LLM Provider — Anthropic Claude</div>
      <div class="adr-decision">Decision : <strong>Anthropic Claude (claude-sonnet-4-20250514 + claude-3-haiku)</strong>
      </div>
      <table style="margin-top:8px; font-size:0.88em;">
        <thead>
          <tr>
            <th>Option evaluee</th>
            <th>Avantages</th>
            <th>Inconvenients</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>OpenAI GPT-4o</td>
            <td>Modele de reference, multimodal</td>
            <td>Cher, context 128k seulement, rate limits stricts</td>
          </tr>
          <tr>
            <td><strong>Anthropic Claude</strong></td>
            <td>200k context, excellent roleplay, streaming natif</td>
            <td>Dependance externe, cout a surveiller</td>
          </tr>
          <tr>
            <td>Mistral Large</td>
            <td>Europeen, bon rapport qualite/prix</td>
            <td>Qualite roleplay inferieure, context 32k</td>
          </tr>
          <tr>
            <td>Open-source (Llama 3, Mistral)</td>
            <td>Gratuit, auto-heberge</td>
            <td>GPU couteux, qualite narrative inferieure</td>
          </tr>
        </tbody>
      </table>
      <p style="margin-top:6px; font-size:0.88em;"><strong>Raisons cles :</strong> Context window de 200k tokens crucial
        pour l'historique narratif complet d'une partie. Excellente qualite de roleplay et de coherence narrative.
        Credit API etudiant disponible. Fallback vers claude-3-haiku pour les requetes moins critiques (setup,
        validation).</p>
      <p style="font-size:0.88em;"><strong>Consequences :</strong> Contexte massif + streaming natif = experience
        fluide. Inconvenient = dependance externe, cout a monitorer activement.</p>
    </div>

    <div class="adr-box">
      <div class="adr-title">ADR-004 : Hebergement — Vercel + Railway</div>
      <div class="adr-decision">Decision : <strong>Vercel (frontend Next.js) + Railway (backend NestJS +
          PostgreSQL)</strong></div>
      <table style="margin-top:8px; font-size:0.88em;">
        <thead>
          <tr>
            <th>Option evaluee</th>
            <th>Avantages</th>
            <th>Inconvenients</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>AWS (EC2/ECS)</td>
            <td>Flexible, scalable</td>
            <td>Complexe, cout imprevisible, config DevOps lourde</td>
          </tr>
          <tr>
            <td>Heroku</td>
            <td>Simple, PaaS</td>
            <td>Cher depuis fin free tier, cold starts</td>
          </tr>
          <tr>
            <td>VPS (Hetzner/OVH)</td>
            <td>Pas cher, controle total</td>
            <td>Admin sys a gerer, pas de CI/CD natif</td>
          </tr>
          <tr>
            <td><strong>Vercel + Railway</strong></td>
            <td>Free tiers genereux, deploy auto GitHub, preview envs</td>
            <td>Cold starts Railway (5-10s), limites free tier</td>
          </tr>
        </tbody>
      </table>
      <p style="margin-top:6px; font-size:0.88em;"><strong>Raisons cles :</strong> Budget total de 308 EUR, les free
        tiers couvrent nos besoins MVP. Deploiement automatique via GitHub. Preview environments pour la validation PO.
      </p>
      <p style="font-size:0.88em;"><strong>Consequences :</strong> Cout quasi nul pour l'hebergement. Inconvenient =
        cold starts Railway sur free tier (5-10s premiere requete).</p>
    </div>

    <div class="adr-box">
      <div class="adr-title">ADR-005 : Communication temps reel — Socket.io 4+</div>
      <div class="adr-decision">Decision : <strong>Socket.io 4+</strong></div>
      <table style="margin-top:8px; font-size:0.88em;">
        <thead>
          <tr>
            <th>Option evaluee</th>
            <th>Avantages</th>
            <th>Inconvenients</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>WebSocket natif</td>
            <td>Zero dependance, performant</td>
            <td>Pas de rooms, pas de reconnexion auto, gestion manuelle</td>
          </tr>
          <tr>
            <td><strong>Socket.io</strong></td>
            <td>Rooms, namespaces, reconnexion auto, fallback</td>
            <td>~50kb ajoutes au bundle client</td>
          </tr>
          <tr>
            <td>SSE (Server-Sent Events)</td>
            <td>Simple, HTTP natif</td>
            <td>Unidirectionnel, pas de rooms</td>
          </tr>
          <tr>
            <td>Long Polling</td>
            <td>Compatible partout</td>
            <td>Latence elevee, pas de temps reel</td>
          </tr>
        </tbody>
      </table>
      <p style="margin-top:6px; font-size:0.88em;"><strong>Raisons cles :</strong> Rooms (une par partie de jeu),
        namespaces (chat vs game events), reconnexion automatique, acknowledgements. Integration NestJS en ~10 lignes
        via <code>@nestjs/websockets</code>.</p>
      <p style="font-size:0.88em;"><strong>Consequences :</strong> Gestion native rooms/namespaces = architecture
        propre. Inconvenient = ~50kb ajoutes au bundle client.</p>
    </div>

    <div class="adr-box">
      <div class="adr-title">ADR-006 : ORM — Prisma 5+</div>
      <div class="adr-decision">Decision : <strong>Prisma 5+</strong></div>
      <table style="margin-top:8px; font-size:0.88em;">
        <thead>
          <tr>
            <th>Option evaluee</th>
            <th>Avantages</th>
            <th>Inconvenients</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>TypeORM</td>
            <td>Decorators, patterns Active Record/Data Mapper</td>
            <td>Bugs frequents, typage parfois incorrect, maintenance ralentie</td>
          </tr>
          <tr>
            <td><strong>Prisma</strong></td>
            <td>Schema-first, typage 100% auto-genere, migrations, Studio</td>
            <td><code>$queryRaw</code> pour requetes complexes, cold start overhead</td>
          </tr>
          <tr>
            <td>Drizzle</td>
            <td>Leger, SQL-like, rapide</td>
            <td>Jeune ecosysteme, moins de tooling</td>
          </tr>
          <tr>
            <td>Raw SQL</td>
            <td>Controle total, performances max</td>
            <td>Zero type-safety, maintenance cauchemar</td>
          </tr>
        </tbody>
      </table>
      <p style="margin-top:6px; font-size:0.88em;"><strong>Raisons cles :</strong> Approche schema-first = source unique
        de verite. Typage 100% auto-genere = zero mismatch schema/code. Migrations automatiques. Prisma Studio gratuit
        pour le debug visuel.</p>
      <p style="font-size:0.88em;"><strong>Consequences :</strong> Zero desynchronisation schema/code. Inconvenient =
        <code>$queryRaw</code> necessaire pour les requetes complexes, overhead de cold start.</p>
    </div>


    <!-- ---- SECTION 8 ---- -->
    <h2 id="sec8" class="section-break">8. Equipe et organisation</h2>

    <h3 id="sec8-1">8.1 Membres de l'equipe</h3>
    <table>
      <thead>
        <tr>
          <th>Membre</th>
          <th>Role principal</th>
          <th>Roles secondaires</th>
          <th>h/sem</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>Kays ZAHIDI</strong></td>
          <td>PO / Chef de projet / Architecte</td>
          <td>Code review, integration, decisions techniques</td>
          <td>25h</td>
        </tr>
        <tr>
          <td><strong>Samy ZEROUALI</strong></td>
          <td>Scrum Master / Dev Backend + IA</td>
          <td>Backend NestJS, Service IA, Prompt Engineering, WebSocket</td>
          <td>28h</td>
        </tr>
        <tr>
          <td><strong>Youri EMMANUEL</strong></td>
          <td>Dev Frontend</td>
          <td>Interface React/Next.js, integration UI, tests frontend</td>
          <td>22h</td>
        </tr>
        <tr>
          <td><strong>Yassir SABBAR</strong></td>
          <td>Dev Frontend / UX-UI + DevOps</td>
          <td>Maquettes Figma, CI/CD, deploiement, accessibilite</td>
          <td>22h</td>
        </tr>
      </tbody>
    </table>
    <p><strong>Disponibilite totale : 97 heures/semaine = ~13,9 jours-homme/semaine.</strong></p>

    <h3 id="sec8-2">8.2 Matrice de competences</h3>
    <table>
      <thead>
        <tr>
          <th>Competence</th>
          <th>Kays</th>
          <th>Samy</th>
          <th>Youri</th>
          <th>Yassir</th>
          <th>Moy.</th>
          <th>Requis</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>React / Next.js</td>
          <td>3</td>
          <td>2</td>
          <td>4</td>
          <td>3</td>
          <td>3.0</td>
          <td>3</td>
        </tr>
        <tr>
          <td>Node.js / NestJS</td>
          <td>2</td>
          <td>4</td>
          <td>1</td>
          <td>2</td>
          <td>2.3</td>
          <td>3</td>
        </tr>
        <tr>
          <td>WebSocket / Socket.io</td>
          <td>2</td>
          <td>3</td>
          <td>2</td>
          <td>3</td>
          <td>2.5</td>
          <td>3</td>
        </tr>
        <tr>
          <td>PostgreSQL / Prisma</td>
          <td>2</td>
          <td>4</td>
          <td>1</td>
          <td>2</td>
          <td>2.3</td>
          <td>3</td>
        </tr>
        <tr>
          <td>API LLM (Anthropic)</td>
          <td>2</td>
          <td>3</td>
          <td>1</td>
          <td>2</td>
          <td>2.0</td>
          <td style="color:#dc2626; font-weight:700;">3</td>
        </tr>
        <tr>
          <td>UI/UX Design</td>
          <td>2</td>
          <td>1</td>
          <td>3</td>
          <td>4</td>
          <td>2.5</td>
          <td>3</td>
        </tr>
        <tr>
          <td>DevOps / CI-CD</td>
          <td>3</td>
          <td>2</td>
          <td>1</td>
          <td>4</td>
          <td>2.5</td>
          <td>2</td>
        </tr>
        <tr>
          <td>Gestion Agile</td>
          <td>4</td>
          <td>4</td>
          <td>2</td>
          <td>2</td>
          <td>3.0</td>
          <td>3</td>
        </tr>
      </tbody>
    </table>

    <h3 id="sec8-3">8.3 Methodologie Agile</h3>
    <table>
      <thead>
        <tr>
          <th>Parametre</th>
          <th>Valeur</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Framework</td>
          <td>Scrum adapte</td>
        </tr>
        <tr>
          <td>Duree de sprint</td>
          <td>2 semaines</td>
        </tr>
        <tr>
          <td>Nombre de sprints</td>
          <td>7 (= 14 semaines)</td>
        </tr>
        <tr>
          <td>Ceremonies</td>
          <td>Daily standup (async Discord), Sprint Planning (lun S1, 1h), Refinement (ven S1, 1h), Review + Retro (ven
            S2, 2h)</td>
        </tr>
        <tr>
          <td>Outils</td>
          <td>GitHub Projects (Kanban), Discord, Figma, Notion</td>
        </tr>
        <tr>
          <td>DoD</td>
          <td>Code review, tests passes, deploye en staging, doc a jour</td>
        </tr>
      </tbody>
    </table>

    <h3 id="sec8-4">8.4 Matrice RACI</h3>
    <table>
      <thead>
        <tr>
          <th>Activite</th>
          <th>Kays</th>
          <th>Samy</th>
          <th>Youri</th>
          <th>Yassir</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Backlog produit</td>
          <td><strong>R/A</strong></td>
          <td>C</td>
          <td>I</td>
          <td>C</td>
        </tr>
        <tr>
          <td>Architecture technique</td>
          <td><strong>R/A</strong></td>
          <td>C</td>
          <td>I</td>
          <td>I</td>
        </tr>
        <tr>
          <td>Conception UX/UI</td>
          <td>C</td>
          <td>I</td>
          <td>C</td>
          <td><strong>R/A</strong></td>
        </tr>
        <tr>
          <td>Dev frontend</td>
          <td>A</td>
          <td>I</td>
          <td><strong>R</strong></td>
          <td>R</td>
        </tr>
        <tr>
          <td>Dev backend / API</td>
          <td>A</td>
          <td><strong>R</strong></td>
          <td>I</td>
          <td>I</td>
        </tr>
        <tr>
          <td>Dev moteur de jeu</td>
          <td><strong>R</strong></td>
          <td>C</td>
          <td>I</td>
          <td>I</td>
        </tr>
        <tr>
          <td>Dev service IA</td>
          <td>A</td>
          <td><strong>R</strong></td>
          <td>I</td>
          <td>I</td>
        </tr>
        <tr>
          <td>CI/CD et deploiement</td>
          <td>A</td>
          <td>I</td>
          <td>I</td>
          <td><strong>R</strong></td>
        </tr>
      </tbody>
    </table>


    <!-- ---- SECTION 9 ---- -->
    <h2 id="sec9" class="section-break">9. Planning du projet (Gantt)</h2>

    <h3 id="sec9-1">9.1 Diagramme de Gantt — 7 sprints</h3>
    <div class="mermaid-container">
      <pre class="mermaid">
gantt
    title Planning MYTHOS — 7 Sprints (14 semaines)
    dateFormat YYYY-MM-DD
    axisFormat %d/%m

    section Sprint 0
    Cadrage et Setup (23 SP)            :s0, 2026-02-10, 14d

    section Sprint 1
    Fondations + POC IA (29 SP)        :s1, after s0, 14d

    section Sprint 2
    Game Engine Core (37 SP)           :s2, after s1, 14d

    section Sprint 3
    Multijoueur + TRIBUNAL (37 SP)     :s3, after s2, 14d

    section Sprint 4
    DEEP + UI complete (29 SP)         :s4, after s3, 14d

    section Sprint 5
    Admin + Deploy (26 SP)             :s5, after s4, 14d

    section Buffer
    Finalisation (15 SP)               :sb, after s5, 14d

    section Jalons
    M0 Kickoff                         :milestone, 2026-02-10, 0d
    M1 Cadrage valide                  :milestone, 2026-02-21, 0d
    M2 POC IA valide                   :milestone, 2026-03-07, 0d
    M3 Game Engine OK                  :milestone, 2026-03-21, 0d
    M4 Alpha TRIBUNAL                  :milestone, 2026-04-04, 0d
    M5 Beta 2 scenarios                :milestone, 2026-04-18, 0d
    M6 MVP production                  :milestone, 2026-05-02, 0d
    M7 Livraison finale                :milestone, 2026-05-16, 0d
</pre>
    </div>

    <h3 id="sec9-2">9.2 Jalons cles</h3>
    <table>
      <thead>
        <tr>
          <th>#</th>
          <th>Jalon</th>
          <th>Date</th>
          <th>Livrables</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>M0</td>
          <td>Kickoff projet</td>
          <td>10/02/2026</td>
          <td>Equipe constituee, outils configures</td>
        </tr>
        <tr>
          <td>M1</td>
          <td>Cadrage valide</td>
          <td>21/02/2026</td>
          <td>CDC v1, maquettes Figma, repo + CI/CD</td>
        </tr>
        <tr>
          <td>M2</td>
          <td>POC IA valide</td>
          <td>07/03/2026</td>
          <td>Auth, BDD, POC IA (1 flux narratif), Scenario Packs</td>
        </tr>
        <tr>
          <td>M3</td>
          <td>Game Engine OK</td>
          <td>21/03/2026</td>
          <td>Moteur 6 phases, TRIBUNAL jouable en REST</td>
        </tr>
        <tr>
          <td>M4</td>
          <td>Alpha TRIBUNAL</td>
          <td>04/04/2026</td>
          <td>WebSocket, lobby, Game UI, 4 joueurs simultanes</td>
        </tr>
        <tr>
          <td>M5</td>
          <td>Beta 2 scenarios</td>
          <td>18/04/2026</td>
          <td>DEEP + jauges, UI finale, streaming IA</td>
        </tr>
        <tr>
          <td>M6</td>
          <td>MVP Production</td>
          <td>02/05/2026</td>
          <td>Admin, accessibilite, deploiement prod</td>
        </tr>
        <tr>
          <td>M7</td>
          <td>Livraison finale</td>
          <td>16/05/2026</td>
          <td>Docs, video, soutenance</td>
        </tr>
      </tbody>
    </table>

    <h3 id="sec9-3">9.3 Chemin critique</h3>
    <div class="mermaid-container">
      <pre class="mermaid">
graph LR
    A["S0-02<br>Init Repo<br>2 SP"] --> B["S0-04<br>Config NestJS<br>2 SP"]
    B --> C["S1-01<br>Schema Prisma<br>5 SP"]
    C --> D["S1-05<br>POC IA<br>5 SP"]
    D --> E["S2-06<br>Game Loop<br>Manager<br>13 SP"]
    E --> F["S3-03<br>WS + Game Loop<br>8 SP"]
    F --> G["S3-06<br>Game UI<br>8 SP"]
    G --> H["S4-02<br>Ecran fin<br>5 SP"]
    H --> I["S5-04<br>Deploy prod<br>3 SP"]
    I --> J["SB-01<br>Bug fixes<br>5 SP"]

    style A fill:#fef3c7,stroke:#f59e0b
    style B fill:#fef3c7,stroke:#f59e0b
    style C fill:#dbeafe,stroke:#3b82f6
    style D fill:#dbeafe,stroke:#3b82f6
    style E fill:#fee2e2,stroke:#ef4444
    style F fill:#fee2e2,stroke:#ef4444
    style G fill:#fee2e2,stroke:#ef4444
    style H fill:#dcfce7,stroke:#22c55e
    style I fill:#dcfce7,stroke:#22c55e
    style J fill:#f3e8ff,stroke:#a855f7
</pre>
    </div>
    <p><strong>Duree du chemin critique :</strong> 56 SP sur 14 semaines. La tache la plus critique est le <strong>Game
        Loop Manager (S2-06, 13 SP)</strong> — le composant le plus complexe du projet.</p>

    <h3 id="sec9-4">9.4 Repartition effort par sprint</h3>
    <table>
      <thead>
        <tr>
          <th>Sprint</th>
          <th>Semaines</th>
          <th>SP</th>
          <th>Objectif</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Sprint 0</td>
          <td>Sem 1-2</td>
          <td>23</td>
          <td>Cadrage, architecture, maquettes, CI/CD</td>
        </tr>
        <tr>
          <td>Sprint 1</td>
          <td>Sem 3-4</td>
          <td>29</td>
          <td>Auth, BDD, POC IA, Scenario Packs</td>
        </tr>
        <tr>
          <td>Sprint 2</td>
          <td>Sem 5-6</td>
          <td>37</td>
          <td>Game Engine complet (6 phases, REST)</td>
        </tr>
        <tr>
          <td>Sprint 3</td>
          <td>Sem 7-8</td>
          <td>37</td>
          <td>WebSocket, lobby, TRIBUNAL multijoueur</td>
        </tr>
        <tr>
          <td>Sprint 4</td>
          <td>Sem 9-10</td>
          <td>29</td>
          <td>DEEP, jauges, ecran fin, streaming IA</td>
        </tr>
        <tr>
          <td>Sprint 5</td>
          <td>Sem 11-12</td>
          <td>26</td>
          <td>Admin, accessibilite, deploiement prod</td>
        </tr>
        <tr>
          <td>Buffer</td>
          <td>Sem 13-14</td>
          <td>15</td>
          <td>Bugs, docs, video, soutenance</td>
        </tr>
      </tbody>
    </table>


    <!-- ---- SECTION 10 ---- -->
    <h2 id="sec10" class="section-break">10. Budget et ressources</h2>

    <h3 id="sec10-1">10.1 Budget detaille</h3>
    <table>
      <thead>
        <tr>
          <th>Phase</th>
          <th>Montant</th>
          <th>Postes principaux</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Phase 1 : POC (Sem 1-2)</td>
          <td>27 EUR</td>
          <td>API IA tests (15 EUR), domaine (12 EUR)</td>
        </tr>
        <tr>
          <td>Phase 2 : Dev (Sem 3-10)</td>
          <td>85 EUR</td>
          <td>API IA dev (60 EUR), Claude fallback (15 EUR), Railway (10 EUR)</td>
        </tr>
        <tr>
          <td>Phase 3 : Tests (Sem 11-12)</td>
          <td>40 EUR</td>
          <td>API IA charge (40 EUR)</td>
        </tr>
        <tr>
          <td>Phase 4 : Production (Sem 13-14)</td>
          <td>105 EUR</td>
          <td>API IA prod (50 EUR), Supabase Pro (25 EUR), Vercel Pro (20 EUR), Railway (10 EUR)</td>
        </tr>
        <tr>
          <td><strong>Provision imprevus (20%)</strong></td>
          <td><strong>51 EUR</strong></td>
          <td></td>
        </tr>
        <tr style="font-weight:700; background:#eef2ff;">
          <td>TOTAL PROJET</td>
          <td>308 EUR</td>
          <td>Reserve disponible : 192 EUR (sur 500 EUR)</td>
        </tr>
      </tbody>
    </table>

    <h3 id="sec10-2">10.2 Valorisation du travail</h3>
    <div class="card-grid">
      <div class="card">
        <div class="number">196 j/h</div>
        <div class="desc">Jours-homme de dev</div>
      </div>
      <div class="card">
        <div class="number">68 600 EUR</div>
        <div class="desc">Valorisation marche (350 EUR/j)</div>
      </div>
      <div class="card">
        <div class="number">M+7</div>
        <div class="desc">Break-even realiste</div>
      </div>
    </div>

    <h3 id="sec10-3">10.3 Projection financiere (post-lancement)</h3>
    <table>
      <thead>
        <tr>
          <th>Indicateur</th>
          <th>M+6 (2k MAU)</th>
          <th>M+12 (8k MAU)</th>
          <th>M+18 (15k MAU)</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Revenu mensuel total</td>
          <td>659 EUR</td>
          <td>2 634 EUR</td>
          <td>4 939 EUR</td>
        </tr>
        <tr>
          <td>Couts (API + infra)</td>
          <td>-280 EUR</td>
          <td>-800 EUR</td>
          <td>-1 400 EUR</td>
        </tr>
        <tr>
          <td><strong>Marge mensuelle</strong></td>
          <td><strong>379 EUR</strong></td>
          <td><strong>1 834 EUR</strong></td>
          <td><strong>3 539 EUR</strong></td>
        </tr>
      </tbody>
    </table>


    <h3 id="sec10-4">10.4 Trois scenarios budgetaires</h3>
    <table>
      <thead>
        <tr>
          <th>Scenario</th>
          <th>API IA</th>
          <th>Infra</th>
          <th>Divers</th>
          <th>Total</th>
          <th>Probabilite</th>
        </tr>
      </thead>
      <tbody>
        <tr style="background:#dcfce7;">
          <td><strong>Optimiste</strong></td>
          <td>5 EUR</td>
          <td>0 EUR</td>
          <td>10 EUR</td>
          <td><strong>15 EUR</strong></td>
          <td>20%</td>
        </tr>
        <tr>
          <td><strong>Realiste</strong></td>
          <td>36 EUR</td>
          <td>10 EUR</td>
          <td>12 EUR</td>
          <td><strong>58 EUR</strong></td>
          <td>60%</td>
        </tr>
        <tr style="background:#fee2e2;">
          <td><strong>Pessimiste</strong></td>
          <td>100 EUR</td>
          <td>30 EUR</td>
          <td>22 EUR</td>
          <td><strong>152 EUR</strong></td>
          <td>20%</td>
        </tr>
      </tbody>
    </table>
    <p><strong>Budget previsionnel pondere :</strong> (15 x 0.2) + (58 x 0.6) + (152 x 0.2) = <strong>68,2 EUR</strong>.
      Avec la reserve de 192 EUR sur 500 EUR de budget total, le risque financier est maitrise.</p>

    <h3 id="sec10-5">10.5 Plan de charge par membre</h3>
    <table>
      <thead>
        <tr>
          <th>Membre</th>
          <th>h/sem</th>
          <th>Total 14 sem</th>
          <th>Responsabilites principales</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>Kays ZAHIDI</strong></td>
          <td>25h</td>
          <td>244h (exams S9)</td>
          <td>Architecture, Game Engine, CDC, decisions techniques</td>
        </tr>
        <tr>
          <td><strong>Samy ZEROUALI</strong></td>
          <td>28h</td>
          <td>488h</td>
          <td>Backend NestJS, AI Service, WebSocket, BDD, Scrum ceremonies</td>
        </tr>
        <tr>
          <td><strong>Youri EMMANUEL</strong></td>
          <td>22h</td>
          <td>260h</td>
          <td>Frontend React/Next.js, UI composants, tests frontend</td>
        </tr>
        <tr>
          <td><strong>Yassir SABBAR</strong></td>
          <td>22h</td>
          <td>240h</td>
          <td>Maquettes UX, CI/CD, deploiement, accessibilite, monitoring</td>
        </tr>
      </tbody>
    </table>
    <p><strong>Total equipe : 1 232 heures</strong> — Valorisation marche (50 EUR/h) : <strong>61 600 EUR</strong>.</p>

    <h3 id="sec10-6">10.6 Comparaison couts API IA</h3>
    <table>
      <thead>
        <tr>
          <th>Provider</th>
          <th>Modele</th>
          <th>Input /1M tokens</th>
          <th>Output /1M tokens</th>
          <th>Cout/partie estime</th>
          <th>Qualite narrative</th>
        </tr>
      </thead>
      <tbody>
        <tr style="background:#eef2ff;">
          <td><strong>Anthropic</strong></td>
          <td>Claude Sonnet</td>
          <td>3.00 $</td>
          <td>15.00 $</td>
          <td>~0.06 $</td>
          <td>Excellent (retenu)</td>
        </tr>
        <tr>
          <td>Anthropic</td>
          <td>Claude Haiku</td>
          <td>0.25 $</td>
          <td>1.25 $</td>
          <td>~0.01 $</td>
          <td>Bon (phases simples)</td>
        </tr>
        <tr>
          <td>OpenAI</td>
          <td>GPT-4o</td>
          <td>5.00 $</td>
          <td>15.00 $</td>
          <td>~0.08 $</td>
          <td>Tres bon</td>
        </tr>
        <tr>
          <td>OpenAI</td>
          <td>GPT-4o-mini</td>
          <td>0.15 $</td>
          <td>0.60 $</td>
          <td>~0.008 $</td>
          <td>Moyen (fallback)</td>
        </tr>
        <tr>
          <td>Mistral</td>
          <td>Mistral Large</td>
          <td>2.00 $</td>
          <td>6.00 $</td>
          <td>~0.03 $</td>
          <td>Bon mais roleplay inferieur</td>
        </tr>
        <tr>
          <td>Google</td>
          <td>Gemini 1.5 Pro</td>
          <td>3.50 $</td>
          <td>10.50 $</td>
          <td>~0.05 $</td>
          <td>Bon (context 1M tokens)</td>
        </tr>
      </tbody>
    </table>
    <p><strong>Strategie retenue :</strong> Anthropic Claude Sonnet + Haiku (duale). Cout moyen par partie : ~0.04 USD
      (mix Sonnet narration + Haiku phases simples). Pour ~70 sessions de test reelles : ~36 EUR total IA.</p>


    <!-- ---- SECTION 11 ---- -->
    <h2 id="sec11" class="section-break">11. Analyse des risques</h2>

    <h3 id="sec11-1">11.1 Matrice des risques (Probabilite x Impact)</h3>

    <style>
      .risk-matrix {
        width: 100%;
        border-collapse: collapse;
        font-size: 0.8rem;
        margin: 1.5em 0;
      }

      .risk-matrix th,
      .risk-matrix td {
        border: 1px solid #ddd;
        padding: 8px 6px;
        text-align: center;
        vertical-align: middle;
      }

      .risk-matrix th {
        background: #f5f5f5;
        font-weight: 700;
        font-size: 0.75rem;
      }

      .risk-matrix .axis-label {
        background: #fff;
        font-weight: 700;
        font-size: 0.75rem;
        color: #555;
        writing-mode: horizontal-tb;
      }

      .risk-matrix .rm-critical {
        background: #fee2e2;
        color: #991b1b;
      }

      .risk-matrix .rm-high {
        background: #ffedd5;
        color: #9a3412;
      }

      .risk-matrix .rm-medium {
        background: #fef9c3;
        color: #854d0e;
      }

      .risk-matrix .rm-low {
        background: #dcfce7;
        color: #166534;
      }

      .risk-matrix .rm-cell {
        min-height: 48px;
        line-height: 1.5;
      }

      .risk-matrix .rm-id {
        display: inline-block;
        background: rgba(0, 0, 0, 0.08);
        border-radius: 3px;
        padding: 1px 5px;
        margin: 2px 1px;
        font-size: 0.7rem;
        font-weight: 600;
        white-space: nowrap;
      }

      .rm-legend {
        display: flex;
        gap: 16px;
        margin: 8px 0 16px;
        font-size: 0.75rem;
        flex-wrap: wrap;
      }

      .rm-legend-item {
        display: flex;
        align-items: center;
        gap: 5px;
      }

      .rm-legend-color {
        width: 14px;
        height: 14px;
        border-radius: 3px;
        border: 1px solid #ccc;
      }
    </style>

    <div class="rm-legend">
      <div class="rm-legend-item">
        <div class="rm-legend-color" style="background:#fee2e2;"></div> Critique (12-16)
      </div>
      <div class="rm-legend-item">
        <div class="rm-legend-color" style="background:#ffedd5;"></div> Eleve (8-9)
      </div>
      <div class="rm-legend-item">
        <div class="rm-legend-color" style="background:#fef9c3;"></div> Moyen (4-6)
      </div>
      <div class="rm-legend-item">
        <div class="rm-legend-color" style="background:#dcfce7;"></div> Faible (1-3)
      </div>
    </div>

    <table class="risk-matrix">
      <thead>
        <tr style="color: #1e293b;">
          <th style="width:100px;">Probabilite &#8595; / Impact &#8594;</th>
          <th style="width:22%;">1 — Negligeable</th>
          <th style="width:22%;">2 — Modere</th>
          <th style="width:22%;">3 — Majeur</th>
          <th style="width:22%;">4 — Critique</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td class="axis-label"><strong>4 — Tres probable</strong></td>
          <td class="rm-cell rm-medium">
            <span class="rm-id">H02</span>
          </td>
          <td class="rm-cell rm-high">
            <span class="rm-id">T05-Injection</span><br>
            <span class="rm-id">T06-Moteur</span>
          </td>
          <td class="rm-cell rm-critical">
            <span class="rm-id">O04-Scope creep</span><br>
            <span class="rm-id">H01-Burnout</span>
          </td>
          <td class="rm-cell rm-critical">
            <span class="rm-id">T02-Latence IA</span><br>
            <span class="rm-id">O02-Planning</span>
          </td>
        </tr>
        <tr>
          <td class="axis-label"><strong>3 — Probable</strong></td>
          <td class="rm-cell rm-low">
            <span class="rm-id">O03-Conflits</span>
          </td>
          <td class="rm-cell rm-medium">
            <span class="rm-id">F01-Budget API</span><br>
            <span class="rm-id">R01-RGPD</span>
          </td>
          <td class="rm-cell rm-high">
            <span class="rm-id">O01-Perte membre</span><br>
            <span class="rm-id">T03-Desync WS</span>
          </td>
          <td class="rm-cell rm-critical">
            <span class="rm-id">T01-Narration IA</span><br>
            <span class="rm-id">T04-API LLM</span><br>
            <span class="rm-id">R02-Contenu IA</span>
          </td>
        </tr>
        <tr>
          <td class="axis-label"><strong>2 — Possible</strong></td>
          <td class="rm-cell rm-low">
            <span class="rm-id">F02-Tarifs SaaS</span>
          </td>
          <td class="rm-cell rm-medium">
            <span class="rm-id">P01-Adoption</span>
          </td>
          <td class="rm-cell rm-medium">
            <span class="rm-id">P02-Nb joueurs</span>
          </td>
          <td class="rm-cell rm-high">&nbsp;</td>
        </tr>
        <tr>
          <td class="axis-label"><strong>1 — Peu probable</strong></td>
          <td class="rm-cell rm-low">
            <span class="rm-id">P03-Plagiat</span>
          </td>
          <td class="rm-cell rm-low">&nbsp;</td>
          <td class="rm-cell rm-medium">&nbsp;</td>
          <td class="rm-cell rm-medium">&nbsp;</td>
        </tr>
      </tbody>
    </table>

    <p style="font-size:0.8rem;color:#666;margin-top:4px;"><strong>19 risques identifies</strong> — Methodologie ISO
      31000. Criticite = Probabilite x Impact (echelle 1-4).</p>

    <h3 id="sec11-2">11.2 Top 5 des risques critiques</h3>

    <div class="risk-card critical">
      <h4 style="margin-top:0;">#1 — RSQ-O02 : Depassement du planning <span class="badge badge-critical">Criticite
          16</span></h4>
      <p><strong>Pourquoi :</strong> Marge de planning de seulement 5%. Le moindre retard met en danger la soutenance
        RNCP.</p>
      <p><strong>Mitigation :</strong> Burndown chart, priorisation MoSCoW stricte, buffer de 2 jours/sprint, timeboxing
        a +50%.</p>
    </div>

    <div class="risk-card critical">
      <h4 style="margin-top:0;">#2 — RSQ-T02 : Latence IA excessive <span class="badge badge-critical">Criticite
          16</span></h4>
      <p><strong>Pourquoi :</strong> Si l'IA met 5s a repondre, les joueurs ferment l'onglet.</p>
      <p><strong>Mitigation :</strong> Streaming SSE, cache Redis, pre-generation anticipee, fallback GPT-4o-mini.</p>
    </div>

    <div class="risk-card critical">
      <h4 style="margin-top:0;">#3 — RSQ-T01 : Qualite narration IA insuffisante <span
          class="badge badge-critical">Criticite 15</span></h4>
      <p><strong>Pourquoi :</strong> La narration IA est la proposition de valeur #1. Si elle n'est pas a la hauteur, le
        produit perd sa raison d'etre.</p>
      <p><strong>Mitigation :</strong> 5 j/h en prompt engineering, memoire de session, few-shot prompting, tests panel
        5+ joueurs.</p>
    </div>

    <div class="risk-card high">
      <h4 style="margin-top:0;">#4 — RSQ-T03 : Desynchronisation WebSocket <span class="badge badge-high">Criticite
          12</span></h4>
      <p><strong>Pourquoi :</strong> La synchro multi-joueurs est la base de l'experience.</p>
      <p><strong>Mitigation :</strong> Architecture server-authoritative, heartbeat 5s, version vector, tests 4+ clients
        simules.</p>
    </div>

    <div class="risk-card high">
      <h4 style="margin-top:0;">#5 — RSQ-O01 : Depart d'un membre <span class="badge badge-high">Criticite 12</span>
      </h4>
      <p><strong>Pourquoi :</strong> A 4, perdre quelqu'un est catastrophique (bus factor).</p>
      <p><strong>Mitigation :</strong> Bus factor > 1, pair programming 2h/sem, ADR + README par module, plan de
        redistribution pre-defini.</p>
    </div>

    <h3 id="sec11-3">11.3 Registre complet</h3>
    <table>
      <thead>
        <tr>
          <th>ID</th>
          <th>Risque</th>
          <th>Cat.</th>
          <th>P</th>
          <th>I</th>
          <th>Criticite</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>RSQ-T01</td>
          <td>Qualite narration IA</td>
          <td>TECH</td>
          <td>3</td>
          <td>5</td>
          <td><span class="badge badge-critical">15</span></td>
        </tr>
        <tr>
          <td>RSQ-T02</td>
          <td>Latence IA</td>
          <td>TECH</td>
          <td>4</td>
          <td>4</td>
          <td><span class="badge badge-critical">16</span></td>
        </tr>
        <tr>
          <td>RSQ-O02</td>
          <td>Depassement planning</td>
          <td>ORG</td>
          <td>4</td>
          <td>4</td>
          <td><span class="badge badge-critical">16</span></td>
        </tr>
        <tr>
          <td>RSQ-T03</td>
          <td>Desync WebSocket</td>
          <td>TECH</td>
          <td>3</td>
          <td>4</td>
          <td><span class="badge badge-high">12</span></td>
        </tr>
        <tr>
          <td>RSQ-T04</td>
          <td>Indisponibilite API LLM</td>
          <td>TECH</td>
          <td>3</td>
          <td>4</td>
          <td><span class="badge badge-high">12</span></td>
        </tr>
        <tr>
          <td>RSQ-T05</td>
          <td>Injection prompt / XSS</td>
          <td>TECH</td>
          <td>4</td>
          <td>3</td>
          <td><span class="badge badge-high">12</span></td>
        </tr>
        <tr>
          <td>RSQ-T06</td>
          <td>Complexite moteur</td>
          <td>TECH</td>
          <td>4</td>
          <td>3</td>
          <td><span class="badge badge-high">12</span></td>
        </tr>
        <tr>
          <td>RSQ-O01</td>
          <td>Depart d'un membre</td>
          <td>ORG</td>
          <td>3</td>
          <td>4</td>
          <td><span class="badge badge-high">12</span></td>
        </tr>
        <tr>
          <td>RSQ-O04</td>
          <td>Scope creep</td>
          <td>ORG</td>
          <td>4</td>
          <td>3</td>
          <td><span class="badge badge-high">12</span></td>
        </tr>
        <tr>
          <td>RSQ-R02</td>
          <td>Contenu inapproprie IA</td>
          <td>REG</td>
          <td>3</td>
          <td>4</td>
          <td><span class="badge badge-high">12</span></td>
        </tr>
        <tr>
          <td>RSQ-H01</td>
          <td>Burnout equipe</td>
          <td>HUM</td>
          <td>4</td>
          <td>3</td>
          <td><span class="badge badge-high">12</span></td>
        </tr>
        <tr>
          <td>RSQ-O03</td>
          <td>Conflits d'equipe</td>
          <td>ORG</td>
          <td>3</td>
          <td>3</td>
          <td><span class="badge badge-medium">9</span></td>
        </tr>
        <tr>
          <td>RSQ-F01</td>
          <td>Depassement budget API</td>
          <td>FIN</td>
          <td>3</td>
          <td>3</td>
          <td><span class="badge badge-medium">9</span></td>
        </tr>
        <tr>
          <td>RSQ-R01</td>
          <td>Non-conformite RGPD</td>
          <td>REG</td>
          <td>3</td>
          <td>3</td>
          <td><span class="badge badge-medium">9</span></td>
        </tr>
        <tr>
          <td>RSQ-H02</td>
          <td>Montee competences lente</td>
          <td>HUM</td>
          <td>3</td>
          <td>3</td>
          <td><span class="badge badge-medium">9</span></td>
        </tr>
        <tr>
          <td>RSQ-P01</td>
          <td>Faible adoption</td>
          <td>PROD</td>
          <td>3</td>
          <td>3</td>
          <td><span class="badge badge-medium">9</span></td>
        </tr>
        <tr>
          <td>RSQ-P02</td>
          <td>Experience inegale nb joueurs</td>
          <td>PROD</td>
          <td>4</td>
          <td>2</td>
          <td><span class="badge badge-medium">8</span></td>
        </tr>
        <tr>
          <td>RSQ-F02</td>
          <td>Changement tarifs SaaS</td>
          <td>FIN</td>
          <td>2</td>
          <td>3</td>
          <td><span class="badge badge-medium">6</span></td>
        </tr>
        <tr>
          <td>RSQ-P03</td>
          <td>Plagiat / similarite</td>
          <td>PROD</td>
          <td>2</td>
          <td>3</td>
          <td><span class="badge badge-medium">6</span></td>
        </tr>
      </tbody>
    </table>


    <h3 id="sec11-4">11.4 Plan de gestion de crise</h3>
    <table>
      <thead>
        <tr>
          <th>Niveau</th>
          <th>Declencheur</th>
          <th>Responsable</th>
          <th>Actions</th>
          <th>Communication</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><span class="badge badge-medium">N1</span></td>
          <td>Risque avec criticite 4-6 se materialise</td>
          <td>Developpeur concerne</td>
          <td>Appliquer le plan de mitigation prevu. Informer le SM.</td>
          <td>Daily standup + message Discord</td>
        </tr>
        <tr>
          <td><span class="badge badge-high">N2</span></td>
          <td>Risque avec criticite 8-12 se materialise</td>
          <td>Scrum Master + PO</td>
          <td>Reunion d'urgence (15 min). Appliquer le plan de contingence. Reporter des stories si necessaire.</td>
          <td>Message Discord + notification encadrant</td>
        </tr>
        <tr>
          <td><span class="badge badge-critical">N3</span></td>
          <td>Risque critique (12-16) se materialise OU 2+ risques N2 simultanes</td>
          <td>PO + toute l'equipe</td>
          <td>Reunion de crise immediate. Re-evaluation du perimetre MVP. Activation du sprint Buffer en avance si
            necessaire. Escalade encadrant.</td>
          <td>COPIL extraordinaire + rapport ecrit</td>
        </tr>
      </tbody>
    </table>

    <h3 id="sec11-5">11.5 Details des risques critiques (mitigations et contingences)</h3>

    <div class="risk-card critical">
      <h4 style="margin-top:0;">RSQ-T01 — Qualite narration IA insuffisante <span class="badge badge-critical">15</span>
      </h4>
      <p><strong>Description :</strong> L'IA genere des narrations repetitives, incoherentes ou hors-sujet, degradant
        l'experience de jeu.</p>
      <p><strong>Indicateurs declencheurs :</strong> Score satisfaction narrative &lt; 3/5 sur panel test, &gt; 20% des
        narrations jugees "incoherentes".</p>
      <p><strong>Plan de mitigation :</strong> 5 j/h dedies au prompt engineering. Few-shot prompting avec exemples de
        narrations de qualite. Memoire de session (historique condense). Tests iteratifs avec panel 5+ joueurs.</p>
      <p><strong>Plan de contingence :</strong> Prompt specifique de secours pre-redige. Ajout de templates narratifs
        pre-ecrits en fallback. Si persistant : exploration GPT-4o comme alternative.</p>
    </div>

    <div class="risk-card critical">
      <h4 style="margin-top:0;">RSQ-T02 — Latence IA excessive <span class="badge badge-critical">16</span></h4>
      <p><strong>Description :</strong> Temps de reponse IA &gt; 5s, les joueurs se deconnectent par ennui.</p>
      <p><strong>Indicateurs declencheurs :</strong> P95 temps de reponse IA &gt; 5s pendant &gt; 2h.</p>
      <p><strong>Plan de mitigation :</strong> Streaming SSE pour affichage progressif. Cache Redis des contextes
        recurrents. Pre-generation anticipee de la narration (pendant la phase Discussion). Strategie duale
        Sonnet/Haiku.</p>
      <p><strong>Plan de contingence :</strong> Basculer 100% Haiku (plus rapide, moins cher). Reduire max_tokens de 512
        a 256. Fallback vers GPT-4o-mini si Anthropic down. Animation "le MJ reflechit..." pour masquer la latence.</p>
    </div>

    <div class="risk-card critical">
      <h4 style="margin-top:0;">RSQ-O02 — Depassement du planning <span class="badge badge-critical">16</span></h4>
      <p><strong>Description :</strong> Retard sur un ou plusieurs sprints, mettant en danger la livraison a la date de
        soutenance RNCP.</p>
      <p><strong>Indicateurs declencheurs :</strong> Velocite realisee &lt; 70% de la velocite planifiee pendant 2
        sprints consecutifs. Burndown chart avec ecart &gt; 20%.</p>
      <p><strong>Plan de mitigation :</strong> Burndown chart mis a jour quotidiennement. Priorisation MoSCoW stricte
        (MUST Have uniquement si retard). Buffer de 2 jours integre par sprint. Timeboxing des taches a +50% de
        l'estimation.</p>
      <p><strong>Plan de contingence :</strong> Sprint Buffer de 2 semaines en fin de projet. Reduction du MVP : 1 seul
        scenario (TRIBUNAL) au lieu de 2. Report des "Should Have" en V2. Mobilisation heures supplementaires (max 1
        semaine).</p>
    </div>

    <h3 id="sec11-6">11.6 Calendrier de revue des risques</h3>
    <table>
      <thead>
        <tr>
          <th>Semaine</th>
          <th>Sprint</th>
          <th>Revue des risques</th>
          <th>Focus</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Sem 2</td>
          <td>Sprint 0</td>
          <td>Revue initiale complète</td>
          <td>Identification et priorisation des 19 risques</td>
        </tr>
        <tr>
          <td>Sem 4</td>
          <td>Sprint 1</td>
          <td>Revue post-POC</td>
          <td>Risques techniques IA (T01, T02) re-evalues apres POC</td>
        </tr>
        <tr>
          <td>Sem 6</td>
          <td>Sprint 2</td>
          <td>Revue mi-parcours</td>
          <td>Risques Game Engine (T06), planning (O02)</td>
        </tr>
        <tr>
          <td>Sem 8</td>
          <td>Sprint 3</td>
          <td>Revue WebSocket</td>
          <td>Risques desync (T03), scalabilite</td>
        </tr>
        <tr>
          <td>Sem 10</td>
          <td>Sprint 4</td>
          <td>Revue pre-production</td>
          <td>Risques de deploiement, performance, budget</td>
        </tr>
        <tr>
          <td>Sem 12</td>
          <td>Sprint 5</td>
          <td>Revue finale</td>
          <td>Tous risques, preparation soutenance</td>
        </tr>
        <tr>
          <td>Sem 14</td>
          <td>Buffer</td>
          <td>Cloture risques</td>
          <td>Bilan final, lecons apprises</td>
        </tr>
      </tbody>
    </table>


    <!-- ---- SECTION 12 ---- -->
    <h2 id="sec12" class="section-break">12. Backlog detaille (47 tickets)</h2>

    <h3 id="sec12-sprint0">Sprint 0 — Cadrage & Setup (23 SP, 7 tickets)</h3>
    <table>
      <thead>
        <tr>
          <th>ID</th>
          <th>Titre</th>
          <th>SP</th>
          <th>Assigne</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>S0-01</td>
          <td>Rediger le cahier des charges v1</td>
          <td>8</td>
          <td>Toute l'equipe</td>
        </tr>
        <tr>
          <td>S0-02</td>
          <td>Initialiser le repository GitHub</td>
          <td>2</td>
          <td>Samy</td>
        </tr>
        <tr>
          <td>S0-03</td>
          <td>Configurer le projet Next.js</td>
          <td>2</td>
          <td>Samy + Youri</td>
        </tr>
        <tr>
          <td>S0-04</td>
          <td>Configurer le projet NestJS</td>
          <td>2</td>
          <td>Samy</td>
        </tr>
        <tr>
          <td>S0-05</td>
          <td>Configurer CI/CD GitHub Actions</td>
          <td>3</td>
          <td>Yassir</td>
        </tr>
        <tr>
          <td>S0-06</td>
          <td>Creer les maquettes UI/UX (Figma)</td>
          <td>5</td>
          <td>Yassir</td>
        </tr>
        <tr>
          <td>S0-07</td>
          <td>Configurer GitHub Projects (Kanban)</td>
          <td>1</td>
          <td>Samy</td>
        </tr>
      </tbody>
    </table>

    <h3 id="sec12-sprint1">Sprint 1 — Fondations + POC IA (29 SP, 7 tickets)</h3>
    <table>
      <thead>
        <tr>
          <th>ID</th>
          <th>Titre</th>
          <th>SP</th>
          <th>Assigne</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>S1-01</td>
          <td>Modele de donnees Prisma</td>
          <td>5</td>
          <td>Samy</td>
        </tr>
        <tr>
          <td>S1-02</td>
          <td>Authentification (Register + Login)</td>
          <td>5</td>
          <td>Samy</td>
        </tr>
        <tr>
          <td>S1-03</td>
          <td>Pages Auth frontend</td>
          <td>3</td>
          <td>Samy + Youri</td>
        </tr>
        <tr>
          <td>S1-04</td>
          <td>API CRUD Scenarios</td>
          <td>3</td>
          <td>Samy</td>
        </tr>
        <tr>
          <td>S1-05</td>
          <td>POC AI Service (API Anthropic)</td>
          <td>5</td>
          <td>Samy</td>
        </tr>
        <tr>
          <td>S1-06</td>
          <td>Page de test IA (frontend)</td>
          <td>3</td>
          <td>Youri + Samy</td>
        </tr>
        <tr>
          <td>S1-07</td>
          <td>Scenario Packs TRIBUNAL + DEEP (JSON)</td>
          <td>5</td>
          <td>Kays + Samy</td>
        </tr>
      </tbody>
    </table>

    <h3 id="sec12-sprint2">Sprint 2 — Game Engine Core (37 SP, 7 tickets)</h3>
    <table>
      <thead>
        <tr>
          <th>ID</th>
          <th>Titre</th>
          <th>SP</th>
          <th>Assigne</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>S2-01</td>
          <td>Scenario Pack Loader</td>
          <td>3</td>
          <td>Samy</td>
        </tr>
        <tr>
          <td>S2-02</td>
          <td>Game State Manager</td>
          <td>5</td>
          <td>Samy</td>
        </tr>
        <tr>
          <td>S2-03</td>
          <td>Role Manager</td>
          <td>3</td>
          <td>Samy</td>
        </tr>
        <tr>
          <td>S2-04</td>
          <td>Choice Engine</td>
          <td>5</td>
          <td>Samy</td>
        </tr>
        <tr>
          <td>S2-05</td>
          <td>Resource Manager</td>
          <td>3</td>
          <td>Samy</td>
        </tr>
        <tr>
          <td>S2-06</td>
          <td>Game Loop Manager</td>
          <td style="color:#dc2626; font-weight:700;">13</td>
          <td>Samy + Kays</td>
        </tr>
        <tr>
          <td>S2-07</td>
          <td>Tests d'integration Game Engine</td>
          <td>5</td>
          <td>Samy</td>
        </tr>
      </tbody>
    </table>

    <h3 id="sec12-sprint3">Sprint 3 — Multijoueur + TRIBUNAL (37 SP, 7 tickets)</h3>
    <table>
      <thead>
        <tr>
          <th>ID</th>
          <th>Titre</th>
          <th>SP</th>
          <th>Assigne</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>S3-01</td>
          <td>WebSocket Gateway (NestJS + Socket.io)</td>
          <td>5</td>
          <td>Samy</td>
        </tr>
        <tr>
          <td>S3-02</td>
          <td>Session Manager (creation + lobby)</td>
          <td>5</td>
          <td>Samy</td>
        </tr>
        <tr>
          <td>S3-03</td>
          <td>Connecter Game Loop au WebSocket</td>
          <td>8</td>
          <td>Samy + Kays</td>
        </tr>
        <tr>
          <td>S3-04</td>
          <td>Page catalogue scenarios</td>
          <td>3</td>
          <td>Samy + Youri</td>
        </tr>
        <tr>
          <td>S3-05</td>
          <td>Page lobby</td>
          <td>5</td>
          <td>Samy + Youri</td>
        </tr>
        <tr>
          <td>S3-06</td>
          <td>Game UI (narration + choix + discussion)</td>
          <td>8</td>
          <td>Youri</td>
        </tr>
        <tr>
          <td>S3-07</td>
          <td>Test E2E — Partie TRIBUNAL</td>
          <td>3</td>
          <td>Toute l'equipe</td>
        </tr>
      </tbody>
    </table>

    <h3 id="sec12-sprint4">Sprint 4 — DEEP + UI complete (29 SP, 7 tickets)</h3>
    <table>
      <thead>
        <tr>
          <th>ID</th>
          <th>Titre</th>
          <th>SP</th>
          <th>Assigne</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>S4-01</td>
          <td>Composant jauges de ressources</td>
          <td>3</td>
          <td>Samy + Youri</td>
        </tr>
        <tr>
          <td>S4-02</td>
          <td>Ecran de fin de partie</td>
          <td>5</td>
          <td>Youri</td>
        </tr>
        <tr>
          <td>S4-03</td>
          <td>Streaming IA (reponse progressive)</td>
          <td>5</td>
          <td>Samy</td>
        </tr>
        <tr>
          <td>S4-04</td>
          <td>Test E2E — Partie DEEP</td>
          <td>3</td>
          <td>Toute l'equipe</td>
        </tr>
        <tr>
          <td>S4-05</td>
          <td>Historique narratif (timeline)</td>
          <td>3</td>
          <td>Youri</td>
        </tr>
        <tr>
          <td>S4-06</td>
          <td>Polish UI Game — Responsive + Animations</td>
          <td>5</td>
          <td>Youri + Yassir</td>
        </tr>
        <tr>
          <td>S4-07</td>
          <td>Gestion de la reconnexion joueur</td>
          <td>5</td>
          <td>Samy</td>
        </tr>
      </tbody>
    </table>

    <h3 id="sec12-sprint5">Sprint 5 — Admin + Deploy (26 SP, 7 tickets)</h3>
    <table>
      <thead>
        <tr>
          <th>ID</th>
          <th>Titre</th>
          <th>SP</th>
          <th>Assigne</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>S5-01</td>
          <td>API Admin (stats + gestion)</td>
          <td>5</td>
          <td>Samy</td>
        </tr>
        <tr>
          <td>S5-02</td>
          <td>Panel d'administration frontend</td>
          <td>5</td>
          <td>Samy + Youri</td>
        </tr>
        <tr>
          <td>S5-03</td>
          <td>Audit et corrections d'accessibilite</td>
          <td>5</td>
          <td>Yassir + Youri</td>
        </tr>
        <tr>
          <td>S5-04</td>
          <td>Deploiement production</td>
          <td>3</td>
          <td>Yassir</td>
        </tr>
        <tr>
          <td>S5-05</td>
          <td>Monitoring et health check</td>
          <td>2</td>
          <td>Yassir</td>
        </tr>
        <tr>
          <td>S5-06</td>
          <td>Tests finaux (couverture cible)</td>
          <td>5</td>
          <td>Toute l'equipe</td>
        </tr>
        <tr>
          <td>S5-07</td>
          <td>Mesurer l'eco-index</td>
          <td>1</td>
          <td>Yassir</td>
        </tr>
      </tbody>
    </table>

    <h3>Buffer — Finalisation (15 SP, 5 tickets)</h3>
    <table>
      <thead>
        <tr>
          <th>ID</th>
          <th>Titre</th>
          <th>SP</th>
          <th>Assigne</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>SB-01</td>
          <td>Corriger les bugs restants</td>
          <td>5</td>
          <td>Toute l'equipe</td>
        </tr>
        <tr>
          <td>SB-02</td>
          <td>Documentation technique finale</td>
          <td>3</td>
          <td>Toute l'equipe</td>
        </tr>
        <tr>
          <td>SB-03</td>
          <td>Annexe retour d'experience</td>
          <td>2</td>
          <td>Individuel</td>
        </tr>
        <tr>
          <td>SB-04</td>
          <td>Video de demonstration</td>
          <td>2</td>
          <td>Yassir + Kays</td>
        </tr>
        <tr>
          <td>SB-05</td>
          <td>Preparer la soutenance</td>
          <td>3</td>
          <td>Toute l'equipe</td>
        </tr>
      </tbody>
    </table>


    <!-- ---- SECTION 13 ---- -->
    <h2 id="sec13" class="section-break">13. KPIs et metriques de suivi</h2>

    <h3 id="sec13-1">13.1 Methodologie</h3>
    <p>Les KPIs suivent l'approche <strong>SMART</strong> (Specifique, Mesurable, Atteignable, Relevant, Temporel).
      Chaque KPI est associe a un systeme de zones couleur :</p>
    <table>
      <thead>
        <tr>
          <th>Zone</th>
          <th>Signification</th>
          <th>Action requise</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><span class="badge" style="background:#22c55e;">VERT</span></td>
          <td>Sur la cible</td>
          <td>Continuer normalement</td>
        </tr>
        <tr>
          <td><span class="badge" style="background:#f59e0b;">JAUNE</span></td>
          <td>Alerte — deviation moderee</td>
          <td>Action corrective sous 48h</td>
        </tr>
        <tr>
          <td><span class="badge" style="background:#ef4444;">ROUGE</span></td>
          <td>Critique — deviation majeure</td>
          <td>Action corrective sous 24h</td>
        </tr>
      </tbody>
    </table>
    <p style="margin-top:8px;"><strong>Gouvernance :</strong> Sprint Reviews pour KPIs projet, mesure continue pour KPIs
      produit, audits mi-parcours et fin de projet pour KPIs conformite.</p>

    <h3 id="sec13-2">13.2 KPIs Projet (PRJ-001 a PRJ-009)</h3>
    <table>
      <thead>
        <tr>
          <th>ID</th>
          <th>KPI</th>
          <th>Unite</th>
          <th style="color:#22c55e;">Vert</th>
          <th style="color:#f59e0b;">Jaune</th>
          <th style="color:#ef4444;">Rouge</th>
          <th>Source</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>PRJ-001</td>
          <td>Velocite equipe</td>
          <td>SP/sprint</td>
          <td>≥ 28 SP</td>
          <td>22-27 SP</td>
          <td>&lt; 22 SP</td>
          <td>GitHub Projects</td>
        </tr>
        <tr>
          <td>PRJ-002</td>
          <td>Burndown / Burnup</td>
          <td>% ecart</td>
          <td>≤ 10%</td>
          <td>10-25%</td>
          <td>&gt; 25%</td>
          <td>Burndown chart</td>
        </tr>
        <tr>
          <td>PRJ-003</td>
          <td>Taux completion sprint</td>
          <td>%</td>
          <td>≥ 85%</td>
          <td>70-84%</td>
          <td>&lt; 70%</td>
          <td>Sprint Review</td>
        </tr>
        <tr>
          <td>PRJ-004</td>
          <td>Taux de bugs</td>
          <td>%</td>
          <td>≤ 15% + 0 critique</td>
          <td>15-25% ou 1 critique &gt;48h</td>
          <td>&gt; 25% ou ≥2 critiques</td>
          <td>GitHub Issues</td>
        </tr>
        <tr>
          <td>PRJ-005</td>
          <td>Lead Time</td>
          <td>Jours ouvres</td>
          <td>≤ 10j</td>
          <td>10-15j</td>
          <td>&gt; 15j</td>
          <td>GitHub Projects</td>
        </tr>
        <tr>
          <td>PRJ-006</td>
          <td>Cycle Time</td>
          <td>Jours ouvres</td>
          <td>≤ 3j</td>
          <td>3-5j</td>
          <td>&gt; 5j</td>
          <td>GitHub Projects</td>
        </tr>
        <tr>
          <td>PRJ-007</td>
          <td>Code Review Turnaround</td>
          <td>Heures ouvrees</td>
          <td>≤ 4h</td>
          <td>4-8h</td>
          <td>&gt; 8h</td>
          <td>GitHub PRs</td>
        </tr>
        <tr>
          <td>PRJ-008</td>
          <td>SPI (Schedule Perf. Index)</td>
          <td>Ratio</td>
          <td>≥ 0.90</td>
          <td>0.75-0.89</td>
          <td>&lt; 0.75</td>
          <td>Calcul EV/PV</td>
        </tr>
        <tr>
          <td>PRJ-009</td>
          <td>CPI (Cost Perf. Index)</td>
          <td>Ratio</td>
          <td>≥ 0.90</td>
          <td>0.75-0.89</td>
          <td>&lt; 0.75</td>
          <td>Suivi budget</td>
        </tr>
      </tbody>
    </table>

    <h4>Projection de velocite par sprint</h4>
    <table>
      <thead>
        <tr>
          <th>Sprint</th>
          <th>SP planifies</th>
          <th>SP cumules</th>
          <th>Objectif completion</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Sprint 1</td>
          <td>22</td>
          <td>22</td>
          <td>85%</td>
        </tr>
        <tr>
          <td>Sprint 2</td>
          <td>26</td>
          <td>48</td>
          <td>85%</td>
        </tr>
        <tr>
          <td>Sprint 3</td>
          <td>30</td>
          <td>78</td>
          <td>90%</td>
        </tr>
        <tr>
          <td>Sprint 4</td>
          <td>31</td>
          <td>109</td>
          <td>90%</td>
        </tr>
        <tr>
          <td>Sprint 5</td>
          <td>31</td>
          <td>140</td>
          <td>90%</td>
        </tr>
        <tr>
          <td>Sprint 6</td>
          <td>28</td>
          <td>168</td>
          <td>95%</td>
        </tr>
        <tr>
          <td>Sprint 7 (Buffer)</td>
          <td>28</td>
          <td>196</td>
          <td>95%</td>
        </tr>
      </tbody>
    </table>

    <h4>Classification des bugs par severite</h4>
    <table>
      <thead>
        <tr>
          <th>Severite</th>
          <th>Delai resolution</th>
          <th>Exemples MYTHOS</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><span class="badge" style="background:#ef4444;">Critique</span></td>
          <td>24h</td>
          <td>Application inaccessible, perte de donnees, faille securite</td>
        </tr>
        <tr>
          <td><span class="badge" style="background:#f59e0b;">Majeur</span></td>
          <td>48h</td>
          <td>IA incoherente 50%+ du temps, streaming casse, deconnexion permanente</td>
        </tr>
        <tr>
          <td><span class="badge" style="background:#3b82f6;">Mineur</span></td>
          <td>Fin de sprint</td>
          <td>Erreur CSS, timer affichage incorrect, message d'erreur mal formate</td>
        </tr>
      </tbody>
    </table>

    <h3 id="sec13-3">13.3 KPIs Produit (PROD-001 a PROD-008)</h3>
    <table>
      <thead>
        <tr>
          <th>ID</th>
          <th>KPI</th>
          <th style="color:#22c55e;">Vert</th>
          <th style="color:#f59e0b;">Jaune</th>
          <th style="color:#ef4444;">Rouge</th>
          <th>Source</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>PROD-001</td>
          <td>Temps reponse IA</td>
          <td>P50≤2s, P95≤5s, P99≤8s</td>
          <td>P50 2-3.5s, P95 5-8s</td>
          <td>P50&gt;3.5s, P95&gt;8s</td>
          <td>Logs backend</td>
        </tr>
        <tr>
          <td>PROD-002</td>
          <td>Latence WebSocket</td>
          <td>P50≤100ms, P95≤250ms</td>
          <td>P50 100-200ms</td>
          <td>P50&gt;200ms ou deconnexions&gt;5%</td>
          <td>Socket.io metrics</td>
        </tr>
        <tr>
          <td>PROD-003</td>
          <td>Core Web Vitals</td>
          <td>LCP≤2.5s, INP≤200ms, CLS≤0.1</td>
          <td>LCP 2.5-4s</td>
          <td>LCP&gt;4s, INP&gt;500ms</td>
          <td>Lighthouse</td>
        </tr>
        <tr>
          <td>PROD-004</td>
          <td>Uptime production</td>
          <td>≥ 99.0%</td>
          <td>97-98.9%</td>
          <td>&lt; 97%</td>
          <td>UptimeRobot</td>
        </tr>
        <tr>
          <td>PROD-005</td>
          <td>Taux completion partie</td>
          <td>≥ 80%</td>
          <td>65-79%</td>
          <td>&lt; 65%</td>
          <td>Analytics backend</td>
        </tr>
        <tr>
          <td>PROD-006</td>
          <td>Taux erreur IA</td>
          <td>≤ 5%</td>
          <td>5-10%</td>
          <td>&gt; 10%</td>
          <td>Logs AI service</td>
        </tr>
        <tr>
          <td>PROD-007</td>
          <td>Couverture tests</td>
          <td>BE≥70%, FE≥60%</td>
          <td>BE 50-69%, FE 40-59%</td>
          <td>BE&lt;50%, FE&lt;40%</td>
          <td>Jest + CI/CD</td>
        </tr>
        <tr>
          <td>PROD-008</td>
          <td>Dette technique</td>
          <td>≤5 issues, ratio≤15%</td>
          <td>6-10 issues</td>
          <td>&gt;10 issues ou ratio&gt;25%</td>
          <td>SonarQube / manuel</td>
        </tr>
      </tbody>
    </table>

    <h4>Categorisation des erreurs IA</h4>
    <table>
      <thead>
        <tr>
          <th>Type erreur</th>
          <th>Description</th>
          <th>Politique de retry</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Timeout</td>
          <td>Reponse IA depassant le delai</td>
          <td>Retry 1x avec prompt reduit</td>
        </tr>
        <tr>
          <td>Rate Limit</td>
          <td>Quota API atteint</td>
          <td>Backoff exponentiel (1s, 2s, 4s)</td>
        </tr>
        <tr>
          <td>Server Error (5xx)</td>
          <td>Erreur serveur Anthropic</td>
          <td>Retry 2x, puis fallback Haiku</td>
        </tr>
        <tr>
          <td>Parse Error</td>
          <td>Reponse IA non parsable</td>
          <td>Retry 1x avec instruction stricte</td>
        </tr>
        <tr>
          <td>Context Error</td>
          <td>Depassement context window</td>
          <td>Resume de l'historique puis retry</td>
        </tr>
        <tr>
          <td>Empty Response</td>
          <td>Reponse vide</td>
          <td>Retry 1x avec temperature differente</td>
        </tr>
      </tbody>
    </table>

    <h4>Couverture tests par module</h4>
    <table>
      <thead>
        <tr>
          <th>Module</th>
          <th>Cible</th>
          <th>Priorite</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Auth (JWT, middleware)</td>
          <td>≥ 80%</td>
          <td>Critique</td>
        </tr>
        <tr>
          <td>AI Service</td>
          <td>≥ 75%</td>
          <td>Critique</td>
        </tr>
        <tr>
          <td>WebSocket Gateway</td>
          <td>≥ 65%</td>
          <td>Haute</td>
        </tr>
        <tr>
          <td>REST API Controllers</td>
          <td>≥ 70%</td>
          <td>Haute</td>
        </tr>
        <tr>
          <td>UI Components</td>
          <td>≥ 60%</td>
          <td>Moyenne</td>
        </tr>
        <tr>
          <td>Pages / Views</td>
          <td>≥ 50%</td>
          <td>Moyenne</td>
        </tr>
      </tbody>
    </table>

    <h4>Monitoring UptimeRobot</h4>
    <table>
      <thead>
        <tr>
          <th>Monitor</th>
          <th>Type</th>
          <th>Frequence</th>
          <th>Alerte</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Frontend HTTPS</td>
          <td>HTTP(S)</td>
          <td>5 min</td>
          <td>Discord + Email</td>
        </tr>
        <tr>
          <td>API Backend</td>
          <td>HTTP(S)</td>
          <td>5 min</td>
          <td>Discord + Email</td>
        </tr>
        <tr>
          <td>WebSocket</td>
          <td>Port</td>
          <td>5 min</td>
          <td>Discord</td>
        </tr>
        <tr>
          <td>PostgreSQL</td>
          <td>Keyword</td>
          <td>10 min</td>
          <td>Discord + Email</td>
        </tr>
      </tbody>
    </table>

    <h3 id="sec13-4">13.4 KPIs Conformite (CONF-001 a CONF-006)</h3>
    <table>
      <thead>
        <tr>
          <th>ID</th>
          <th>KPI</th>
          <th style="color:#22c55e;">Vert</th>
          <th style="color:#f59e0b;">Jaune</th>
          <th style="color:#ef4444;">Rouge</th>
          <th>Source</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>CONF-001</td>
          <td>Lighthouse Accessibility</td>
          <td>≥ 90/100</td>
          <td>75-89</td>
          <td>&lt; 75</td>
          <td>Lighthouse CI</td>
        </tr>
        <tr>
          <td>CONF-002</td>
          <td>WAVE Errors</td>
          <td>0 erreurs</td>
          <td>1-3 erreurs</td>
          <td>&gt; 3 erreurs</td>
          <td>WAVE extension</td>
        </tr>
        <tr>
          <td>CONF-003</td>
          <td>Eco-index</td>
          <td>Grade A-B (≥56/100)</td>
          <td>Grade C (36-55)</td>
          <td>Grade D ou pire (&lt;36)</td>
          <td>GreenIT Analysis</td>
        </tr>
        <tr>
          <td>CONF-004</td>
          <td>Poids de page</td>
          <td>≤ 500 Ko</td>
          <td>500 Ko - 1 Mo</td>
          <td>&gt; 1 Mo</td>
          <td>DevTools Network</td>
        </tr>
        <tr>
          <td>CONF-005</td>
          <td>Conformite RGPD</td>
          <td>100%</td>
          <td>80-99%</td>
          <td>&lt; 80%</td>
          <td>Audit interne</td>
        </tr>
        <tr>
          <td>CONF-006</td>
          <td>Conformite ANSSI</td>
          <td>≥ 90%</td>
          <td>75-89%</td>
          <td>&lt; 75%</td>
          <td>Checklist ANSSI</td>
        </tr>
      </tbody>
    </table>

    <h4>Budget de performance par type de ressource</h4>
    <table>
      <thead>
        <tr>
          <th>Type ressource</th>
          <th>Budget max</th>
          <th>Part du total</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>HTML</td>
          <td>50 Ko</td>
          <td>10%</td>
        </tr>
        <tr>
          <td>CSS</td>
          <td>50 Ko</td>
          <td>10%</td>
        </tr>
        <tr>
          <td>JavaScript</td>
          <td>200 Ko</td>
          <td>40%</td>
        </tr>
        <tr>
          <td>Images</td>
          <td>150 Ko</td>
          <td>30%</td>
        </tr>
        <tr>
          <td>Fonts</td>
          <td>50 Ko</td>
          <td>10%</td>
        </tr>
        <tr>
          <td><strong>TOTAL</strong></td>
          <td><strong>500 Ko</strong></td>
          <td><strong>100%</strong></td>
        </tr>
      </tbody>
    </table>

    <h3 id="sec13-5">13.5 Matrice RACI des KPIs</h3>
    <table>
      <thead>
        <tr>
          <th>KPI</th>
          <th>Kays (PO)</th>
          <th>Samy (SM)</th>
          <th>Youri (FE)</th>
          <th>Yassir (DevOps)</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>PRJ-001 Velocite</td>
          <td>A</td>
          <td>R</td>
          <td>C</td>
          <td>C</td>
        </tr>
        <tr>
          <td>PRJ-002 Burndown</td>
          <td>A</td>
          <td>R</td>
          <td>I</td>
          <td>I</td>
        </tr>
        <tr>
          <td>PRJ-004 Bug Rate</td>
          <td>A</td>
          <td>R</td>
          <td>C</td>
          <td>C</td>
        </tr>
        <tr>
          <td>PRJ-008 SPI</td>
          <td>A</td>
          <td>R</td>
          <td>I</td>
          <td>I</td>
        </tr>
        <tr>
          <td>PRJ-009 CPI</td>
          <td>R</td>
          <td>A</td>
          <td>I</td>
          <td>I</td>
        </tr>
        <tr>
          <td>PROD-001 Temps IA</td>
          <td>I</td>
          <td>R</td>
          <td>I</td>
          <td>A</td>
        </tr>
        <tr>
          <td>PROD-003 Web Vitals</td>
          <td>I</td>
          <td>C</td>
          <td>R</td>
          <td>A</td>
        </tr>
        <tr>
          <td>PROD-004 Uptime</td>
          <td>I</td>
          <td>C</td>
          <td>I</td>
          <td>R</td>
        </tr>
        <tr>
          <td>PROD-007 Tests</td>
          <td>A</td>
          <td>R</td>
          <td>R</td>
          <td>C</td>
        </tr>
        <tr>
          <td>CONF-001 Lighthouse</td>
          <td>I</td>
          <td>C</td>
          <td>R</td>
          <td>A</td>
        </tr>
        <tr>
          <td>CONF-003 Eco-index</td>
          <td>I</td>
          <td>C</td>
          <td>R</td>
          <td>A</td>
        </tr>
        <tr>
          <td>CONF-005 RGPD</td>
          <td>R</td>
          <td>A</td>
          <td>C</td>
          <td>C</td>
        </tr>
      </tbody>
    </table>
    <p style="font-size:0.85em; margin-top:4px;"><strong>R</strong> = Responsible, <strong>A</strong> = Accountable,
      <strong>C</strong> = Consulted, <strong>I</strong> = Informed</p>

    <h3 id="sec13-6">13.6 Calendrier de mesure</h3>
    <table>
      <thead>
        <tr>
          <th>Sprint</th>
          <th>KPIs mesures</th>
          <th>Remarque</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Sprint 1</td>
          <td>PRJ (calibration), PROD-007</td>
          <td>Sprint de calibration — les seuils sont indicatifs</td>
        </tr>
        <tr>
          <td>Sprint 2-3</td>
          <td>PRJ complets, PROD complets</td>
          <td>Mesure reguliere, ajustement des seuils si necessaire</td>
        </tr>
        <tr>
          <td>Sprint 4</td>
          <td>PRJ + PROD + CONF (audit mi-parcours)</td>
          <td>Audit ANSSI + RGPD mi-parcours</td>
        </tr>
        <tr>
          <td>Sprint 5-6</td>
          <td>PRJ + PROD + CONF</td>
          <td>Tous les KPIs actifs</td>
        </tr>
        <tr>
          <td>Sprint 7 (Buffer)</td>
          <td>PRJ + PROD + CONF (audit final)</td>
          <td>Audit final complet avant soutenance</td>
        </tr>
      </tbody>
    </table>


    <!-- ---- SECTION 14 ---- -->
    <h2 id="sec14" class="section-break">14. Conformite et standards</h2>

    <h3 id="sec14-1">14.1 Conformite reglementaire</h3>
    <table>
      <thead>
        <tr>
          <th>Norme</th>
          <th>Statut</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>RGPD</strong></td>
          <td>A implementer</td>
          <td>Minimisation donnees, consentement explicite, droit de suppression, politique de confidentialite</td>
        </tr>
        <tr>
          <td><strong>AI Act (UE)</strong></td>
          <td>Surveillance</td>
          <td>Jeu narratif = faible risque reglementaire, monitoring a maintenir</td>
        </tr>
        <tr>
          <td><strong>WCAG 2.1 AA</strong></td>
          <td>Cible Sprint 5</td>
          <td>Audit Lighthouse, corrections accessibilite, score &gt; 90</td>
        </tr>
        <tr>
          <td><strong>GreenIT</strong></td>
          <td>Cible Sprint 5</td>
          <td>Eco-index &gt;= 50, optimisation images, lazy loading</td>
        </tr>
      </tbody>
    </table>

    <h3 id="sec14-2">14.2 Securite</h3>
    <ul>
      <li>Chiffrement TLS en transit</li>
      <li>Authentification JWT avec rotation</li>
      <li>Roles secrets jamais envoyes aux autres clients (server-side only)</li>
      <li>Sanitisation des entrees joueurs (anti-prompt injection, 256 chars max)</li>
      <li>Filtre de moderation sur les sorties IA (API moderation OpenAI)</li>
      <li>Rate limiting API (100 appels/heure en dev)</li>
      <li>Red teaming prompt injection prevu en semaine 10</li>
    </ul>

    <h3 id="sec14-3">14.3 Gestion de deconnexion</h3>
    <table>
      <thead>
        <tr>
          <th>Regle</th>
          <th>Detail</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Deconnexion &lt; 2min</td>
          <td>Reconnexion auto, etat preserve</td>
        </tr>
        <tr>
          <td>Deconnexion 2-5min</td>
          <td>Place reservee, IA joue a sa place</td>
        </tr>
        <tr>
          <td>Deconnexion &gt; 5min</td>
          <td>Joueur retire, IA prend le relais</td>
        </tr>
        <tr>
          <td>Hote deconnecte</td>
          <td>Transfert role au joueur le plus ancien</td>
        </tr>
      </tbody>
    </table>


    <!-- ---- SECTION 15 ---- -->
    <h2 id="sec15" class="section-break">15. Benchmark concurrentiel</h2>

    <h3 id="sec15-1">15.1 Methodologie</h3>
    <p>Analyse de <strong>8 concurrents</strong> selon 12 criteres d'evaluation repartis en 4 categories : Experience
      utilisateur, Technologie, Marche et Differentiation. Chaque critere est note de 0 a 5.</p>

    <h3 id="sec15-2">15.2 Cartographie concurrentielle</h3>
    <table>
      <thead>
        <tr>
          <th>Concurrent</th>
          <th>Categorie</th>
          <th>IA</th>
          <th>Multi</th>
          <th>Narratif</th>
          <th>Sessions courtes</th>
          <th>Gratuit</th>
          <th>Score</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>AI Dungeon</strong></td>
          <td>IA narrative solo</td>
          <td>Oui</td>
          <td>Non</td>
          <td>Fort</td>
          <td>Non</td>
          <td>Freemium</td>
          <td>3.2/5</td>
        </tr>
        <tr>
          <td><strong>Among Us</strong></td>
          <td>Social deduction</td>
          <td>Non</td>
          <td>Oui</td>
          <td>Faible</td>
          <td>Oui</td>
          <td>Payant</td>
          <td>3.0/5</td>
        </tr>
        <tr>
          <td><strong>D&D Beyond</strong></td>
          <td>JDR papier digital</td>
          <td>Non</td>
          <td>Oui</td>
          <td>Fort</td>
          <td>Non</td>
          <td>Freemium</td>
          <td>2.9/5</td>
        </tr>
        <tr>
          <td><strong>Character.AI</strong></td>
          <td>Chatbot IA RP</td>
          <td>Oui</td>
          <td>Non</td>
          <td>Moyen</td>
          <td>Oui</td>
          <td>Gratuit</td>
          <td>2.8/5</td>
        </tr>
        <tr>
          <td><strong>Werewolf Online</strong></td>
          <td>Social deduction</td>
          <td>Non</td>
          <td>Oui</td>
          <td>Faible</td>
          <td>Oui</td>
          <td>Gratuit</td>
          <td>2.7/5</td>
        </tr>
        <tr>
          <td><strong>Novel AI</strong></td>
          <td>IA ecriture</td>
          <td>Oui</td>
          <td>Non</td>
          <td>Fort</td>
          <td>Non</td>
          <td>Payant</td>
          <td>2.5/5</td>
        </tr>
        <tr>
          <td><strong>Storium</strong></td>
          <td>Storytelling collab</td>
          <td>Non</td>
          <td>Oui</td>
          <td>Fort</td>
          <td>Non</td>
          <td>Payant</td>
          <td>2.4/5</td>
        </tr>
        <tr>
          <td><strong>Hidden Agenda</strong></td>
          <td>Choix narratifs</td>
          <td>Non</td>
          <td>Oui</td>
          <td>Moyen</td>
          <td>Non</td>
          <td>Payant</td>
          <td>2.2/5</td>
        </tr>
      </tbody>
    </table>

    <h3 id="sec15-3">15.3 Matrice comparative des fonctionnalites</h3>
    <table>
      <thead>
        <tr>
          <th>Fonctionnalite</th>
          <th>MYTHOS</th>
          <th>AI Dungeon</th>
          <th>Among Us</th>
          <th>Character.AI</th>
          <th>D&D Beyond</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>IA generative (MJ)</td>
          <td>Oui</td>
          <td>Oui</td>
          <td>Non</td>
          <td>Oui</td>
          <td>Non</td>
        </tr>
        <tr>
          <td>Multijoueur temps reel</td>
          <td>Oui</td>
          <td>Non</td>
          <td>Oui</td>
          <td>Non</td>
          <td>Non*</td>
        </tr>
        <tr>
          <td>Scenarios modulaires</td>
          <td>Oui</td>
          <td>Non</td>
          <td>Non</td>
          <td>Non</td>
          <td>Oui</td>
        </tr>
        <tr>
          <td>Roles secrets</td>
          <td>Oui</td>
          <td>Non</td>
          <td>Oui</td>
          <td>Non</td>
          <td>Partiel</td>
        </tr>
        <tr>
          <td>Systeme de vote</td>
          <td>Oui</td>
          <td>Non</td>
          <td>Oui</td>
          <td>Non</td>
          <td>Non</td>
        </tr>
        <tr>
          <td>Jauges de ressources</td>
          <td>Oui</td>
          <td>Non</td>
          <td>Non</td>
          <td>Non</td>
          <td>Partiel</td>
        </tr>
        <tr>
          <td>Sessions courtes (&lt;25min)</td>
          <td>Oui</td>
          <td>Non</td>
          <td>Oui</td>
          <td>Oui</td>
          <td>Non</td>
        </tr>
        <tr>
          <td>Zero installation (web)</td>
          <td>Oui</td>
          <td>Oui</td>
          <td>Non</td>
          <td>Oui</td>
          <td>Oui</td>
        </tr>
        <tr>
          <td>Narration adaptative IA</td>
          <td>Oui</td>
          <td>Oui</td>
          <td>Non</td>
          <td>Partiel</td>
          <td>Non</td>
        </tr>
        <tr>
          <td>Chat en jeu</td>
          <td>Oui</td>
          <td>Non</td>
          <td>Oui</td>
          <td>Oui</td>
          <td>Non</td>
        </tr>
        <tr>
          <td>Gratuit (MVP)</td>
          <td>Oui</td>
          <td>Freemium</td>
          <td>Non</td>
          <td>Oui</td>
          <td>Freemium</td>
        </tr>
        <tr style="font-weight:700; background:#eef2ff;">
          <td>Score total (/45)</td>
          <td><strong>45</strong></td>
          <td>18</td>
          <td>15</td>
          <td>14</td>
          <td>12</td>
        </tr>
      </tbody>
    </table>

    <h3 id="sec15-4">15.4 Positionnement strategique</h3>
    <blockquote>
      <strong>MYTHOS est le seul produit du marche a combiner ces 3 piliers :</strong><br>
      1. IA generative comme Maitre du Jeu (narration + resolution adaptative)<br>
      2. Multijoueur temps reel (WebSocket, 2-8 joueurs simultanes)<br>
      3. Scenarios modulaires (Scenario Packs JSON, extensibles a l'infini)<br><br>
      <strong>Lecons des concurrents :</strong> AI Dungeon a prouve que l'IA narrative fonctionne mais souffre du manque
      de multijoueur. Among Us a prouve que la deduction sociale courte est viable mais manque de profondeur narrative.
      MYTHOS fusionne ces deux approches.
    </blockquote>


    <!-- ---- SECTION 16 ---- -->
    <h2 id="sec16" class="section-break">16. Veille technologique</h2>

    <h3 id="sec16-1">16.1 Axes de veille</h3>
    <table>
      <thead>
        <tr>
          <th>Axe</th>
          <th>Responsable</th>
          <th>Priorite</th>
          <th>Sources principales</th>
          <th>Frequence</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>IA Generative</strong></td>
          <td>Samy</td>
          <td><span class="badge badge-critical">Critique</span></td>
          <td>Anthropic Docs, OpenAI Blog, Hugging Face, Papers With Code, r/LocalLLaMA</td>
          <td>Quotidienne</td>
        </tr>
        <tr>
          <td><strong>Tech Temps Reel</strong></td>
          <td>Samy</td>
          <td><span class="badge badge-high">Haute</span></td>
          <td>Socket.io Blog, NestJS Blog, Deno Blog, Bun Blog, Redis Blog</td>
          <td>Hebdomadaire</td>
        </tr>
        <tr>
          <td><strong>Marche Gaming Narratif</strong></td>
          <td>Kays</td>
          <td><span class="badge badge-medium">Moyenne</span></td>
          <td>Gamasutra, GamesIndustry.biz, Product Hunt, r/gamedesign, r/tabletopgamedesign</td>
          <td>Hebdomadaire</td>
        </tr>
        <tr>
          <td><strong>Eco-conception & Accessibilite</strong></td>
          <td>Yassir</td>
          <td><span class="badge badge-medium">Moyenne</span></td>
          <td>GreenIT.fr, W3C WAI, WebAIM, Ecoindex.fr, Access42 Blog</td>
          <td>Bi-hebdomadaire</td>
        </tr>
      </tbody>
    </table>

    <h3 id="sec16-2">16.2 Outils de veille (33 outils identifies)</h3>
    <table>
      <thead>
        <tr>
          <th>Categorie</th>
          <th>Outils</th>
          <th>Usage</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Collecte RSS</td>
          <td>Feedly, Inoreader</td>
          <td>Aggregation automatique des sources</td>
        </tr>
        <tr>
          <td>Alertes</td>
          <td>Google Alerts, GitHub Watch</td>
          <td>Notifications sur mots-cles</td>
        </tr>
        <tr>
          <td>Social</td>
          <td>Reddit, Twitter/X, Discord (communautes IA)</td>
          <td>Tendances et discussions communautaires</td>
        </tr>
        <tr>
          <td>Newsletters</td>
          <td>TLDR AI, The Batch (Andrew Ng), Console.dev, Frontend Focus</td>
          <td>Synthese hebdomadaire</td>
        </tr>
        <tr>
          <td>Benchmark code</td>
          <td>LMSYS Chatbot Arena, Artificial Analysis</td>
          <td>Comparaison des modeles LLM</td>
        </tr>
        <tr>
          <td>Audit</td>
          <td>Lighthouse, WAVE, axe DevTools, GreenIT Analysis, EcoIndex</td>
          <td>Mesures conformite et performance</td>
        </tr>
        <tr>
          <td>Documentation</td>
          <td>Notion (base de veille), GitHub Wiki</td>
          <td>Capitalisation et diffusion</td>
        </tr>
      </tbody>
    </table>

    <h3 id="sec16-3">16.3 Processus de veille</h3>
    <ol>
      <li><strong>Collecter</strong> : Chaque membre consulte ses sources selon la frequence definie et note les
        elements pertinents dans Notion.</li>
      <li><strong>Analyser</strong> : En Tech Review hebdomadaire, les decouvertes sont presentees et evaluees (impact,
        faisabilite, urgence).</li>
      <li><strong>Diffuser</strong> : Les elements retenus sont partages dans Discord #veille avec un resume et un lien.
      </li>
      <li><strong>Archiver</strong> : La base Notion est mise a jour avec les fiches de veille pour reference future.
      </li>
    </ol>

    <h3 id="sec16-4">16.4 KPIs de veille</h3>
    <table>
      <thead>
        <tr>
          <th>KPI</th>
          <th>Cible</th>
          <th>Frequence</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Nombre de fiches de veille produites</td>
          <td>&gt;= 4 par semaine</td>
          <td>Hebdomadaire</td>
        </tr>
        <tr>
          <td>Taux de participation equipe</td>
          <td>100% (chaque membre contribue)</td>
          <td>Mensuel</td>
        </tr>
        <tr>
          <td>Actions concretes issues de la veille</td>
          <td>&gt;= 1 par sprint</td>
          <td>Par sprint</td>
        </tr>
        <tr>
          <td>Temps moyen consacre</td>
          <td>~2h/personne/semaine</td>
          <td>Hebdomadaire</td>
        </tr>
      </tbody>
    </table>


    <!-- ---- SECTION 17 ---- -->
    <h2 id="sec17" class="section-break">17. Specifications techniques detaillees</h2>

    <h3 id="sec17-1">17.1 Structure Backend (NestJS)</h3>
    <div class="card"
      style="background:var(--code-bg); font-family:'JetBrains Mono','Fira Code',monospace; font-size:0.78em; white-space:pre; overflow-x:auto; line-height:1.5;">
      src/modules/
      ├── auth/ ← Inscription, connexion, JWT, guards
      ├── users/ ← Profil, historique, admin users
      ├── games/ ← CRUD sessions, lobby
      ├── engine/ ← Game Loop, State, Roles, Choices, Resources
      │ └── services/
      │ ├── game-loop-manager.service.ts
      │ ├── game-state-manager.service.ts
      │ ├── choice-engine.service.ts
      │ ├── resource-manager.service.ts
      │ └── role-manager.service.ts
      ├── scenarios/ ← CRUD Scenario Packs, Loader
      ├── websocket/ ← Gateway Socket.io, Session Manager
      ├── ai/ ← Claude API, Prompt Engineering, Cache
      └── cache/ ← Service Redis, TTL management
    </div>

    <h3 id="sec17-2">17.2 Structure Frontend (Next.js)</h3>
    <div class="card"
      style="background:var(--code-bg); font-family:'JetBrains Mono','Fira Code',monospace; font-size:0.78em; white-space:pre; overflow-x:auto; line-height:1.5;">
      app/
      ├── layout.tsx ← Layout racine
      ├── page.tsx ← Catalogue scenarios
      ├── (auth)/login/ ← Connexion
      ├── (auth)/register/ ← Inscription
      ├── scenarios/[slug]/ ← Detail scenario
      ├── session/[code]/ ← Lobby
      ├── session/[code]/game/ ← Interface de jeu
      └── admin/ ← Panel admin

      components/game/
      ├── NarrationPanel.tsx ← Affichage narration IA (streaming)
      ├── ChoicePanel.tsx ← Options de choix joueur
      ├── DiscussionPanel.tsx ← Chat de discussion
      ├── ResourceGauges.tsx ← Jauges O2/Energie/Coque (DEEP)
      ├── PrivateInfoPanel.tsx ← Role secret du joueur
      ├── PhaseIndicator.tsx ← Indicateur de phase courante
      ├── TimerDisplay.tsx ← Compte a rebours
      └── EndScreen.tsx ← Ecran de fin + epilogue
    </div>

    <h3 id="sec17-3">17.3 Schema Prisma (extrait)</h3>
    <div class="card"
      style="background:var(--code-bg); font-family:'JetBrains Mono','Fira Code',monospace; font-size:0.78em; white-space:pre; overflow-x:auto; line-height:1.5;">
      model User {
      id String @id @default(uuid())
      email String @unique
      passwordHash String @map("password_hash")
      username String @unique
      role UserRole @default(PLAYER)
      oauthProvider String? @map("oauth_provider")
      createdAt DateTime @default(now()) @map("created_at")
      bannedUntil DateTime? @map("banned_until")
      games Game[] @relation("host")
      players Player[]
      @@map("users")
      }

      model Game {
      id String @id @default(uuid())
      code String @unique @db.Char(6)
      scenarioPackId String @map("scenario_pack_id")
      hostId String @map("host_id")
      status GameStatus @default(LOBBY)
      currentRound Int @default(0) @map("current_round")
      currentPhase Phase? @map("current_phase")
      maxPlayers Int @default(8) @map("max_players")
      timerAction Int @default(60) @map("timer_action")
      timerDiscussion Int @default(90) @map("timer_discussion")
      createdAt DateTime @default(now()) @map("created_at")
      startedAt DateTime? @map("started_at")
      finishedAt DateTime? @map("finished_at")
      host User @relation("host", fields: [hostId])
      scenarioPack ScenarioPack @relation(fields: [scenarioPackId])
      players Player[]
      rounds GameRound[]
      messages ChatMessage[]
      @@map("games")
      }

      enum GameStatus { LOBBY, IN_PROGRESS, PAUSED, FINISHED, CANCELLED }
      enum Phase { SETUP, NARRATION, ACTION, RESOLUTION, DISCUSSION, FINALE }
      enum UserRole { PLAYER, ADMIN }
    </div>

    <h3 id="sec17-4">17.4 Plan de securite</h3>
    <table>
      <thead>
        <tr>
          <th>Couche</th>
          <th>Mesure</th>
          <th>Implementation</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Authentification</td>
          <td>JWT RS256 avec expiration 24h</td>
          <td>NestJS Guard + Passport</td>
        </tr>
        <tr>
          <td>Mots de passe</td>
          <td>Hashage bcrypt (salt rounds 10)</td>
          <td>bcryptjs</td>
        </tr>
        <tr>
          <td>CORS</td>
          <td>Origines autorisees (frontend domain only)</td>
          <td>NestJS CORS middleware</td>
        </tr>
        <tr>
          <td>Rate limiting</td>
          <td>100 req/h par IP (auth endpoints : 10 req/h)</td>
          <td>@nestjs/throttler</td>
        </tr>
        <tr>
          <td>Validation</td>
          <td>DTOs avec class-validator sur tous les endpoints</td>
          <td>NestJS ValidationPipe</td>
        </tr>
        <tr>
          <td>Sanitisation</td>
          <td>Nettoyage des entrees texte (anti-XSS, anti-injection prompt)</td>
          <td>DOMPurify + regex custom</td>
        </tr>
        <tr>
          <td>WebSocket</td>
          <td>Auth JWT sur handshake, room isolation</td>
          <td>Socket.io middleware</td>
        </tr>
        <tr>
          <td>Donnees sensibles</td>
          <td>Roles secrets server-side only, jamais envoyes aux mauvais clients</td>
          <td>Game State Manager</td>
        </tr>
        <tr>
          <td>Headers</td>
          <td>Helmet.js (CSP, X-Frame-Options, HSTS)</td>
          <td>@nestjs/helmet</td>
        </tr>
        <tr>
          <td>Dependances</td>
          <td>npm audit en CI, 0 vulnerabilite high/critical</td>
          <td>GitHub Actions</td>
        </tr>
      </tbody>
    </table>

    <h3 id="sec17-5">17.5 Plan de tests</h3>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Outil</th>
          <th>Couverture cible</th>
          <th>Ce qu'on teste</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Unitaire backend</td>
          <td>Jest + ts-jest</td>
          <td>&gt; 60%</td>
          <td>Services en isolation (Game Loop, Choice Engine, AI Service)</td>
        </tr>
        <tr>
          <td>Unitaire frontend</td>
          <td>Vitest + RTL</td>
          <td>&gt; 40%</td>
          <td>Composants React, stores Zustand</td>
        </tr>
        <tr>
          <td>Unitaire Game Engine</td>
          <td>Jest</td>
          <td>&gt; 70%</td>
          <td>Logique metier du moteur de jeu (critique)</td>
        </tr>
        <tr>
          <td>Integration</td>
          <td>Supertest + Jest</td>
          <td>20-30 tests</td>
          <td>API endpoints, flux auth, Game Engine + Redis</td>
        </tr>
        <tr>
          <td>WebSocket</td>
          <td>Socket.io Client + Jest</td>
          <td>10-15 tests</td>
          <td>Connexion, deconnexion, evenements, rooms</td>
        </tr>
        <tr>
          <td>E2E</td>
          <td>Playwright</td>
          <td>5-10 tests</td>
          <td>Flux complets (register → jouer → fin de partie)</td>
        </tr>
        <tr>
          <td>Performance</td>
          <td>k6</td>
          <td>3-5 scenarios</td>
          <td>100 connexions simultanées, latence sous charge</td>
        </tr>
      </tbody>
    </table>

    <h3 id="sec17-6">17.6 Diagrammes UML</h3>

    <h4>Diagramme de sequence — Tour complet</h4>
    <div class="mermaid-container">
      <pre class="mermaid">
sequenceDiagram
    participant J as Joueurs (2-8)
    participant S as Serveur (NestJS)
    participant R as Redis
    participant IA as Claude API

    Note over J,IA: Phase NARRATION
    S->>R: Charger gameState
    S->>IA: generateNarration(context, history)
    IA-->>S: narration (streaming)
    S-->>J: game:narration (SSE chunks)
    S->>R: Sauver narration dans gameState

    Note over J,IA: Phase ACTION (timer 60s)
    J->>S: game:action (actionText)
    S->>R: Stocker action du joueur
    Note right of S: Attente de tous les joueurs ou timeout

    Note over J,IA: Phase RESOLUTION
    S->>R: Charger toutes les actions
    S->>IA: resolveActions(actions, gameState)
    IA-->>S: resolution + updatedState
    S->>R: Mettre a jour gameState (jauges, events)
    S-->>J: game:resolution (resultats)

    Note over J,IA: Phase DISCUSSION (timer 90s)
    J->>S: chat:message
    S-->>J: chat:new-message (broadcast)

    Note over J,IA: Phase VOTE (TRIBUNAL)
    J->>S: game:vote (choice)
    S->>R: Stocker vote
    S-->>J: game:vote-results

    Note over J,IA: Evaluation condition de fin
    S->>R: Charger gameState complet
    alt Condition de fin atteinte
        S->>IA: generateEpilogue(finalState)
        IA-->>S: epilogue
        S-->>J: game:ended (epilogue, stats)
    else Continuer
        S-->>J: game:phase-change (NARRATION, round+1)
    end
      </pre>
    </div>

    <h4>Diagramme de deploiement</h4>
    <div class="mermaid-container">
      <pre class="mermaid">
graph TB
    subgraph VERCEL["VERCEL (Frontend)"]
        direction TB
        CDN["CDN Edge (CDG1 Paris)"]
        NEXT["Next.js 14 SSR/SSG"]
    end

    subgraph RAILWAY["RAILWAY (Backend)"]
        direction TB
        NEST["NestJS 10+ (Node.js)"]
        PG["PostgreSQL 16"]
    end

    subgraph UPSTASH["UPSTASH (Cache)"]
        REDIS["Redis Serverless (eu-west-1)"]
    end

    subgraph ANTHROPIC["ANTHROPIC (IA)"]
        CLAUDE["Claude API (Sonnet + Haiku)"]
    end

    subgraph GITHUB["GITHUB"]
        ACTIONS["GitHub Actions (CI/CD)"]
        REPO["Repository (monorepo)"]
    end

    subgraph MONITORING["MONITORING"]
        SENTRY["Sentry (erreurs)"]
        UPTIME["UptimeRobot"]
    end

    CDN -->|HTTPS| NEST
    CDN -->|WSS| NEST
    NEST --> PG
    NEST --> REDIS
    NEST -->|API| CLAUDE
    REPO --> ACTIONS
    ACTIONS -->|Deploy| CDN
    ACTIONS -->|Deploy| NEST
    NEST --> SENTRY
    UPTIME -->|Ping| NEST
      </pre>
    </div>


    <!-- ---- SECTION 18 ---- -->
    <h2 id="sec18" class="section-break">18. Gestion du changement</h2>

    <h3 id="sec18-1">18.1 Philosophie</h3>
    <p>Dans un projet Agile Scrum de 14 semaines, les changements sont inevitables et souhaitables. Mais un changement
      non maitrise peut compromettre le calendrier, le budget ou la qualite du MVP. Notre processus garantit que chaque
      modification est evaluee, decidee et tracee.</p>

    <h3 id="sec18-2">18.2 Types de changement</h3>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
          <th>Exemples</th>
          <th>Processus</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>Mineur</strong></td>
          <td>Technique, sans impact fonctionnel</td>
          <td>Refactoring, MAJ dependance, typo</td>
          <td>PR directe, pas de formulaire</td>
        </tr>
        <tr>
          <td><strong>Modere</strong></td>
          <td>Ajout/modif fonctionnalite MVP</td>
          <td>Nouvelle US, modif Scenario Pack, changement UI</td>
          <td>Formulaire CR + validation PO</td>
        </tr>
        <tr>
          <td><strong>Majeur</strong></td>
          <td>Changement de perimetre/archi</td>
          <td>3eme scenario, changement LLM, refonte archi</td>
          <td>Formulaire complet + Comite decision</td>
        </tr>
        <tr>
          <td><strong>Urgent</strong></td>
          <td>Correction critique en prod</td>
          <td>Bug bloquant, faille securite, API down</td>
          <td>Hotfix immediat + formalisation a posteriori</td>
        </tr>
      </tbody>
    </table>

    <h3 id="sec18-3">18.3 Processus d'evaluation d'impact</h3>
    <div class="mermaid-container">
      <pre class="mermaid">
flowchart TD
    A["Demande de changement recue"] --> B{"Type de changement?"}
    B -->|Mineur| C["PR directe via GitHub"]
    B -->|Modere| D["Formulaire CR + analyse impact"]
    B -->|Majeur| E["Formulaire complet + Comite de decision"]
    B -->|Urgent| F["Hotfix immediat en production"]
    D --> G{"Score impact"}
    G -->|"4-5 Faible"| H["Decision PO seul"]
    G -->|"6-8 Modere"| I["Decision PO + Architecte"]
    G -->|"9-12 Eleve"| E
    H --> J{"Accepte?"}
    I --> J
    E --> K{"Vote du comite"}
    K -->|Accepte| L["Decomposition en tickets"]
    K -->|Refuse| M["Archivage + justification"]
    K -->|Reporte| N["Ajout roadmap V2+"]
    J -->|Oui| L
    J -->|Non| M
    L --> O["Integration au Sprint Backlog"]
    F --> Q["Deploiement immediat"]
    Q --> R["Formalisation a posteriori"]
    C --> S["Merge apres code review"]
      </pre>
    </div>

    <h3 id="sec18-4">18.4 Grille d'impact</h3>
    <table>
      <thead>
        <tr>
          <th>Dimension</th>
          <th>Faible (1 pt)</th>
          <th>Moyen (2 pts)</th>
          <th>Eleve (3 pts)</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>Technique</strong></td>
          <td>1 module impacte</td>
          <td>2-3 modules</td>
          <td>Architecture impactee</td>
        </tr>
        <tr>
          <td><strong>Planning</strong></td>
          <td>&lt; 3 SP</td>
          <td>3-8 SP</td>
          <td>&gt; 8 SP ou retard</td>
        </tr>
        <tr>
          <td><strong>Budget</strong></td>
          <td>0 EUR</td>
          <td>&lt; 50 EUR</td>
          <td>&gt; 50 EUR</td>
        </tr>
        <tr>
          <td><strong>Qualite</strong></td>
          <td>Pas de regression</td>
          <td>Tests a modifier</td>
          <td>Risque de regression</td>
        </tr>
      </tbody>
    </table>
    <p><strong>Score 4-5 :</strong> Decision PO seul | <strong>Score 6-8 :</strong> PO + Architecte | <strong>Score 9-12
        :</strong> Comite de decision complet</p>

    <h3 id="sec18-5">18.5 Registre des changements</h3>
    <table>
      <thead>
        <tr>
          <th>ID</th>
          <th>Date</th>
          <th>Demandeur</th>
          <th>Description</th>
          <th>Type</th>
          <th>Score</th>
          <th>Decision</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>CR-001</td>
          <td>15/02</td>
          <td>Samy</td>
          <td>Passer de Sonnet a Opus pour la narration</td>
          <td>Majeur</td>
          <td>8</td>
          <td><span class="badge badge-critical">Refuse</span></td>
        </tr>
        <tr>
          <td>CR-002</td>
          <td>22/02</td>
          <td>Kays</td>
          <td>Ajouter un mode spectateur au lobby</td>
          <td>Modere</td>
          <td>6</td>
          <td><span class="badge badge-should">Reporte V2</span></td>
        </tr>
        <tr>
          <td>CR-003</td>
          <td>01/03</td>
          <td>Youri</td>
          <td>Remplacer Zustand par Jotai</td>
          <td>Modere</td>
          <td>7</td>
          <td><span class="badge badge-critical">Refuse</span></td>
        </tr>
        <tr>
          <td>CR-004</td>
          <td>08/03</td>
          <td>Samy</td>
          <td>Ajouter cache Redis sur prompts recurrents</td>
          <td>Modere</td>
          <td>5</td>
          <td><span class="badge badge-low">Accepte</span></td>
        </tr>
        <tr>
          <td>CR-005</td>
          <td>15/03</td>
          <td>Kays</td>
          <td>Reduire tours DEEP de 8 a 6</td>
          <td>Mineur</td>
          <td>4</td>
          <td><span class="badge badge-low">Accepte</span></td>
        </tr>
        <tr>
          <td>CR-006</td>
          <td>22/03</td>
          <td>Yassir</td>
          <td>Ajouter tests E2E Playwright</td>
          <td>Modere</td>
          <td>6</td>
          <td><span class="badge badge-low">Accepte</span></td>
        </tr>
      </tbody>
    </table>


    <!-- ---- SECTION 19 ---- -->
    <h2 id="sec19" class="section-break">19. Plan qualite et standards de code</h2>

    <h3 id="sec19-1">19.1 Piliers qualite</h3>
    <div class="card-grid">
      <div class="card">
        <div class="number" style="font-size:1.5em;">CODE</div>
        <div class="desc">TypeScript strict, ESLint, Prettier, pas de "any", SOLID + DRY</div>
      </div>
      <div class="card">
        <div class="number" style="font-size:1.5em;">PROCESS</div>
        <div class="desc">Code review obligatoire, Conventional Commits, DoD + DoR, Retrospective</div>
      </div>
      <div class="card">
        <div class="number" style="font-size:1.5em;">PRODUIT</div>
        <div class="desc">Tests auto (unit, E2E), Lighthouse &gt; 90, latence IA &lt; 5s, 0 bug critique</div>
      </div>
      <div class="card">
        <div class="number" style="font-size:1.5em;">CONFORMITE</div>
        <div class="desc">RGPD complet, WCAG 2.1 AA, GreenIT &gt; 50, ANSSI respect</div>
      </div>
    </div>

    <h3 id="sec19-2">19.2 Conventions TypeScript</h3>
    <table>
      <thead>
        <tr>
          <th>Regle</th>
          <th>Convention</th>
          <th>Exemple</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Fichiers</td>
          <td>kebab-case</td>
          <td><code>game-loop-manager.service.ts</code></td>
        </tr>
        <tr>
          <td>Classes</td>
          <td>PascalCase</td>
          <td><code>GameLoopManagerService</code></td>
        </tr>
        <tr>
          <td>Fonctions</td>
          <td>camelCase</td>
          <td><code>startActionPhase()</code></td>
        </tr>
        <tr>
          <td>Constantes</td>
          <td>UPPER_SNAKE_CASE</td>
          <td><code>MAX_PLAYERS</code>, <code>DEFAULT_TIMER</code></td>
        </tr>
        <tr>
          <td>Interfaces</td>
          <td>PascalCase (pas de I)</td>
          <td><code>GameState</code>, <code>ScenarioPack</code></td>
        </tr>
        <tr>
          <td>Exports</td>
          <td>Named exports (pas de default)</td>
          <td><code>export class GameEngine {}</code></td>
        </tr>
        <tr>
          <td>Types stricts</td>
          <td>Jamais de <code>any</code></td>
          <td><code>data: unknown</code></td>
        </tr>
        <tr>
          <td>Immutabilite</td>
          <td><code>const</code> et <code>readonly</code></td>
          <td><code>readonly gameState: GameState</code></td>
        </tr>
      </tbody>
    </table>

    <h3 id="sec19-3">19.3 Processus de code review</h3>
    <table>
      <thead>
        <tr>
          <th>Regle</th>
          <th>Detail</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>Obligation</strong></td>
          <td>Toute PR reviewee par au moins 1 membre avant merge</td>
        </tr>
        <tr>
          <td><strong>Delai</strong></td>
          <td>Le reviewer reagit dans les 24h</td>
        </tr>
        <tr>
          <td><strong>Taille</strong></td>
          <td>Une PR ne depasse pas 400 lignes de code modifiees</td>
        </tr>
        <tr>
          <td><strong>Focus</strong></td>
          <td>Une PR = une fonctionnalite ou un fix</td>
        </tr>
        <tr>
          <td><strong>Tone</strong></td>
          <td>Bienveillant et constructif</td>
        </tr>
        <tr>
          <td><strong>Merge</strong></td>
          <td>Squash merge vers develop, branche supprimee auto</td>
        </tr>
      </tbody>
    </table>

    <h3 id="sec19-4">19.4 Checklist de code review</h3>
    <ul>
      <li><strong>Architecture :</strong> Separation of concerns, DRY, interfaces bien definies, code testable</li>
      <li><strong>Qualite :</strong> Noms explicites, fonctions &lt; 50 lignes, pas de
        <code>any</code>/<code>@ts-ignore</code>, complexite &lt; 10</li>
      <li><strong>Erreurs :</strong> Gestion explicite (try/catch), messages clairs, cas limites geres</li>
      <li><strong>Securite :</strong> Entrees validees (DTO), pas d'injection SQL (Prisma), pas de donnees sensibles
        dans les logs</li>
      <li><strong>Tests :</strong> Cas nominaux + erreurs, mocks pour dependances externes, couverture suffisante</li>
      <li><strong>Performance :</strong> Pas de N+1 (Prisma includes), operations async, cache Redis quand pertinent
      </li>
      <li><strong>Accessibilite :</strong> HTML semantique, ARIA, labels, navigation clavier, contrastes suffisants</li>
    </ul>

    <h3 id="sec19-5">19.5 Pyramide de tests</h3>
    <table>
      <thead>
        <tr>
          <th>Couche</th>
          <th>Nb tests</th>
          <th>Couverture</th>
          <th>Outils</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Unitaire (base)</td>
          <td>100+</td>
          <td>Backend &gt; 60%, Frontend &gt; 40%, Engine &gt; 70%</td>
          <td>Jest, Vitest, RTL</td>
        </tr>
        <tr>
          <td>Integration (milieu)</td>
          <td>20-30</td>
          <td>Modules connectes</td>
          <td>Supertest, Socket.io Client</td>
        </tr>
        <tr>
          <td>E2E (sommet)</td>
          <td>5-10</td>
          <td>Flux critiques complets</td>
          <td>Playwright</td>
        </tr>
      </tbody>
    </table>

    <h3 id="sec19-6">19.6 Criteres de qualite mesurables</h3>
    <table>
      <thead>
        <tr>
          <th>KPI Qualite</th>
          <th>Cible</th>
          <th>Alerte si</th>
          <th>Frequence</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Couverture tests backend</td>
          <td>&gt; 60%</td>
          <td>&lt; 55%</td>
          <td>Chaque PR</td>
        </tr>
        <tr>
          <td>Couverture Game Engine</td>
          <td>&gt; 70%</td>
          <td>&lt; 65%</td>
          <td>Chaque PR</td>
        </tr>
        <tr>
          <td>Bugs critiques ouverts</td>
          <td>0</td>
          <td>&gt; 0</td>
          <td>Quotidien</td>
        </tr>
        <tr>
          <td>Lighthouse Performance</td>
          <td>&gt; 80</td>
          <td>&lt; 70</td>
          <td>Deploiement</td>
        </tr>
        <tr>
          <td>Lighthouse Accessibility</td>
          <td>&gt; 90</td>
          <td>&lt; 85</td>
          <td>Deploiement</td>
        </tr>
        <tr>
          <td>Temps reponse API (P95)</td>
          <td>&lt; 500ms</td>
          <td>&gt; 1s</td>
          <td>Continu</td>
        </tr>
        <tr>
          <td>npm audit (high/critical)</td>
          <td>0</td>
          <td>&gt; 0</td>
          <td>Chaque PR</td>
        </tr>
        <tr>
          <td>Eco-index</td>
          <td>&gt; 50</td>
          <td>&lt; 40</td>
          <td>Par sprint</td>
        </tr>
        <tr>
          <td>Uptime</td>
          <td>&gt; 95%</td>
          <td>&lt; 95%</td>
          <td>Continu</td>
        </tr>
      </tbody>
    </table>


    <!-- ---- SECTION 20 ---- -->
    <h2 id="sec20" class="section-break">20. Conformite GreenIT</h2>

    <h3 id="sec20-1">20.1 Referentiel des 115 bonnes pratiques — Bilan MYTHOS</h3>
    <table>
      <thead>
        <tr>
          <th>Categorie</th>
          <th>Bonnes pratiques appliquees</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>Conception</strong></td>
          <td>
            <ul style="margin:0;">
              <li><strong>BP01</strong> — Eliminer fonctionnalites non essentielles : MVP strictement delimite par
                MoSCoW</li>
              <li><strong>BP02</strong> — Quantifier le besoin : Scenario Packs definissent tours, timers, nb joueurs
              </li>
              <li><strong>BP03</strong> — Fluidifier le processus : 1 seul appel IA par phase narration/resolution</li>
              <li><strong>BP04</strong> — Saisie assistee : Choix sous forme de boutons (pas de texte libre)</li>
              <li><strong>BP05</strong> — Design simple : Mobile-first TailwindCSS, pas d'animations lourdes</li>
              <li><strong>BP07</strong> — Pages statiques : Accueil, catalogue en SSG via Next.js</li>
              <li><strong>BP08</strong> — Eviter les carrousels : Catalogue = grille simple de cartes</li>
            </ul>
          </td>
        </tr>
        <tr>
          <td><strong>Templating / Cache</strong></td>
          <td>
            <ul style="margin:0;">
              <li><strong>BP09</strong> — Cache HTTP : Next.js Cache-Control + Vercel CDN</li>
              <li><strong>BP10</strong> — Limiter requetes HTTP : Bundle splitting natif, Socket.io remplace polling
              </li>
              <li><strong>BP11</strong> — Cache navigateur : JWT localStorage, state Zustand (pas de refetch)</li>
              <li><strong>BP13</strong> — Compression : Vercel gzip/brotli automatique</li>
            </ul>
          </td>
        </tr>
        <tr>
          <td><strong>CSS / JS</strong></td>
          <td>
            <ul style="margin:0;">
              <li><strong>BP14-18</strong> — CSS : Jauges = barres CSS (pas d'images), TailwindCSS purge, shorthand
                natif</li>
              <li><strong>BP19-23</strong> — JS : HTML semantique, pas de jQuery/Lodash, virtual DOM React, delegation
                d'evenements, animations CSS</li>
            </ul>
          </td>
        </tr>
        <tr>
          <td><strong>Images / Media</strong></td>
          <td>
            <ul style="margin:0;">
              <li><strong>BP24-28</strong> — Lazy loading Next.js Image, WebP auto, icones SVG, zero video/audio dans le
                MVP</li>
            </ul>
          </td>
        </tr>
        <tr>
          <td><strong>Backend / Hebergement</strong></td>
          <td>
            <ul style="margin:0;">
              <li><strong>BP29-31</strong> — Vercel energies renouvelables, CDN edge, Redis cache serveur</li>
              <li><strong>BP32-35</strong> — Scenario Packs caches Redis (1h), Prisma include/select, pagination, pas de
                SELECT *</li>
            </ul>
          </td>
        </tr>
      </tbody>
    </table>

    <h3 id="sec20-2">20.2 Bonnes pratiques IA specifiques MYTHOS</h3>
    <table>
      <thead>
        <tr>
          <th>ID</th>
          <th>Bonne pratique</th>
          <th>Impact</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>BP-IA-01</td>
          <td><strong>Strategie duale LLM</strong> : Haiku (phases simples) + Sonnet (narration)</td>
          <td>Reduction 60% couts + empreinte GPU</td>
        </tr>
        <tr>
          <td>BP-IA-02</td>
          <td><strong>Prompts optimises</strong> : Concis, JSON compact, pas de tokens gaspilles</td>
          <td>Reduction 20% tokens par appel</td>
        </tr>
        <tr>
          <td>BP-IA-03</td>
          <td><strong>Cache reponses IA</strong> : Contextes initiaux caches (meme prompt = meme structure)</td>
          <td>30% appels IA en moins</td>
        </tr>
        <tr>
          <td>BP-IA-04</td>
          <td><strong>Limitation appels</strong> : Max 2 appels IA/tour (narration + resolution)</td>
          <td>Plafond previsible</td>
        </tr>
        <tr>
          <td>BP-IA-05</td>
          <td><strong>Historique resume</strong> : Resume condense au lieu de l'historique complet</td>
          <td>Reduction 40% tokens input</td>
        </tr>
      </tbody>
    </table>

    <h3 id="sec20-3">20.3 Strategie d'optimisation IA</h3>
    <div class="card">
      <table>
        <thead>
          <tr>
            <th></th>
            <th>AVANT optimisation</th>
            <th>APRES optimisation</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Appels IA / partie</td>
            <td>~15</td>
            <td>~10 (-33%)</td>
          </tr>
          <tr>
            <td>Modele</td>
            <td>Sonnet pour tout</td>
            <td>Haiku (setup) + Sonnet (narration)</td>
          </tr>
          <tr>
            <td>Tokens / partie</td>
            <td>~30K in + 10K out</td>
            <td>~18K in + 8K out (-40%)</td>
          </tr>
          <tr>
            <td>Cout / partie</td>
            <td>~0.15 USD</td>
            <td>~0.06 USD (-60%)</td>
          </tr>
        </tbody>
      </table>
    </div>

    <h3 id="sec20-4">20.4 KPIs environnementaux</h3>
    <table>
      <thead>
        <tr>
          <th>KPI</th>
          <th>Cible</th>
          <th>Outil</th>
          <th>Frequence</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Eco-index pages</td>
          <td>&gt; 50 /100</td>
          <td>GreenIT Analysis</td>
          <td>Chaque sprint</td>
        </tr>
        <tr>
          <td>Poids moyen pages</td>
          <td>&lt; 1 Mo</td>
          <td>Lighthouse</td>
          <td>Chaque deploiement</td>
        </tr>
        <tr>
          <td>Requetes HTTP / page</td>
          <td>&lt; 30</td>
          <td>Chrome DevTools</td>
          <td>Chaque deploiement</td>
        </tr>
        <tr>
          <td>Appels IA / partie</td>
          <td>&lt; 12</td>
          <td>Logs applicatifs</td>
          <td>Continu</td>
        </tr>
        <tr>
          <td>Cout IA moyen / partie</td>
          <td>&lt; 0.10 USD</td>
          <td>Dashboard Anthropic</td>
          <td>Hebdomadaire</td>
        </tr>
        <tr>
          <td>Bundle JS frontend</td>
          <td>&lt; 300 Ko (gzip)</td>
          <td>next build</td>
          <td>Chaque build</td>
        </tr>
        <tr>
          <td>LCP</td>
          <td>&lt; 2.5s</td>
          <td>Lighthouse</td>
          <td>Chaque deploiement</td>
        </tr>
      </tbody>
    </table>


    <!-- ---- SECTION 21 ---- -->
    <h2 id="sec21" class="section-break">21. Conformite WCAG 2.1 AA</h2>

    <h3 id="sec21-1">21.1 Principe 1 — Perceptible</h3>
    <table>
      <thead>
        <tr>
          <th>Critere</th>
          <th>Niv.</th>
          <th>Implementation MYTHOS</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>1.1.1</strong> Contenu non textuel</td>
          <td>A</td>
          <td>Attribut <code>alt</code> sur toutes les images. SVG avec <code>aria-label</code>.</td>
        </tr>
        <tr>
          <td><strong>1.3.1</strong> Info et relations</td>
          <td>A</td>
          <td>HTML semantique (<code>&lt;main&gt;</code>, <code>&lt;nav&gt;</code>, <code>&lt;article&gt;</code>).
            Titres hierarchiques h1→h6.</td>
        </tr>
        <tr>
          <td><strong>1.3.3</strong> Caracteristiques sensorielles</td>
          <td>A</td>
          <td>Jauges (DEEP) : labels textuels + barres colorees. Phases : texte + couleur + icone.</td>
        </tr>
        <tr>
          <td><strong>1.4.1</strong> Utilisation couleur</td>
          <td>A</td>
          <td>Jauges : couleur + label + pourcentage. Erreurs : texte + icone (pas juste du rouge).</td>
        </tr>
        <tr>
          <td><strong>1.4.3</strong> Contraste minimum</td>
          <td>AA</td>
          <td>Ratio 4.5:1 texte normal, 3:1 texte large. Theme sombre avec contrastes verifies.</td>
        </tr>
        <tr>
          <td><strong>1.4.4</strong> Redimensionnement texte</td>
          <td>AA</td>
          <td>Fonctionnel a zoom 200%. Tailles en <code>rem</code>.</td>
        </tr>
        <tr>
          <td><strong>1.4.10</strong> Reflow</td>
          <td>AA</td>
          <td>Responsive mobile-first. Pas de scroll horizontal a 320px.</td>
        </tr>
        <tr>
          <td><strong>1.4.11</strong> Contraste non-textuel</td>
          <td>AA</td>
          <td>Boutons, champs, jauges : contraste &gt;= 3:1 avec le fond.</td>
        </tr>
      </tbody>
    </table>

    <h3 id="sec21-2">21.2 Principe 2 — Utilisable</h3>
    <table>
      <thead>
        <tr>
          <th>Critere</th>
          <th>Niv.</th>
          <th>Implementation MYTHOS</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>2.1.1</strong> Clavier</td>
          <td>A</td>
          <td>Toutes actions au clavier : Tab, Entree/Espace, Echap. Boutons de choix navigables.</td>
        </tr>
        <tr>
          <td><strong>2.1.2</strong> Pas de piege clavier</td>
          <td>A</td>
          <td>Modales fermables par Echap. Chat quittable par Tab.</td>
        </tr>
        <tr>
          <td><strong>2.2.1</strong> Reglage du delai</td>
          <td>A</td>
          <td><strong>CRITIQUE :</strong> Timers extensibles. Option "Timers prolonges" (x2) dans le lobby.</td>
        </tr>
        <tr>
          <td><strong>2.2.2</strong> Mettre en pause</td>
          <td>A</td>
          <td>Streaming narration peut etre pause. Animations respectent <code>prefers-reduced-motion</code>.</td>
        </tr>
        <tr>
          <td><strong>2.4.1</strong> Contourner des blocs</td>
          <td>A</td>
          <td>Lien "Skip to main content". Landmarks ARIA pour les zones de jeu.</td>
        </tr>
        <tr>
          <td><strong>2.4.3</strong> Parcours du focus</td>
          <td>A</td>
          <td>Ordre Tab suit la logique visuelle. Focus deplace vers le contenu pertinent a chaque phase.</td>
        </tr>
        <tr>
          <td><strong>2.4.7</strong> Visibilite du focus</td>
          <td>AA</td>
          <td>Indicateur de focus visible (outline) sur tous les elements interactifs.</td>
        </tr>
      </tbody>
    </table>

    <h3 id="sec21-3">21.3 Principe 3 — Comprehensible</h3>
    <table>
      <thead>
        <tr>
          <th>Critere</th>
          <th>Niv.</th>
          <th>Implementation MYTHOS</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>3.1.1</strong> Langue de la page</td>
          <td>A</td>
          <td><code>lang="fr"</code> sur <code>&lt;html&gt;</code>.</td>
        </tr>
        <tr>
          <td><strong>3.2.3</strong> Navigation coherente</td>
          <td>AA</td>
          <td>Header et navigation identiques partout. Game UI coherente entre phases.</td>
        </tr>
        <tr>
          <td><strong>3.3.1</strong> Identification erreurs</td>
          <td>A</td>
          <td>Erreurs identifiees par message textuel clair (pas juste bordure rouge).</td>
        </tr>
        <tr>
          <td><strong>3.3.3</strong> Suggestion correction</td>
          <td>AA</td>
          <td>"L'email est deja utilise. Essayez de vous connecter."</td>
        </tr>
        <tr>
          <td><strong>3.3.4</strong> Prevention erreurs</td>
          <td>AA</td>
          <td>Confirmation avant actions irreversibles (quitter partie, lancer partie).</td>
        </tr>
      </tbody>
    </table>

    <h3 id="sec21-4">21.4 Principe 4 — Robuste</h3>
    <table>
      <thead>
        <tr>
          <th>Critere</th>
          <th>Niv.</th>
          <th>Implementation MYTHOS</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>4.1.2</strong> Nom, role, valeur</td>
          <td>A</td>
          <td>ARIA sur composants custom : <code>role</code>, <code>aria-label</code>, <code>aria-live</code>,
            <code>aria-valuenow</code> (jauges).</td>
        </tr>
        <tr>
          <td><strong>4.1.3</strong> Messages d'etat</td>
          <td>AA</td>
          <td><strong>CRITIQUE :</strong> Changements de phase annonces via <code>aria-live="polite"</code>. Timer &lt;
            10s : <code>aria-live="assertive"</code>. Messages prives : <code>role="alert"</code>.</td>
        </tr>
      </tbody>
    </table>

    <h3 id="sec21-5">21.5 Adaptations specifiques</h3>
    <table>
      <thead>
        <tr>
          <th>Type de handicap</th>
          <th>Adaptations MYTHOS</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>Deficiences visuelles</strong></td>
          <td>Compatibilite lecteur d'ecran (aria-live, labels), navigation clavier complete, contraste eleve (&gt;=
            4.5:1), jauges accessibles (<code>role="progressbar"</code> + <code>aria-valuenow</code>), zoom 200%</td>
        </tr>
        <tr>
          <td><strong>Deficiences motrices</strong></td>
          <td>Timers extensibles (x2), cibles de clic 44x44px minimum, pas d'action par mouvement, confirmation des
            choix avant soumission</td>
        </tr>
        <tr>
          <td><strong>Deficiences cognitives</strong></td>
          <td>Langage clair (instruit dans le prompt IA), feedback visuel immediat, historique consultable, regles
            accessibles a tout moment</td>
        </tr>
      </tbody>
    </table>

    <h3 id="sec21-6">21.6 Planning des tests d'accessibilite</h3>
    <table>
      <thead>
        <tr>
          <th>Sprint</th>
          <th>Action</th>
          <th>Outil</th>
          <th>Responsable</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Sprint 0</td>
          <td>Guidelines a11y dans le design system</td>
          <td>Figma</td>
          <td>Yassir</td>
        </tr>
        <tr>
          <td>Sprint 2</td>
          <td>Audit Lighthouse Accessibility (accueil, auth)</td>
          <td>Lighthouse</td>
          <td>Youri</td>
        </tr>
        <tr>
          <td>Sprint 3</td>
          <td>Audit WAVE (lobby, catalogue)</td>
          <td>WAVE</td>
          <td>Yassir</td>
        </tr>
        <tr>
          <td>Sprint 4</td>
          <td>Test navigation clavier Game UI + lecteur d'ecran</td>
          <td>VoiceOver</td>
          <td>Youri + Yassir</td>
        </tr>
        <tr>
          <td>Sprint 5</td>
          <td>Audit WCAG complet + rapport PDF pour RNCP</td>
          <td>axe DevTools</td>
          <td>Yassir + Youri</td>
        </tr>
        <tr>
          <td>Buffer</td>
          <td>Corrections finales si criteres non atteints</td>
          <td>—</td>
          <td>Toute l'equipe</td>
        </tr>
      </tbody>
    </table>


    <!-- ---- SECTION 22 ---- -->
    <h2 id="sec22" class="section-break">22. Conformite RGPD</h2>

    <h3 id="sec22-1">22.1 Registre de traitement (Article 30)</h3>
    <table>
      <thead>
        <tr>
          <th>ID</th>
          <th>Traitement</th>
          <th>Base legale</th>
          <th>Donnees</th>
          <th>Conservation</th>
          <th>Transfert UE</th>
          <th>Sous-traitant</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>T1</td>
          <td>Comptes utilisateurs</td>
          <td>Contrat (Art. 6.1.b)</td>
          <td>Pseudo, email, mdp (hashe)</td>
          <td>Duree compte + 3 mois</td>
          <td>Non</td>
          <td>—</td>
        </tr>
        <tr>
          <td>T2</td>
          <td>Sessions de jeu</td>
          <td>Contrat</td>
          <td>Role, choix, chat</td>
          <td>2h (Redis) / 6 mois (DB)</td>
          <td>Non</td>
          <td>—</td>
        </tr>
        <tr>
          <td>T3</td>
          <td>Generation narrative IA</td>
          <td>Contrat</td>
          <td>Pseudo, role, choix</td>
          <td>30j (Anthropic)</td>
          <td><strong>Oui (US)</strong></td>
          <td>Anthropic</td>
        </tr>
        <tr>
          <td>T4</td>
          <td>Statistiques</td>
          <td>Interet legitime (Art. 6.1.f)</td>
          <td>Donnees agregees</td>
          <td>12 mois</td>
          <td>Non</td>
          <td>—</td>
        </tr>
        <tr>
          <td>T5</td>
          <td>Logs techniques</td>
          <td>Interet legitime</td>
          <td>IP hashee, timestamps</td>
          <td>3 mois</td>
          <td>Non</td>
          <td>Railway</td>
        </tr>
      </tbody>
    </table>

    <h3 id="sec22-2">22.2 AIPD simplifiee — Traitement T3 (Generation IA)</h3>
    <p>Le traitement T3 est le plus sensible car il implique un transfert hors UE vers Anthropic (Etats-Unis).</p>
    <table>
      <thead>
        <tr>
          <th>Risque</th>
          <th>Probabilite</th>
          <th>Gravite</th>
          <th>Mesures de mitigation</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Identification joueur via prompts</td>
          <td>Faible</td>
          <td>Faible</td>
          <td>Seul le pseudonyme est envoye (pas d'email, pas d'IP)</td>
        </tr>
        <tr>
          <td>Fuite de donnees chez Anthropic</td>
          <td>Tres faible</td>
          <td>Moyen</td>
          <td>Anthropic SOC2, CCT, retention 30j max</td>
        </tr>
        <tr>
          <td>Utilisation pour entrainer le modele</td>
          <td>Faible</td>
          <td>Moyen</td>
          <td>API payante = pas de reutilisation (conditions Anthropic)</td>
        </tr>
        <tr>
          <td>Contenu genere revelant infos</td>
          <td>Tres faible</td>
          <td>Faible</td>
          <td>Prompt systeme interdit de reveler infos personnelles</td>
        </tr>
      </tbody>
    </table>
    <blockquote>
      <strong>Conclusion AIPD :</strong> Risque faible a modere. Les donnees transmises sont minimales (pseudonyme
      uniquement), le traitement est necessaire au fonctionnement du produit, et des mesures de protection adequates
      sont en place. Risque residuel acceptable.
    </blockquote>

    <h3 id="sec22-3">22.3 Gestion des sous-traitants</h3>
    <table>
      <thead>
        <tr>
          <th>Sous-traitant</th>
          <th>Service</th>
          <th>Donnees</th>
          <th>Localisation</th>
          <th>Certification</th>
          <th>DPA</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>Anthropic</strong></td>
          <td>API Claude (IA)</td>
          <td>Pseudos, roles, choix</td>
          <td>Etats-Unis</td>
          <td>SOC2 Type II</td>
          <td>Oui + CCT</td>
        </tr>
        <tr>
          <td><strong>Vercel</strong></td>
          <td>Frontend hosting</td>
          <td>IP (logs CDN)</td>
          <td>UE (CDG1)</td>
          <td>SOC2, ISO 27001</td>
          <td>Oui</td>
        </tr>
        <tr>
          <td><strong>Railway</strong></td>
          <td>Backend + PostgreSQL</td>
          <td>Toutes donnees app</td>
          <td>Etats-Unis</td>
          <td>SOC2</td>
          <td>Oui + CCT via GCP</td>
        </tr>
        <tr>
          <td><strong>Upstash</strong></td>
          <td>Redis (cache)</td>
          <td>Game state temp</td>
          <td>UE (Ireland)</td>
          <td>SOC2</td>
          <td>Oui</td>
        </tr>
      </tbody>
    </table>

    <h3 id="sec22-4">22.4 Droits des personnes (Articles 15-22)</h3>
    <table>
      <thead>
        <tr>
          <th>Droit</th>
          <th>Implementation technique</th>
          <th>Sprint</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>Acces (Art. 15)</strong></td>
          <td>Bouton "Demander mes donnees" → <code>GET /api/users/me/data-export</code> → JSON</td>
          <td>Sprint 4</td>
        </tr>
        <tr>
          <td><strong>Rectification (Art. 16)</strong></td>
          <td>Page "Mon profil" → <code>PATCH /api/users/me</code> (pseudo, email)</td>
          <td>Sprint 1</td>
        </tr>
        <tr>
          <td><strong>Effacement (Art. 17)</strong></td>
          <td>Bouton "Supprimer compte" → desactivation immediate → grace 30j → suppression CRON → anonymisation
            historique</td>
          <td>Sprint 5</td>
        </tr>
        <tr>
          <td><strong>Portabilite (Art. 20)</strong></td>
          <td>Bouton "Exporter" → <code>GET /api/users/me/data-export?format=json</code> → fichier JSON structure</td>
          <td>Sprint 4</td>
        </tr>
        <tr>
          <td><strong>Opposition (Art. 21)</strong></td>
          <td>Toggle "Desactiver stats" dans parametres → <code>analytics_opt_out: true</code></td>
          <td>Sprint 5</td>
        </tr>
      </tbody>
    </table>

    <h3 id="sec22-5">22.5 Politique de confidentialite (resume)</h3>
    <div class="card">
      <p><strong>Donnees collectees :</strong> Pseudonyme, email, mot de passe (hashe bcrypt), actions en jeu,
        statistiques anonymisees.</p>
      <p><strong>Donnees NON collectees :</strong> Nom reel, adresse postale, telephone, geolocalisation, donnees de
        paiement.</p>
      <p><strong>Partage :</strong> Pseudonyme + actions transmis a Anthropic (API IA) encadre par CCT. Jamais de vente
        de donnees.</p>
      <p><strong>Cookies :</strong> Uniquement techniques (JWT en localStorage). Aucun cookie
        tiers/tracking/publicitaire.</p>
      <p><strong>Contact RGPD :</strong> rgpd@mythos.game — Delai de reponse : 30 jours maximum.</p>
    </div>

    <h3 id="sec22-6">22.6 Actions RGPD par sprint</h3>
    <table>
      <thead>
        <tr>
          <th>Sprint</th>
          <th>Action</th>
          <th>Responsable</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Sprint 0</td>
          <td>Politique de minimisation des donnees + registre v1</td>
          <td>Kays</td>
        </tr>
        <tr>
          <td>Sprint 1</td>
          <td>Hashage bcrypt + draft politique confidentialite</td>
          <td>Samy + Kays</td>
        </tr>
        <tr>
          <td>Sprint 2</td>
          <td>Page "Politique de confidentialite" accessible</td>
          <td>Youri</td>
        </tr>
        <tr>
          <td>Sprint 3</td>
          <td>Verification DPA sous-traitants (Anthropic, Vercel, Railway)</td>
          <td>Kays</td>
        </tr>
        <tr>
          <td>Sprint 4</td>
          <td>Export donnees (portabilite) + endpoint API</td>
          <td>Samy</td>
        </tr>
        <tr>
          <td>Sprint 5</td>
          <td>Suppression compte + registre Art. 30 final + AIPD</td>
          <td>Samy + Kays</td>
        </tr>
        <tr>
          <td>Buffer</td>
          <td>Revue finale conformite RGPD</td>
          <td>Toute l'equipe</td>
        </tr>
      </tbody>
    </table>

    <h3 id="sec22-7">22.7 Matrice de tracabilite conformite</h3>
    <table>
      <thead>
        <tr>
          <th>Exigence reglementaire</th>
          <th>Section</th>
          <th>Sprint</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>RGPD Art. 5 — Principes de traitement</td>
          <td>22.1</td>
          <td>Sprint 0</td>
        </tr>
        <tr>
          <td>RGPD Art. 6 — Licéite du traitement</td>
          <td>22.1</td>
          <td>Sprint 0</td>
        </tr>
        <tr>
          <td>RGPD Art. 12-22 — Droits des personnes</td>
          <td>22.4</td>
          <td>Sprint 4-5</td>
        </tr>
        <tr>
          <td>RGPD Art. 25 — Privacy by design</td>
          <td>22.1-22.4</td>
          <td>Transversal</td>
        </tr>
        <tr>
          <td>RGPD Art. 28 — Sous-traitant</td>
          <td>22.3</td>
          <td>Sprint 3</td>
        </tr>
        <tr>
          <td>RGPD Art. 30 — Registre de traitement</td>
          <td>22.1</td>
          <td>Sprint 0-5</td>
        </tr>
        <tr>
          <td>RGPD Art. 35 — AIPD</td>
          <td>22.2</td>
          <td>Sprint 5</td>
        </tr>
        <tr>
          <td>WCAG 2.1 AA</td>
          <td>21.1-21.6</td>
          <td>Sprint 2-5</td>
        </tr>
        <tr>
          <td>RGAA 4.1</td>
          <td>21</td>
          <td>Sprint 5</td>
        </tr>
        <tr>
          <td>GreenIT — 115 BP</td>
          <td>20.1-20.4</td>
          <td>Transversal</td>
        </tr>
        <tr>
          <td>ANSSI — Hygiene securite</td>
          <td>17.4, 19</td>
          <td>Transversal</td>
        </tr>
      </tbody>
    </table>


    <!-- ---- SECTION 23 ---- -->
    <h2 id="sec23" class="section-break">23. Plan d'implementation et deploiement</h2>

    <h3 id="sec23-1">23.1 Strategie de deploiement progressive</h3>
    <p>Chaine de deploiement a 3 niveaux : <strong>LOCAL → STAGING → PRODUCTION</strong></p>
    <table>
      <thead>
        <tr>
          <th>Environnement</th>
          <th>Infrastructure</th>
          <th>Deploiement</th>
          <th>Activation</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>LOCAL</strong></td>
          <td>Docker Compose (PostgreSQL 16-alpine, Redis 7-alpine)</td>
          <td>Hot reload</td>
          <td>Sprint 0</td>
        </tr>
        <tr>
          <td><strong>STAGING</strong></td>
          <td>Vercel Preview + Railway staging</td>
          <td>Auto sur merge <code>staging</code></td>
          <td>Sprint 2</td>
        </tr>
        <tr>
          <td><strong>PRODUCTION</strong></td>
          <td>Vercel Prod + Railway prod</td>
          <td>Auto sur merge <code>main</code></td>
          <td>Sprint 3</td>
        </tr>
      </tbody>
    </table>
    <p style="margin-top:6px;">Staging : tests E2E automatiques + validation PO avant promotion. Production : health
      checks toutes les 5 min, rollback automatique si echec dans les 5 premieres minutes.</p>

    <h4>Progression par sprint</h4>
    <table>
      <thead>
        <tr>
          <th>Sprint</th>
          <th>LOCAL</th>
          <th>STAGING</th>
          <th>PRODUCTION</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Sprint 0-1</td>
          <td>Actif</td>
          <td>—</td>
          <td>—</td>
        </tr>
        <tr>
          <td>Sprint 2</td>
          <td>Actif</td>
          <td>Actif</td>
          <td>—</td>
        </tr>
        <tr>
          <td>Sprint 3-4</td>
          <td>Actif</td>
          <td>Actif</td>
          <td>Beta</td>
        </tr>
        <tr>
          <td>Sprint 5+</td>
          <td>Actif</td>
          <td>Actif</td>
          <td>Stable</td>
        </tr>
      </tbody>
    </table>

    <h3 id="sec23-2">23.2 Git Flow et conventions</h3>
    <table>
      <thead>
        <tr>
          <th>Branche</th>
          <th>Usage</th>
          <th>Protection</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><code>main</code></td>
          <td>Production</td>
          <td>2 reviews requises, CI verte</td>
        </tr>
        <tr>
          <td><code>staging</code></td>
          <td>Pre-production</td>
          <td>1 review requise, CI verte</td>
        </tr>
        <tr>
          <td><code>develop</code></td>
          <td>Integration</td>
          <td>1 review requise, CI verte</td>
        </tr>
        <tr>
          <td><code>feature/*</code></td>
          <td>Nouvelles fonctionnalites</td>
          <td>Squash merge vers develop</td>
        </tr>
        <tr>
          <td><code>bugfix/*</code></td>
          <td>Corrections de bugs</td>
          <td>Squash merge vers develop</td>
        </tr>
        <tr>
          <td><code>hotfix/*</code></td>
          <td>Corrections urgentes prod</td>
          <td>Merge vers main + develop</td>
        </tr>
        <tr>
          <td><code>release/*</code></td>
          <td>Preparation de release</td>
          <td>Merge commit vers main</td>
        </tr>
        <tr>
          <td><code>spike/*</code></td>
          <td>Exploration technique</td>
          <td>Ne merge jamais directement</td>
        </tr>
      </tbody>
    </table>
    <p style="margin-top:6px;"><strong>Convention de nommage :</strong> <code>feature/S2-06-game-loop-manager</code>
      (minuscules, tirets, inclure ID ticket). <strong>Commits :</strong> Conventional Commits v1.0.0 — 11 types :
      <code>feat</code>, <code>fix</code>, <code>docs</code>, <code>style</code>, <code>refactor</code>,
      <code>perf</code>, <code>test</code>, <code>build</code>, <code>ci</code>, <code>chore</code>,
      <code>revert</code>.</p>

    <h3 id="sec23-3">23.3 Pipeline CI/CD</h3>
    <p>4 workflows GitHub Actions :</p>

    <div class="card-grid">
      <div class="card">
        <div class="card-title">Workflow 1 — CI</div>
        <p><strong>Trigger :</strong> Push / PR sur develop, staging, main</p>
        <p>Lint (ESLint + Prettier) → Tests Backend (PostgreSQL + Redis services) → Tests Frontend (Vitest) → Build →
          Security Audit (npm audit + Snyk)</p>
      </div>
      <div class="card">
        <div class="card-title">Workflow 2 — Deploy Staging</div>
        <p><strong>Trigger :</strong> Merge sur staging</p>
        <p>CI complete → Deploy Backend Railway → Deploy Frontend Vercel → Tests E2E Playwright</p>
      </div>
      <div class="card">
        <div class="card-title">Workflow 3 — Deploy Production</div>
        <p><strong>Trigger :</strong> Merge sur main</p>
        <p>CI complete → Deploy Backend Railway prod → Prisma Migrate → Deploy Frontend Vercel --prod → Smoke Tests
          (health checks avec retry)</p>
      </div>
      <div class="card">
        <div class="card-title">Workflow 4 — Scheduled</div>
        <p><strong>Trigger :</strong> Cron quotidien 02:00 UTC</p>
        <p>npm audit → Lighthouse accessibility/perf → Rapport Discord webhook</p>
      </div>
    </div>

    <h3 id="sec23-4">23.4 Infrastructure as Code</h3>
    <div class="mermaid-container">
      <div class="mermaid">
        flowchart LR
        Browser["🌐 Browser"]
        Vercel["Vercel<br />Next.js Frontend"]
        Railway["Railway<br />NestJS Backend"]
        PG["PostgreSQL 16"]
        Redis["Upstash Redis"]
        Claude["Anthropic Claude API"]
        Monitor["UptimeRobot"]

        Browser -->|HTTPS| Vercel
        Browser -->|WSS| Railway
        Vercel -->|API Rewrite| Railway
        Railway -->|TCP| PG
        Railway -->|TLS| Redis
        Railway -->|HTTPS| Claude
        Monitor -->|Health Check| Vercel
        Monitor -->|Health Check| Railway
      </div>
    </div>

    <table>
      <thead>
        <tr>
          <th>Service</th>
          <th>Staging</th>
          <th>Production</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Railway Backend</td>
          <td>512 MB RAM, auto-sleep</td>
          <td>1 GB RAM, always-on</td>
        </tr>
        <tr>
          <td>Railway PostgreSQL</td>
          <td>1 GB storage</td>
          <td>5 GB storage</td>
        </tr>
        <tr>
          <td>Upstash Redis</td>
          <td>10K cmd/jour, 256 MB</td>
          <td>100K cmd/jour, 1 GB</td>
        </tr>
        <tr>
          <td>Vercel</td>
          <td>Preview deployments</td>
          <td>Production, CDG1 (Paris)</td>
        </tr>
      </tbody>
    </table>

    <h4>Variables d'environnement</h4>
    <table>
      <thead>
        <tr>
          <th>Categorie</th>
          <th>Variables</th>
          <th>Nombre</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Backend</td>
          <td>DATABASE_URL, REDIS_URL, JWT_SECRET, ANTHROPIC_API_KEY, PORT, NODE_ENV, CORS_ORIGIN...</td>
          <td>19</td>
        </tr>
        <tr>
          <td>Frontend</td>
          <td>NEXT_PUBLIC_API_URL, NEXT_PUBLIC_WS_URL, NEXT_PUBLIC_APP_URL...</td>
          <td>5</td>
        </tr>
        <tr>
          <td>CI/CD Secrets</td>
          <td>VERCEL_TOKEN, RAILWAY_TOKEN, SNYK_TOKEN, DISCORD_WEBHOOK...</td>
          <td>7</td>
        </tr>
      </tbody>
    </table>

    <h3 id="sec23-5">23.5 Plan de migration de donnees (Prisma)</h3>
    <table>
      <thead>
        <tr>
          <th>Sprint</th>
          <th>Migration</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Sprint 1</td>
          <td><code>init_schema</code></td>
          <td>Tables User, Player, Scenario, Session, Game (schema initial)</td>
        </tr>
        <tr>
          <td>Sprint 1</td>
          <td><code>seed_scenarios</code></td>
          <td>TRIBUNAL + DEEP scenario packs</td>
        </tr>
        <tr>
          <td>Sprint 2</td>
          <td><code>add_game_state</code></td>
          <td>GameState JSONB, phases, votes</td>
        </tr>
        <tr>
          <td>Sprint 3</td>
          <td><code>add_chat_history</code></td>
          <td>Messages, reactions, timestamps</td>
        </tr>
        <tr>
          <td>Sprint 4</td>
          <td><code>add_analytics</code></td>
          <td>GameAnalytics, PlayerStats</td>
        </tr>
        <tr>
          <td>Sprint 5</td>
          <td><code>add_admin</code></td>
          <td>AdminLog, FeatureFlag, AuditTrail</td>
        </tr>
      </tbody>
    </table>
    <p style="margin-top:6px;"><strong>Rollback :</strong> Jamais supprimer un fichier de migration. 3 cas : erreur de
      syntaxe (corriger et re-generer), application partielle (rollback manuel SQL), probleme de code (migration
      corrective).</p>
    <p><strong>Seeds :</strong> Admin user, 5 joueurs test (dev/staging uniquement), Scenario Packs TRIBUNAL et DEEP.
      Utilisation de <code>upsert</code> pour l'idempotence.</p>

    <h3 id="sec23-6">23.6 Feature Flags</h3>
    <table>
      <thead>
        <tr>
          <th>Flag</th>
          <th>Description</th>
          <th>Activation</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><code>AI_STREAMING</code></td>
          <td>Reponses IA en streaming temps reel</td>
          <td>Sprint 2</td>
        </tr>
        <tr>
          <td><code>SCENARIO_DEEP</code></td>
          <td>Scenario sous-marin DEEP</td>
          <td>Sprint 3</td>
        </tr>
        <tr>
          <td><code>ADMIN_PANEL</code></td>
          <td>Panneau d'administration</td>
          <td>Sprint 4</td>
        </tr>
        <tr>
          <td><code>RECONNECTION</code></td>
          <td>Reconnexion automatique WebSocket</td>
          <td>Sprint 4</td>
        </tr>
        <tr>
          <td><code>EXTENDED_TIMERS</code></td>
          <td>Timers ajustables par partie</td>
          <td>Sprint 5</td>
        </tr>
        <tr>
          <td><code>ANALYTICS</code></td>
          <td>Dashboard analytics joueur</td>
          <td>Sprint 5</td>
        </tr>
      </tbody>
    </table>
    <p style="margin-top:4px;">Processus : deployer desactive → tester en staging → PO valide → activer via API admin →
      monitorer → nettoyer le flag apres stabilisation.</p>

    <h3 id="sec23-7">23.7 Procedure de release production</h3>
    <h4>Pre-deploiement (checklist)</h4>
    <div class="card-grid">
      <div class="card">
        <div class="card-title">Tests</div>
        <p>Backend coverage &gt;60%, Frontend &gt;40%, 0 tests en echec, E2E valides sur staging</p>
      </div>
      <div class="card">
        <div class="card-title">Fonctionnel</div>
        <p>PO a valide sur staging, 5 flux critiques testes manuellement</p>
      </div>
      <div class="card">
        <div class="card-title">Infrastructure</div>
        <p>Variables d'env a jour, migrations pretes, certificats SSL valides</p>
      </div>
      <div class="card">
        <div class="card-title">Securite</div>
        <p>npm audit clean, rate limiting actif, headers de securite verifies</p>
      </div>
    </div>

    <h4>Procedure de deploiement</h4>
    <table>
      <thead>
        <tr>
          <th>Etape</th>
          <th>Action</th>
          <th>Responsable</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>T-30 min</td>
          <td>Annonce sur Discord #deployments</td>
          <td>Yassir (DevOps)</td>
        </tr>
        <tr>
          <td>T-15 min</td>
          <td>Verification finale staging</td>
          <td>Kays (PO)</td>
        </tr>
        <tr>
          <td>T-0</td>
          <td>Merge PR vers main</td>
          <td>Samy (SM)</td>
        </tr>
        <tr>
          <td>T+5 min</td>
          <td>Verification pipeline CI/CD</td>
          <td>Yassir</td>
        </tr>
        <tr>
          <td>T+10 min</td>
          <td>Smoke tests (health, WebSocket, IA, auth)</td>
          <td>Automatise</td>
        </tr>
        <tr>
          <td>T+15 min</td>
          <td>Verification manuelle 5 flux critiques</td>
          <td>Equipe</td>
        </tr>
        <tr>
          <td>T+20 min</td>
          <td>Confirmation + creation git tag <code>v1.x.x</code></td>
          <td>Yassir</td>
        </tr>
      </tbody>
    </table>

    <h4>Procedure de rollback</h4>
    <p><strong>Declencheurs :</strong> Smoke test echoue, health check KO, taux d'erreur &gt;5%</p>
    <table>
      <thead>
        <tr>
          <th>Composant</th>
          <th>Action</th>
          <th>Delai</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Frontend (Vercel)</td>
          <td>Rollback instantane via dashboard</td>
          <td>~30 secondes</td>
        </tr>
        <tr>
          <td>Backend (Railway)</td>
          <td>Rollback vers deployment precedent</td>
          <td>2-3 minutes</td>
        </tr>
        <tr>
          <td>Database</td>
          <td>Migration corrective (jamais de rollback destructif)</td>
          <td>5-10 minutes</td>
        </tr>
      </tbody>
    </table>
    <p><strong>Objectif :</strong> Rollback complet en &lt;10 minutes. Post-mortem obligatoire sous 24h.</p>

    <h3 id="sec23-8">23.8 Onboarding technique</h3>
    <p>Procedure en 8 etapes (~1.5-2h) pour tout nouveau membre :</p>
    <table>
      <thead>
        <tr>
          <th>#</th>
          <th>Etape</th>
          <th>Duree</th>
          <th>Prerequis</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>1</td>
          <td>Obtention des acces (GitHub, Discord, Railway, Vercel)</td>
          <td>5 min</td>
          <td>—</td>
        </tr>
        <tr>
          <td>2</td>
          <td>Infrastructure locale (Docker Compose)</td>
          <td>10 min</td>
          <td>Docker Desktop 4.x</td>
        </tr>
        <tr>
          <td>3</td>
          <td>Configuration backend (.env, Prisma)</td>
          <td>15 min</td>
          <td>Node.js 20.x</td>
        </tr>
        <tr>
          <td>4</td>
          <td>Configuration frontend (.env.local)</td>
          <td>10 min</td>
          <td>npm 10.x</td>
        </tr>
        <tr>
          <td>5</td>
          <td>Verification complete (backend + frontend + BDD)</td>
          <td>15 min</td>
          <td>Etapes 2-4</td>
        </tr>
        <tr>
          <td>6</td>
          <td>Configuration Git (hooks, GPG)</td>
          <td>5 min</td>
          <td>Git 2.40+</td>
        </tr>
        <tr>
          <td>7</td>
          <td>Decouverte du projet (architecture, conventions)</td>
          <td>30 min</td>
          <td>—</td>
        </tr>
        <tr>
          <td>8</td>
          <td>Premier ticket (bug mineur ou documentation)</td>
          <td>Variable</td>
          <td>Etapes 1-7</td>
        </tr>
      </tbody>
    </table>
    <p style="margin-top:6px;"><strong>Extensions VS Code recommandees :</strong> ESLint, Prettier, Prisma, Tailwind CSS
      IntelliSense, GitLens, Thunder Client, Docker.</p>


    <!-- ---- SECTION 24 ---- -->
    <h2 id="sec24" class="section-break">24. Tableaux de bord et reporting</h2>

    <h3 id="sec24-1">24.1 Dashboard Sprint (template)</h3>
    <p>Chaque sprint produit un dashboard structuré avec 10 sous-sections :</p>
    <div class="card-grid">
      <div class="card">
        <div class="card-title">Resume du sprint</div>
        <p>Dates, objectif, velocite realisee vs planifiee, % completion</p>
      </div>
      <div class="card">
        <div class="card-title">Burndown chart</div>
        <p>Courbe SP restants par jour, ligne ideale vs reelle</p>
      </div>
      <div class="card">
        <div class="card-title">Tickets realises</div>
        <p>Liste des tickets avec SP, assignee, statut (Done/In Progress)</p>
      </div>
      <div class="card">
        <div class="card-title">KPIs Projet</div>
        <p>PRJ-001 a PRJ-009 avec valeur, cible, zone couleur, tendance</p>
      </div>
      <div class="card">
        <div class="card-title">KPIs Produit</div>
        <p>PROD-001 a PROD-008 avec mesures, alertes</p>
      </div>
      <div class="card">
        <div class="card-title">KPIs Conformite</div>
        <p>CONF-001 a CONF-006, scores Lighthouse, Eco-index, RGPD</p>
      </div>
      <div class="card">
        <div class="card-title">Bugs</div>
        <p>Bugs decouverts/resolus ce sprint, severite, delai resolution</p>
      </div>
      <div class="card">
        <div class="card-title">Risques actifs</div>
        <p>Top risques avec probabilite, impact, actions en cours</p>
      </div>
      <div class="card">
        <div class="card-title">Budget</div>
        <p>Budget consomme vs planifie, CPI, budget restant</p>
      </div>
      <div class="card">
        <div class="card-title">Actions</div>
        <p>Points positifs, ameliorations, decisions, actions pour sprint suivant</p>
      </div>
    </div>

    <h3 id="sec24-2">24.2 Exemple : Dashboard Sprint 1 (donnees fictives realistes)</h3>
    <table>
      <thead>
        <tr>
          <th>Metrique</th>
          <th>Valeur</th>
          <th>Cible</th>
          <th>Zone</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Dates</td>
          <td>10/03/2026 — 21/03/2026</td>
          <td>—</td>
          <td>—</td>
        </tr>
        <tr>
          <td>Velocite</td>
          <td>24 SP</td>
          <td>22 SP</td>
          <td><span class="badge" style="background:#22c55e;">VERT</span> (+9.1%)</td>
        </tr>
        <tr>
          <td>Tickets livres</td>
          <td>6/7 (1 a 80%)</td>
          <td>7/7</td>
          <td><span class="badge" style="background:#f59e0b;">JAUNE</span> (85.7%)</td>
        </tr>
        <tr>
          <td>SPI</td>
          <td>1.09</td>
          <td>≥ 0.90</td>
          <td><span class="badge" style="background:#22c55e;">VERT</span></td>
        </tr>
        <tr>
          <td>CPI</td>
          <td>1.05</td>
          <td>≥ 0.90</td>
          <td><span class="badge" style="background:#22c55e;">VERT</span></td>
        </tr>
        <tr>
          <td>Lead Time median</td>
          <td>7 jours</td>
          <td>≤ 10j</td>
          <td><span class="badge" style="background:#22c55e;">VERT</span></td>
        </tr>
        <tr>
          <td>Cycle Time median</td>
          <td>2.5 jours</td>
          <td>≤ 3j</td>
          <td><span class="badge" style="background:#22c55e;">VERT</span></td>
        </tr>
        <tr>
          <td>Review Turnaround</td>
          <td>3h</td>
          <td>≤ 4h</td>
          <td><span class="badge" style="background:#22c55e;">VERT</span></td>
        </tr>
      </tbody>
    </table>

    <h4>Tickets Sprint 1</h4>
    <table>
      <thead>
        <tr>
          <th>ID</th>
          <th>Ticket</th>
          <th>SP</th>
          <th>Assignee</th>
          <th>Statut</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>MYTH-001</td>
          <td>Setup projet (monorepo, CI/CD, Docker)</td>
          <td>5</td>
          <td>Yassir</td>
          <td><span class="badge" style="background:#22c55e;">Done</span></td>
        </tr>
        <tr>
          <td>MYTH-002</td>
          <td>Schema BDD initial (Prisma)</td>
          <td>3</td>
          <td>Samy</td>
          <td><span class="badge" style="background:#22c55e;">Done</span></td>
        </tr>
        <tr>
          <td>MYTH-003</td>
          <td>Authentification JWT</td>
          <td>5</td>
          <td>Samy</td>
          <td><span class="badge" style="background:#22c55e;">Done</span></td>
        </tr>
        <tr>
          <td>MYTH-004</td>
          <td>Landing page</td>
          <td>3</td>
          <td>Youri</td>
          <td><span class="badge" style="background:#22c55e;">Done</span></td>
        </tr>
        <tr>
          <td>MYTH-005</td>
          <td>UI Login/Signup</td>
          <td>3</td>
          <td>Youri</td>
          <td><span class="badge" style="background:#22c55e;">Done</span></td>
        </tr>
        <tr>
          <td>MYTH-006</td>
          <td>Setup UptimeRobot</td>
          <td>2</td>
          <td>Yassir</td>
          <td><span class="badge" style="background:#22c55e;">Done</span></td>
        </tr>
        <tr>
          <td>MYTH-007</td>
          <td>Prototype IA (Claude API)</td>
          <td>5</td>
          <td>Samy</td>
          <td><span class="badge" style="background:#3b82f6;">80%</span></td>
        </tr>
      </tbody>
    </table>

    <h4>KPIs Produit Sprint 1</h4>
    <table>
      <thead>
        <tr>
          <th>KPI</th>
          <th>Valeur</th>
          <th>Zone</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>AI Response P50</td>
          <td>1850 ms</td>
          <td><span class="badge" style="background:#22c55e;">VERT</span></td>
        </tr>
        <tr>
          <td>AI Response P95</td>
          <td>4200 ms</td>
          <td><span class="badge" style="background:#22c55e;">VERT</span></td>
        </tr>
        <tr>
          <td>LCP</td>
          <td>2.1s</td>
          <td><span class="badge" style="background:#22c55e;">VERT</span></td>
        </tr>
        <tr>
          <td>INP</td>
          <td>120 ms</td>
          <td><span class="badge" style="background:#22c55e;">VERT</span></td>
        </tr>
        <tr>
          <td>CLS</td>
          <td>0.05</td>
          <td><span class="badge" style="background:#22c55e;">VERT</span></td>
        </tr>
        <tr>
          <td>Uptime</td>
          <td>99.8%</td>
          <td><span class="badge" style="background:#22c55e;">VERT</span></td>
        </tr>
        <tr>
          <td>AI Error Rate</td>
          <td>8.2%</td>
          <td><span class="badge" style="background:#f59e0b;">JAUNE</span></td>
        </tr>
        <tr>
          <td>Test Coverage BE</td>
          <td>52%</td>
          <td><span class="badge" style="background:#f59e0b;">JAUNE</span></td>
        </tr>
        <tr>
          <td>Test Coverage FE</td>
          <td>35%</td>
          <td><span class="badge" style="background:#f59e0b;">JAUNE</span></td>
        </tr>
        <tr>
          <td>Lighthouse Accessibility</td>
          <td>92/100</td>
          <td><span class="badge" style="background:#22c55e;">VERT</span></td>
        </tr>
        <tr>
          <td>WAVE Errors</td>
          <td>1</td>
          <td><span class="badge" style="background:#f59e0b;">JAUNE</span></td>
        </tr>
        <tr>
          <td>Eco-index</td>
          <td>B (62/100)</td>
          <td><span class="badge" style="background:#22c55e;">VERT</span></td>
        </tr>
        <tr>
          <td>Poids page</td>
          <td>380 Ko</td>
          <td><span class="badge" style="background:#22c55e;">VERT</span></td>
        </tr>
      </tbody>
    </table>

    <h4>Budget Sprint 1</h4>
    <table>
      <thead>
        <tr>
          <th>Poste</th>
          <th>Depense</th>
          <th>Planifie</th>
          <th>Ecart</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>API Anthropic</td>
          <td>18.50 EUR</td>
          <td>20 EUR</td>
          <td>-7.5%</td>
        </tr>
        <tr>
          <td>Hosting</td>
          <td>0 EUR</td>
          <td>0 EUR</td>
          <td>—</td>
        </tr>
        <tr>
          <td>Divers</td>
          <td>6 EUR</td>
          <td>12 EUR</td>
          <td>-50%</td>
        </tr>
        <tr>
          <td><strong>Total Sprint 1</strong></td>
          <td><strong>24.50 EUR</strong></td>
          <td><strong>32 EUR</strong></td>
          <td><span class="badge" style="background:#22c55e;">-23.4%</span></td>
        </tr>
        <tr>
          <td><strong>Budget restant</strong></td>
          <td colspan="3"><strong>283.50 EUR / 308 EUR</strong></td>
        </tr>
      </tbody>
    </table>

    <h4>Bugs Sprint 1</h4>
    <table>
      <thead>
        <tr>
          <th>ID</th>
          <th>Bug</th>
          <th>Severite</th>
          <th>Delai resolution</th>
          <th>Statut</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>MYTH-BUG-001</td>
          <td>Token JWT non invalide a la deconnexion</td>
          <td>Majeur</td>
          <td>2 jours</td>
          <td>Resolu</td>
        </tr>
        <tr>
          <td>MYTH-BUG-002</td>
          <td>Erreur 500 email duplique</td>
          <td>Mineur</td>
          <td>0.5 jour</td>
          <td>Resolu</td>
        </tr>
        <tr>
          <td>MYTH-BUG-003</td>
          <td>Contraste footer insuffisant</td>
          <td>Mineur</td>
          <td>—</td>
          <td>Ouvert</td>
        </tr>
      </tbody>
    </table>

    <h4>Retrospective Sprint 1</h4>
    <div class="card-grid">
      <div class="card" style="border-left:3px solid #22c55e;">
        <div class="card-title">START</div>
        <p>TDD light pour les services critiques (auth, AI). Audit Lighthouse avant chaque merge. RGPD dans la
          Definition of Done.</p>
      </div>
      <div class="card" style="border-left:3px solid #ef4444;">
        <div class="card-title">STOP</div>
        <p>Sous-estimer les tickets IA (prevoir +30% de SP). Reporter les bugs mineurs (les traiter dans le sprint).</p>
      </div>
      <div class="card" style="border-left:3px solid #3b82f6;">
        <div class="card-title">CONTINUE</div>
        <p>Daily standups async avant 10h. Code reviews rapides (&lt;4h). Pair programming sur les sujets complexes.</p>
      </div>
    </div>
    <p style="margin-top:6px;"><strong>Moral equipe :</strong> 4/5 — <strong>Confiance Sprint 2 :</strong> Haute</p>

    <h3 id="sec24-3">24.3 Dashboard mensuel</h3>
    <p>Le dashboard mensuel couvre 2 sprints et inclut :</p>
    <table>
      <thead>
        <tr>
          <th>Section</th>
          <th>Contenu</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Avancement global</td>
          <td>Barre de progression + avancement par Epic (7 epics)</td>
        </tr>
        <tr>
          <td>Courbe de velocite</td>
          <td>Graphique comparatif sprints 1-7, tendance</td>
        </tr>
        <tr>
          <td>Budget cumulatif</td>
          <td>Graphique depenses cumulees + CPI par sprint</td>
        </tr>
        <tr>
          <td>Synthese KPIs produit</td>
          <td>Resume mensuel des metriques produit</td>
        </tr>
        <tr>
          <td>Risques actualises</td>
          <td>Matrice mise a jour probabilite × impact</td>
        </tr>
        <tr>
          <td>Conformite</td>
          <td>Resume scores accessibilite, eco-index, RGPD</td>
        </tr>
        <tr>
          <td>Communication</td>
          <td>Messages cles pour les parties prenantes</td>
        </tr>
      </tbody>
    </table>

    <h3 id="sec24-4">24.4 Rapport de Sprint Review (template)</h3>
    <p>Structure : Participants → Rappel objectif sprint → Demonstration fonctionnalites (avec statut acceptation) →
      Etat du Product Backlog (ajouts / retraits / re-priorisations) → Feedback parties prenantes → Adaptation plan
      (tickets sprint suivant) → Decisions.</p>

    <h3 id="sec24-5">24.5 Rapport hebdomadaire (template)</h3>
    <p>Format synthetique (3 pages max) : Resume executif (3 lignes) → Realisations de la semaine → Indicateurs cles (5
      metriques) → Bloqueurs / Besoins → Echeances a venir.</p>

    <h3 id="sec24-6">24.6 Volume de communication prevu</h3>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Frequence</th>
          <th>Total (14 semaines)</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Daily standups async</td>
          <td>Quotidien</td>
          <td>~70</td>
        </tr>
        <tr>
          <td>Rapports hebdomadaires</td>
          <td>Hebdomadaire</td>
          <td>14</td>
        </tr>
        <tr>
          <td>Sprint Plannings</td>
          <td>Bi-hebdo</td>
          <td>7</td>
        </tr>
        <tr>
          <td>Sprint Reviews</td>
          <td>Bi-hebdo</td>
          <td>7</td>
        </tr>
        <tr>
          <td>Retrospectives</td>
          <td>Bi-hebdo</td>
          <td>7</td>
        </tr>
        <tr>
          <td>COPIL</td>
          <td>Mensuel</td>
          <td>4</td>
        </tr>
        <tr>
          <td>Tech Reviews</td>
          <td>Hebdomadaire</td>
          <td>14</td>
        </tr>
        <tr>
          <td><strong>TOTAL</strong></td>
          <td>—</td>
          <td><strong>~123 communications</strong></td>
        </tr>
      </tbody>
    </table>


    <!-- ---- SECTION 25 ---- -->
    <h2 id="sec25" class="section-break">25. Communication parties prenantes</h2>

    <h3 id="sec25-1">25.1 Identification des parties prenantes</h3>
    <h4>Grille Pouvoir / Interet</h4>
    <table>
      <thead>
        <tr>
          <th></th>
          <th>Interet faible</th>
          <th>Interet eleve</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>Pouvoir eleve</strong></td>
          <td>—</td>
          <td>Superviseur academique, Jury</td>
        </tr>
        <tr>
          <td><strong>Pouvoir faible</strong></td>
          <td>—</td>
          <td>Client fictif (Mythos Interactive), Equipe dev</td>
        </tr>
      </tbody>
    </table>

    <h4>Fiches parties prenantes</h4>
    <div class="card-grid">
      <div class="card">
        <div class="card-title">Client fictif — Mythos Interactive</div>
        <p><strong>Attentes :</strong> MVP fonctionnel avec 2 scenarios jouables, plateforme stable, latence &lt;200ms,
          IA &lt;5s, budget ~300 EUR, delai 14 semaines.</p>
        <p><strong>Communication :</strong> Sprint Reviews + rapports bi-hebdomadaires ecrits.</p>
      </div>
      <div class="card">
        <div class="card-title">Superviseur academique</div>
        <p><strong>Attentes :</strong> Methodologie Scrum, competences RNCP C1.1-C1.7, livrables de qualite, progression
          mesurable.</p>
        <p><strong>Communication :</strong> Rapports hebdomadaires + Sprint Reviews + COPIL. Transparence totale.</p>
      </div>
      <div class="card">
        <div class="card-title">Jury de soutenance</div>
        <p><strong>Attentes :</strong> Maitrise demontree C1.1-C1.7, livrables complets, capacite a defendre les choix.
        </p>
        <p><strong>Communication :</strong> 10 min collectif + 20 min individuel.</p>
      </div>
      <div class="card">
        <div class="card-title">Equipe de developpement</div>
        <p><strong>Attentes :</strong> Objectifs clairs, specs/mockups disponibles avant dev, communication fluide,
          feedback regulier.</p>
        <p><strong>Communication :</strong> Continue via Discord + GitHub + Notion.</p>
      </div>
    </div>

    <h3 id="sec25-2">25.2 Plan de communication detaille</h3>
    <table>
      <thead>
        <tr>
          <th>Communication</th>
          <th>Frequence</th>
          <th>Canal</th>
          <th>Emetteur</th>
          <th>Destinataires</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Daily standup async</td>
          <td>Quotidien avant 10h</td>
          <td>Discord #daily</td>
          <td>Chaque dev</td>
          <td>Equipe</td>
        </tr>
        <tr>
          <td>Rapport hebdomadaire</td>
          <td>Vendredi</td>
          <td>Notion</td>
          <td>SM (Samy)</td>
          <td>Superviseur</td>
        </tr>
        <tr>
          <td>Sprint Planning</td>
          <td>Debut de sprint</td>
          <td>Discord vocal</td>
          <td>SM (Samy)</td>
          <td>Equipe</td>
        </tr>
        <tr>
          <td>Sprint Review</td>
          <td>Fin de sprint</td>
          <td>Discord vocal</td>
          <td>PO (Kays)</td>
          <td>Equipe + Superviseur + Client</td>
        </tr>
        <tr>
          <td>Retrospective</td>
          <td>Apres Review</td>
          <td>Discord vocal</td>
          <td>SM (Samy)</td>
          <td>Equipe uniquement</td>
        </tr>
        <tr>
          <td>COPIL</td>
          <td>Mensuel</td>
          <td>Visioconference</td>
          <td>PO (Kays)</td>
          <td>Superviseur + Client + Equipe</td>
        </tr>
        <tr>
          <td>Tech Review</td>
          <td>Mercredi</td>
          <td>Discord vocal</td>
          <td>Architecte (Kays)</td>
          <td>Equipe</td>
        </tr>
        <tr>
          <td>Notification risque</td>
          <td>Sur evenement</td>
          <td>Discord + Email</td>
          <td>PO/SM</td>
          <td>Selon severite</td>
        </tr>
        <tr>
          <td>Changement de scope</td>
          <td>Sur evenement</td>
          <td>Notion + Discord</td>
          <td>PO</td>
          <td>Superviseur + Client</td>
        </tr>
        <tr>
          <td>Alerte production</td>
          <td>Sur evenement</td>
          <td>Discord #alerts</td>
          <td>Automatise / DevOps</td>
          <td>Equipe</td>
        </tr>
        <tr>
          <td>Sprint closure report</td>
          <td>Fin de sprint</td>
          <td>Notion</td>
          <td>SM</td>
          <td>Superviseur + Client</td>
        </tr>
        <tr>
          <td>Rapport final projet</td>
          <td>Fin de projet</td>
          <td>Document PDF</td>
          <td>PO + SM</td>
          <td>Jury</td>
        </tr>
      </tbody>
    </table>

    <h3 id="sec25-3">25.3 Gestion des conflits</h3>
    <h4>Types de conflits identifies</h4>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Exemple MYTHOS</th>
          <th>Resolution</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Technique</td>
          <td>Desaccord WebSocket vs SSE pour le temps reel</td>
          <td>ADR avec vote formel</td>
        </tr>
        <tr>
          <td>Organisationnel</td>
          <td>Retard sur les specs bloquant le frontend</td>
          <td>Pair planning + buffer dans le sprint</td>
        </tr>
        <tr>
          <td>Interpersonnel</td>
          <td>Frustration sur la qualite des code reviews</td>
          <td>Mediation 1:1 + regles de feedback</td>
        </tr>
        <tr>
          <td>Scope</td>
          <td>Client demande une fonctionnalite non prevue</td>
          <td>Change Request formelle + analyse d'impact</td>
        </tr>
      </tbody>
    </table>

    <h4>Processus de resolution en 5 etapes</h4>
    <div class="mermaid-container">
      <div class="mermaid">
        flowchart LR
        D["1. Detection<br />Signal faible identifie"]
        E["2. Ecoute<br />1:1, 10 min max"]
        M["3. Mediation<br />Echange structure"]
        ES["4. Escalade<br />Superviseur academique"]
        S["5. Suivi<br />Verification resolution"]
        D --> E --> M --> ES --> S
      </div>
    </div>
    <p><strong>Communication Non Violente (CNV) :</strong> Methode Marshall Rosenberg en 4 etapes — Observation
      factuelle → Sentiment → Besoin → Demande concrete.</p>

    <h4>Regles de communication equipe</h4>
    <div class="card-grid">
      <div class="card">
        <div class="card-title">Pas de blame</div>
        <p>Critiquer le code, pas la personne</p>
      </div>
      <div class="card">
        <div class="card-title">Feedback constructif</div>
        <p>"Je suggere..." plutot que "C'est nul..."</p>
      </div>
      <div class="card">
        <div class="card-title">Transparence</div>
        <p>Partager blocages et doutes sans crainte</p>
      </div>
      <div class="card">
        <div class="card-title">Ecoute active</div>
        <p>Laisser finir avant de repondre</p>
      </div>
      <div class="card">
        <div class="card-title">Reponse async</div>
        <p>Delai max 2h sur Discord</p>
      </div>
      <div class="card">
        <div class="card-title">Celebrer les succes</div>
        <p>Reconnaitre les accomplissements de l'equipe</p>
      </div>
    </div>

    <h3 id="sec25-4">25.4 Preparation de la soutenance</h3>
    <h4>Presentation collective (10 min, non notee)</h4>
    <table>
      <thead>
        <tr>
          <th>Slide</th>
          <th>Contenu</th>
          <th>Duree</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>1</td>
          <td>Titre, equipe, logo MYTHOS</td>
          <td>30s</td>
        </tr>
        <tr>
          <td>2</td>
          <td>Problematique — manque d'immersion dans les jeux sociaux</td>
          <td>1 min</td>
        </tr>
        <tr>
          <td>3</td>
          <td>Solution MYTHOS — plateforme IA narrative multijoueur</td>
          <td>1 min</td>
        </tr>
        <tr>
          <td>4</td>
          <td>Scenarios TRIBUNAL et DEEP</td>
          <td>1 min</td>
        </tr>
        <tr>
          <td>5</td>
          <td>Architecture technique (diagramme simplifie)</td>
          <td>1 min</td>
        </tr>
        <tr>
          <td>6</td>
          <td>Methodologie Scrum appliquee</td>
          <td>1 min</td>
        </tr>
        <tr>
          <td>7-8</td>
          <td><strong>Demo live</strong> — partie TRIBUNAL avec IA</td>
          <td>3 min</td>
        </tr>
        <tr>
          <td>9</td>
          <td>Resultats KPIs (velocite, couverture, performance)</td>
          <td>1 min</td>
        </tr>
        <tr>
          <td>10</td>
          <td>Lecons apprises et remerciements</td>
          <td>30s</td>
        </tr>
      </tbody>
    </table>

    <h4>Presentation individuelle (20 min, notee RNCP)</h4>
    <table>
      <thead>
        <tr>
          <th>Partie</th>
          <th>Competence RNCP</th>
          <th>Contenu</th>
          <th>Duree</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>1</td>
          <td>Introduction</td>
          <td>Contexte, role dans l'equipe, objectifs personnels</td>
          <td>1 min</td>
        </tr>
        <tr>
          <td>2</td>
          <td>C1.1 — Faisabilite</td>
          <td>Analyse marche, benchmark, GO/NO-GO, SWOT</td>
          <td>3 min</td>
        </tr>
        <tr>
          <td>3</td>
          <td>C1.2 — Veille</td>
          <td>Axes de veille, outils, processus, resultats</td>
          <td>2 min</td>
        </tr>
        <tr>
          <td>4</td>
          <td>C1.3 — Conception technique</td>
          <td>Architecture, ADR, modele de donnees</td>
          <td>3 min</td>
        </tr>
        <tr>
          <td>5</td>
          <td>C1.4 — Planification</td>
          <td>Backlog, sprints, Gantt, gestion budget</td>
          <td>3 min</td>
        </tr>
        <tr>
          <td>6</td>
          <td>C1.5 — Risques</td>
          <td>Matrice, mitigations, problemes resolus</td>
          <td>2 min</td>
        </tr>
        <tr>
          <td>7</td>
          <td>C1.6 — KPI</td>
          <td>Definitions, tableaux de bord, resultats</td>
          <td>2 min</td>
        </tr>
        <tr>
          <td>8</td>
          <td>C1.7 — Supervision</td>
          <td>Gouvernance, ceremonies, ajustements</td>
          <td>3 min</td>
        </tr>
        <tr>
          <td>9</td>
          <td>Conclusion</td>
          <td>Bilan, perspectives V2, merci</td>
          <td>1 min</td>
        </tr>
      </tbody>
    </table>

    <h4>10 questions anticipees du jury</h4>
    <table>
      <thead>
        <tr>
          <th>#</th>
          <th>Question</th>
          <th>Elements de reponse</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>1</td>
          <td>Comment avez-vous valide la faisabilite IA ?</td>
          <td>POC Sprint 0, prototype Claude API avec metriques (latence, coherence, cout)</td>
        </tr>
        <tr>
          <td>2</td>
          <td>Pourquoi Claude plutot que GPT-4 ?</td>
          <td>Context 200k vs 128k, qualite roleplay superieure, credit etudiant, ADR-003 documente</td>
        </tr>
        <tr>
          <td>3</td>
          <td>Comment garantissez-vous l'accessibilite ?</td>
          <td>WCAG 2.1 AA, Lighthouse ≥90, WAVE 0 erreurs, audit Sprint 4 + Sprint 7</td>
        </tr>
        <tr>
          <td>4</td>
          <td>Que faire si l'IA genere du contenu incoherent ?</td>
          <td>Retry avec prompt simplifie, fallback Haiku, validation JSON schema, moderation automatique</td>
        </tr>
        <tr>
          <td>5</td>
          <td>Comment avez-vous gere un retard de planning ?</td>
          <td>Scenario d'ajustement predifini, reduction scope sprint (Must Have only), communication immediate</td>
        </tr>
        <tr>
          <td>6</td>
          <td>Quelle est votre strategie de test ?</td>
          <td>Pyramide : unitaires (Jest) → integration (Supertest) → E2E (Playwright), couverture ciblee par module
          </td>
        </tr>
        <tr>
          <td>7</td>
          <td>Comment protegez-vous les donnees personnelles ?</td>
          <td>RGPD by design, registre Art.30, AIPD, consentement explicite, droit a l'oubli implemente</td>
        </tr>
        <tr>
          <td>8</td>
          <td>Quel est votre mecanisme de rollback ?</td>
          <td>Vercel instantane, Railway 2-3 min, migration corrective DB, objectif &lt;10 min total</td>
        </tr>
        <tr>
          <td>9</td>
          <td>Comment mesurez-vous la satisfaction joueur ?</td>
          <td>Taux completion ≥80%, NPS ≥40, rating in-app ≥3.5/5, analytics de session</td>
        </tr>
        <tr>
          <td>10</td>
          <td>Que feriez-vous differemment ?</td>
          <td>Plus de prototypage IA en Sprint 0, TDD des le debut, meilleure estimation tickets IA</td>
        </tr>
      </tbody>
    </table>

    <h3 id="sec25-5">25.5 Matrice competences RNCP → Preuves</h3>
    <table>
      <thead>
        <tr>
          <th>Competence</th>
          <th>Criteres</th>
          <th>Livrables / Preuves</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>C1.1 — Faisabilite</td>
          <td>Etude de marche, benchmark, analyse financiere</td>
          <td>ETUDE_FAISABILITE.md, BENCHMARK_CONCURRENTIEL.md, BUDGET_RESSOURCES.md</td>
        </tr>
        <tr>
          <td>C1.2 — Veille</td>
          <td>Axes de veille, outils, processus</td>
          <td>PLAN_VEILLE.md, fiches de veille, tableau comparatif</td>
        </tr>
        <tr>
          <td>C1.3 — Conception</td>
          <td>Architecture, choix techniques, modele donnees</td>
          <td>SPECIFICATIONS_TECHNIQUES.md, ADR_DECISIONS.md, diagrammes Mermaid</td>
        </tr>
        <tr>
          <td>C1.4 — Planification</td>
          <td>Backlog, planning, budget</td>
          <td>BACKLOG_DETAILLE.md, BUDGET_RESSOURCES.md, Gantt</td>
        </tr>
        <tr>
          <td>C1.5 — Risques</td>
          <td>Identification, analyse, mitigation</td>
          <td>ANALYSE_RISQUES.md, registre des risques, post-mortems</td>
        </tr>
        <tr>
          <td>C1.6 — KPI</td>
          <td>Definition, mesure, tableaux de bord</td>
          <td>KPI_DEFINITIONS.md, TABLEAUX_DE_BORD.md, dashboards sprint</td>
        </tr>
        <tr>
          <td>C1.7 — Supervision</td>
          <td>Gouvernance, ceremonies, ajustements</td>
          <td>SUPERVISION_PROJET.md, COMMUNICATION_PARTIES_PRENANTES.md, registre ajustements</td>
        </tr>
      </tbody>
    </table>


    <!-- ---- SECTION 26 ---- -->
    <h2 id="sec26" class="section-break">26. Supervision et pilotage du projet</h2>

    <h3 id="sec26-1">26.1 Gouvernance du projet</h3>
    <h4>Organisation</h4>
    <div class="mermaid-container">
      <div class="mermaid">
        flowchart TD
        COPIL["COPIL<br />Superviseur + Client"]
        PO["PO — Kays ZAHIDI<br />Vision, Backlog, Validation"]
        SM["SM — Samy ZEROUALI<br />Backend, IA, Ceremonies"]
        FE["Frontend — Youri EMMANUEL<br />UI/UX, Composants"]
        DO["DevOps — Yassir SABBAR<br />CI/CD, Infra, UX"]

        COPIL --> PO
        PO --> SM
        PO --> FE
        PO --> DO
      </div>
    </div>

    <h4>Matrice RACI des activites</h4>
    <table>
      <thead>
        <tr>
          <th>Activite</th>
          <th>Kays (PO)</th>
          <th>Samy (SM)</th>
          <th>Youri (FE)</th>
          <th>Yassir (DevOps)</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Vision et backlog produit</td>
          <td>R/A</td>
          <td>C</td>
          <td>C</td>
          <td>C</td>
        </tr>
        <tr>
          <td>Decisions architecture</td>
          <td>R</td>
          <td>R</td>
          <td>C</td>
          <td>C</td>
        </tr>
        <tr>
          <td>Ceremonies Scrum</td>
          <td>C</td>
          <td>R/A</td>
          <td>C</td>
          <td>C</td>
        </tr>
        <tr>
          <td>Suivi KPIs</td>
          <td>A</td>
          <td>R</td>
          <td>I</td>
          <td>C</td>
        </tr>
        <tr>
          <td>Developpement frontend</td>
          <td>A</td>
          <td>C</td>
          <td>R</td>
          <td>C</td>
        </tr>
        <tr>
          <td>Developpement backend</td>
          <td>A</td>
          <td>R</td>
          <td>I</td>
          <td>C</td>
        </tr>
        <tr>
          <td>Service IA (Claude)</td>
          <td>I</td>
          <td>R/A</td>
          <td>I</td>
          <td>C</td>
        </tr>
        <tr>
          <td>WebSocket Gateway</td>
          <td>I</td>
          <td>R</td>
          <td>C</td>
          <td>I</td>
        </tr>
        <tr>
          <td>Mockups UI/UX</td>
          <td>A</td>
          <td>C</td>
          <td>C</td>
          <td>R</td>
        </tr>
        <tr>
          <td>CI/CD et infrastructure</td>
          <td>I</td>
          <td>C</td>
          <td>I</td>
          <td>R/A</td>
        </tr>
        <tr>
          <td>Accessibilite</td>
          <td>A</td>
          <td>C</td>
          <td>R</td>
          <td>R</td>
        </tr>
        <tr>
          <td>Tests E2E</td>
          <td>A</td>
          <td>R</td>
          <td>R</td>
          <td>C</td>
        </tr>
        <tr>
          <td>Communication superviseur</td>
          <td>R</td>
          <td>R</td>
          <td>I</td>
          <td>I</td>
        </tr>
        <tr>
          <td>Documentation</td>
          <td>A</td>
          <td>R</td>
          <td>C</td>
          <td>C</td>
        </tr>
      </tbody>
    </table>

    <h3 id="sec26-2">26.2 Instances de pilotage</h3>
    <table>
      <thead>
        <tr>
          <th>Instance</th>
          <th>Frequence</th>
          <th>Duree</th>
          <th>Anime par</th>
          <th>Livrables</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Daily Standup (async)</td>
          <td>Quotidien</td>
          <td>5 min</td>
          <td>SM (Samy)</td>
          <td>Messages Discord avant 10h, bloqueurs identifies</td>
        </tr>
        <tr>
          <td>Sprint Planning</td>
          <td>Bi-hebdo</td>
          <td>1-1.5h</td>
          <td>SM</td>
          <td>Sprint Backlog valide, objectif formule</td>
        </tr>
        <tr>
          <td>Sprint Review</td>
          <td>Bi-hebdo</td>
          <td>30-45 min</td>
          <td>PO (Kays)</td>
          <td>CR Review, stories validees, feedback documente</td>
        </tr>
        <tr>
          <td>Retrospective</td>
          <td>Bi-hebdo</td>
          <td>30 min</td>
          <td>SM</td>
          <td>Start/Stop/Continue, 2-3 actions d'amelioration</td>
        </tr>
        <tr>
          <td>COPIL</td>
          <td>Mensuel</td>
          <td>30-45 min</td>
          <td>PO</td>
          <td>Revue strategique, decisions majeures, revue risques</td>
        </tr>
        <tr>
          <td>Tech Review</td>
          <td>Hebdo (mercredi)</td>
          <td>15-30 min</td>
          <td>Architecte (Kays)</td>
          <td>Decisions techniques, dette identifiee</td>
        </tr>
      </tbody>
    </table>

    <h4>Circuit de decision</h4>
    <table>
      <thead>
        <tr>
          <th>Type de decision</th>
          <th>Decideur</th>
          <th>Consultes</th>
          <th>Delai max</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Scope produit</td>
          <td>PO (Kays)</td>
          <td>Client, SM</td>
          <td>Sprint Planning</td>
        </tr>
        <tr>
          <td>Choix technique</td>
          <td>Architecte (Kays) + Lead dev (Samy)</td>
          <td>Equipe</td>
          <td>Tech Review</td>
        </tr>
        <tr>
          <td>Planning / sprint</td>
          <td>SM (Samy)</td>
          <td>PO, Equipe</td>
          <td>Sprint Planning</td>
        </tr>
        <tr>
          <td>Budget</td>
          <td>PO (Kays)</td>
          <td>SM</td>
          <td>COPIL</td>
        </tr>
        <tr>
          <td>Processus equipe</td>
          <td>SM (Samy)</td>
          <td>Equipe</td>
          <td>Retrospective</td>
        </tr>
        <tr>
          <td>Urgence / Incident</td>
          <td>DevOps (Yassir) + SM</td>
          <td>PO</td>
          <td>&lt; 4h</td>
        </tr>
      </tbody>
    </table>

    <h3 id="sec26-3">26.3 Niveaux d'escalade</h3>
    <table>
      <thead>
        <tr>
          <th>Niveau</th>
          <th>Critere</th>
          <th>Qui resout</th>
          <th>Delai</th>
          <th>Exemples MYTHOS</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><span class="badge" style="background:#22c55e;">N1 — Operationnel</span></td>
          <td>Bloqueur technique ponctuel</td>
          <td>Equipe (autonome)</td>
          <td>&lt; 4h</td>
          <td>Bug CSS, erreur de merge, test qui echoue</td>
        </tr>
        <tr>
          <td><span class="badge" style="background:#f59e0b;">N2 — Tactique</span></td>
          <td>Impact sur le sprint ou un deliverable</td>
          <td>SM + PO</td>
          <td>&lt; 24h</td>
          <td>Retard &gt;2 jours, budget API depasse, membre absent</td>
        </tr>
        <tr>
          <td><span class="badge" style="background:#ef4444;">N3 — Strategique</span></td>
          <td>Impact sur le projet ou les objectifs</td>
          <td>Superviseur + Client</td>
          <td>&lt; 48h</td>
          <td>Retard &gt;1 semaine, perte de membre, changement scope majeur</td>
        </tr>
      </tbody>
    </table>

    <h3 id="sec26-4">26.4 Processus de resolution de problemes</h3>
    <h4>Classification</h4>
    <table>
      <thead>
        <tr>
          <th>Priorite</th>
          <th>Delai resolution</th>
          <th>Action</th>
          <th>Exemples</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><span class="badge" style="background:#ef4444;">P0 — BLOQUANT</span></td>
          <td>&lt; 4h</td>
          <td>Hotfix prioritaire, post-mortem obligatoire</td>
          <td>Application down, perte de donnees, faille securite</td>
        </tr>
        <tr>
          <td><span class="badge" style="background:#f59e0b;">P1 — MAJEUR</span></td>
          <td>&lt; 24h</td>
          <td>Top du sprint backlog</td>
          <td>IA incoherente 50%+, streaming casse, auth KO</td>
        </tr>
        <tr>
          <td><span class="badge" style="background:#3b82f6;">P2 — MINEUR</span></td>
          <td>&lt; 1 semaine</td>
          <td>Planifie dans le sprint</td>
          <td>Erreur CSS, timer incorrect, message mal formate</td>
        </tr>
      </tbody>
    </table>

    <h4>Methode des 5 Pourquoi — Exemple</h4>
    <div class="card" style="max-width:100%; margin:12px 0;">
      <div class="card-title">Probleme : "L'IA a genere du contenu incoherent"</div>
      <table>
        <tbody>
          <tr>
            <td><strong>Pourquoi 1 ?</strong></td>
            <td>Le contexte envoye a l'IA etait incomplet</td>
          </tr>
          <tr>
            <td><strong>Pourquoi 2 ?</strong></td>
            <td>Le Game State Manager n'envoyait pas l'historique des actions</td>
          </tr>
          <tr>
            <td><strong>Pourquoi 3 ?</strong></td>
            <td>La structure du game state avait change sans mise a jour du prompt builder</td>
          </tr>
          <tr>
            <td><strong>Pourquoi 4 ?</strong></td>
            <td>Pas de contrat d'interface formel entre Game State et AI Service</td>
          </tr>
          <tr>
            <td><strong>Pourquoi 5 ?</strong></td>
            <td>Sprint 2 surchargé → documentation technique negligee</td>
          </tr>
        </tbody>
      </table>
      <p style="margin-top:8px;"><strong>Action corrective :</strong> Modifier <code>buildPromptContext()</code> + test
        de regression</p>
      <p><strong>Action preventive :</strong> Specification formelle du game_state + "contrat d'interface documente"
        ajoute au DoD</p>
    </div>

    <h4>Diagramme d'Ishikawa — Exemple "Latence IA &gt; 10s"</h4>
    <table>
      <thead>
        <tr>
          <th>Categorie</th>
          <th>Causes identifiees</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Methode</td>
          <td>Prompts trop longs, pas de resume d'historique</td>
        </tr>
        <tr>
          <td>Main d'oeuvre</td>
          <td>Un seul dev IA (Samy), pas de cross-training</td>
        </tr>
        <tr>
          <td>Materiel</td>
          <td>Railway free tier (cold starts), pas de cache Redis</td>
        </tr>
        <tr>
          <td>Milieu</td>
          <td>API Anthropic instable certains jours</td>
        </tr>
        <tr>
          <td>Mesure</td>
          <td>Monitoring insuffisant (pas de P99 mesure)</td>
        </tr>
        <tr>
          <td>Matiere</td>
          <td>Contexte de jeu trop volumineux (100k tokens)</td>
        </tr>
      </tbody>
    </table>
    <p><strong>6 actions resultantes :</strong> Resume de prompt, cache Redis, strategie duale Haiku/Sonnet, monitoring
      P50/P95/P99, timeout client 15s, cross-training IA.</p>

    <h3 id="sec26-5">26.5 Scenarios d'ajustement predifinis</h3>

    <div class="card-grid">
      <div class="card">
        <div class="card-title">Scenario 1 — Retard leger (&lt;3 jours)</div>
        <p><strong>Declencheur :</strong> Tache en retard &gt;2 jours</p>
        <p><strong>Decideur :</strong> SM</p>
        <p><strong>Actions :</strong> Re-prioriser, reallouer les ressources, pair programming</p>
      </div>
      <div class="card">
        <div class="card-title">Scenario 2 — Retard moyen (3-7 jours)</div>
        <p><strong>Declencheur :</strong> Sprint delay &gt;20% SP a J-3</p>
        <p><strong>Decideur :</strong> PO</p>
        <p><strong>Actions :</strong> Re-prioriser (Must Have only), ajuster objectif sprint, communication superviseur
        </p>
      </div>
      <div class="card">
        <div class="card-title">Scenario 3 — Retard majeur (&gt;1 semaine)</div>
        <p><strong>Declencheur :</strong> Milestone en retard &gt;1 semaine</p>
        <p><strong>Decideur :</strong> COPIL</p>
        <p><strong>Actions :</strong> COPIL extraordinaire, options : utiliser sprint buffer, reduction scope, heures
          supplementaires</p>
      </div>
      <div class="card">
        <div class="card-title">Scenario 4 — Perte d'un membre</div>
        <p><strong>Declencheur :</strong> Membre indisponible &gt;3 jours</p>
        <p><strong>Decideur :</strong> PO + SM</p>
        <p><strong>Actions :</strong> Redistribution selon matrice de competences, velocite reduite, scope ajuste</p>
      </div>
      <div class="card">
        <div class="card-title">Scenario 5 — Depassement budget IA</div>
        <p><strong>Niveau 1 (&gt;120%) :</strong> Haiku only + cache agressif</p>
        <p><strong>Niveau 2 (&gt;150%) :</strong> Mocks + quotas par joueur</p>
        <p><strong>Niveau 3 (&gt;200%) :</strong> Changement modele + reduction tours + COPIL</p>
      </div>
      <div class="card">
        <div class="card-title">Scenario 6 — Bug critique production</div>
        <p><strong>Declencheur :</strong> P0 detecte en production</p>
        <p><strong>Actions :</strong> Hotfix immediat, branche hotfix/*, merge direct main + develop, post-mortem sous
          48h</p>
        <p><strong>Objectif :</strong> Resolution &lt;4h</p>
      </div>
    </div>

    <h4>Redistribution en cas d'absence</h4>
    <table>
      <thead>
        <tr>
          <th>Si absent</th>
          <th>Taches reprises par</th>
          <th>Priorites maintenues</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Kays (PO/Archi)</td>
          <td>Samy (decisions temporaires), Youri (backlog basique)</td>
          <td>Pas de nouvelles decisions archi, focus sprint en cours</td>
        </tr>
        <tr>
          <td>Samy (SM/Backend/IA)</td>
          <td>Kays (ceremonies), Yassir (backend basique)</td>
          <td>IA en pause, focus features non-IA</td>
        </tr>
        <tr>
          <td>Youri (Frontend)</td>
          <td>Yassir (UI basique), Kays (composants simples)</td>
          <td>Pas de nouvelles pages, focus corrections existant</td>
        </tr>
        <tr>
          <td>Yassir (DevOps/UX)</td>
          <td>Samy (CI basique), Youri (deploiements manuels)</td>
          <td>Pas de changements infra, deploiements manuels</td>
        </tr>
      </tbody>
    </table>

    <h3 id="sec26-6">26.6 Registre des ajustements (exemples)</h3>
    <table>
      <thead>
        <tr>
          <th>ID</th>
          <th>Sprint</th>
          <th>Type</th>
          <th>Description</th>
          <th>Impact</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>ADJ-001</td>
          <td>Sprint 2</td>
          <td>Scope</td>
          <td>Reduction scope : -5 SP, tests differes</td>
          <td>Completion 90% au lieu de 85%</td>
        </tr>
        <tr>
          <td>ADJ-002</td>
          <td>Sprint 3</td>
          <td>Budget</td>
          <td>Haiku pour setup/validation, cache active</td>
          <td>-40% couts IA attendus</td>
        </tr>
        <tr>
          <td>ADJ-003</td>
          <td>Sprint 4</td>
          <td>Equipe</td>
          <td>Yassir absent 4j, velocite reduite 31→26 SP</td>
          <td>Accessibilite differee a Sprint 5</td>
        </tr>
        <tr>
          <td>ADJ-004</td>
          <td>Sprint 5</td>
          <td>Technique</td>
          <td>Spike latence IA : P95 12s → 4.5s apres 2j optim</td>
          <td>Performance normalisee</td>
        </tr>
        <tr>
          <td>ADJ-005</td>
          <td>Buffer</td>
          <td>Scope</td>
          <td>Admin panel en lecture seule, gestion users → V2</td>
          <td>Livraison simplifiee mais fonctionnelle</td>
        </tr>
      </tbody>
    </table>

    <h3 id="sec26-7">26.7 Post-mortem (template)</h3>
    <p>Structure obligatoire pour tout incident P0 : Resume executif → Chronologie minute par minute → Analyse root
      cause (5 Pourquoi) → Ce qui a bien fonctionne → Ce qui peut etre ameliore → Actions correctives/preventives →
      Lecons apprises → Metriques (TTD, TTR, utilisateurs impactes, sessions perdues).</p>
    <p><strong>5 regles :</strong> Pas de blame, factuel, actionnable, partage avec toute l'equipe, redige sous 48h.</p>

    <h3 id="sec26-8">26.8 Monitoring production continu</h3>
    <table>
      <thead>
        <tr>
          <th>Health Check</th>
          <th>Endpoint / Methode</th>
          <th>Frequence</th>
          <th>Alerte si</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Backend API</td>
          <td><code>GET /api/health</code></td>
          <td>5 min</td>
          <td>Status ≠ 200 pendant 2 checks</td>
        </tr>
        <tr>
          <td>Frontend</td>
          <td>HTTPS check page d'accueil</td>
          <td>5 min</td>
          <td>Status ≠ 200 ou TTL &gt; 10s</td>
        </tr>
        <tr>
          <td>WebSocket</td>
          <td>Port check 443/WSS</td>
          <td>5 min</td>
          <td>Port ferme</td>
        </tr>
        <tr>
          <td>PostgreSQL</td>
          <td>Keyword check via Railway</td>
          <td>10 min</td>
          <td>Keyword absent</td>
        </tr>
        <tr>
          <td>Redis</td>
          <td>PING via Upstash dashboard</td>
          <td>10 min</td>
          <td>PONG absent</td>
        </tr>
      </tbody>
    </table>

    <h4>Metriques continues</h4>
    <table>
      <thead>
        <tr>
          <th>Metrique</th>
          <th>Cible</th>
          <th>Alerte</th>
          <th>Source</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>API Response Time P95</td>
          <td>&lt; 500ms</td>
          <td>&gt; 1000ms</td>
          <td>Logs NestJS</td>
        </tr>
        <tr>
          <td>AI Response Time P95</td>
          <td>&lt; 5s</td>
          <td>&gt; 10s</td>
          <td>AI Service logs</td>
        </tr>
        <tr>
          <td>Error Rate</td>
          <td>&lt; 1%</td>
          <td>&gt; 5%</td>
          <td>Logs + Sentry</td>
        </tr>
        <tr>
          <td>Active WebSocket Connections</td>
          <td>—</td>
          <td>&gt; 100 (capacity)</td>
          <td>Socket.io admin</td>
        </tr>
        <tr>
          <td>Memory Usage</td>
          <td>&lt; 70%</td>
          <td>&gt; 85%</td>
          <td>Railway metrics</td>
        </tr>
        <tr>
          <td>DB Connection Pool</td>
          <td>&lt; 80% utilise</td>
          <td>&gt; 90%</td>
          <td>Prisma metrics</td>
        </tr>
        <tr>
          <td>Redis Memory</td>
          <td>&lt; 60%</td>
          <td>&gt; 80%</td>
          <td>Upstash dashboard</td>
        </tr>
      </tbody>
    </table>

    <h3 id="sec26-9">26.9 Calendrier de pilotage (14 semaines)</h3>
    <div class="mermaid-container">
      <div class="mermaid">
        gantt
        title Calendrier des instances de pilotage
        dateFormat YYYY-MM-DD
        axisFormat %d/%m

        section Sprints
        Sprint 0 (Setup) :s0, 2026-03-03, 1w
        Sprint 1 :s1, 2026-03-10, 2w
        Sprint 2 :s2, 2026-03-24, 2w
        Sprint 3 :s3, 2026-04-07, 2w
        Sprint 4 :s4, 2026-04-21, 2w
        Sprint 5 :s5, 2026-05-05, 2w
        Sprint Buffer :sb, 2026-05-19, 2w

        section COPIL
        COPIL 1 :milestone, 2026-03-31, 0d
        COPIL 2 :milestone, 2026-04-28, 0d
        COPIL 3 :milestone, 2026-05-26, 0d
        COPIL 4 (Final) :milestone, 2026-06-02, 0d

        section Audits
        Audit mi-parcours :milestone, 2026-04-21, 0d
        Audit final :milestone, 2026-05-30, 0d
      </div>
    </div>

    <h3 id="sec26-10">26.10 Canaux Discord</h3>
    <table>
      <thead>
        <tr>
          <th>Canal</th>
          <th>Usage</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>#general</td>
          <td>Communication equipe informelle</td>
        </tr>
        <tr>
          <td>#daily</td>
          <td>Daily standups async (format strict)</td>
        </tr>
        <tr>
          <td>#frontend</td>
          <td>Discussions UI/UX, composants</td>
        </tr>
        <tr>
          <td>#backend</td>
          <td>Discussions API, BDD, IA</td>
        </tr>
        <tr>
          <td>#devops</td>
          <td>CI/CD, deploiements, monitoring</td>
        </tr>
        <tr>
          <td>#bugs</td>
          <td>Rapports de bugs, triage</td>
        </tr>
        <tr>
          <td>#code-review</td>
          <td>Notifications PRs, discussions review</td>
        </tr>
        <tr>
          <td>#deployments</td>
          <td>Annonces deploiement, rollbacks</td>
        </tr>
        <tr>
          <td>#alerts</td>
          <td>Alertes automatiques (UptimeRobot, CI)</td>
        </tr>
        <tr>
          <td>#random</td>
          <td>Off-topic, team building</td>
        </tr>
      </tbody>
    </table>


    <!-- ---- FOOTER ---- -->
    <div class="footer-note">
      <p><strong>MYTHOS</strong> — Cahier des Charges Complet v1.0</p>
      <p>Workshop 5A TL — S1 — Bloc 1 RNCP38822</p>
      <p>Equipe : Kays ZAHIDI, Samy ZEROUALI, Youri EMMANUEL, Yassir SABBAR</p>
      <p>Date : Fevrier 2026</p>
      <p style="margin-top:10px; font-size:0.9em; color:#94a3b8;">
        Pour exporter en PDF : <strong>Ctrl+P</strong> (ou Cmd+P) → Destination : "Enregistrer au format PDF" → Marges :
        Par defaut → Cocher <strong>"En-tetes et pieds de page"</strong> pour la numerotation des pages
      </p>
    </div>

  </div><!-- end content -->

  <!-- Page number footer (uses CSS @page counter for browsers that support it,
       plus a fixed fallback for Chrome/Edge) -->
  <!-- <div class="print-page-number">MYTHOS — Cahier des Charges</div> -->

  <script>
    mermaid.initialize({
      startOnLoad: true,
      theme: 'default',
      securityLevel: 'loose',
      fontFamily: 'Inter, sans-serif',
      flowchart: { useMaxWidth: true, htmlLabels: true },
      sequence: { useMaxWidth: true },
      gantt: { useMaxWidth: true },
    });

    // After mermaid renders, constrain oversized SVGs so they don't cause blank pages
    document.addEventListener('DOMContentLoaded', function () {
      setTimeout(function () {
        document.querySelectorAll('.mermaid-container svg').forEach(function (svg) {
          svg.style.maxWidth = '100%';
          svg.style.height = 'auto';
          svg.removeAttribute('height');
        });
      }, 1500);
    });
  </script>

</body>

</html>